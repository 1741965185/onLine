{"remainingRequest":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/IdeaProjects/onLinePayMerchant/src/views/FundTransfer/FundTransfer.vue?vue&type=style&index=0&id=849178f6&scoped=true&lang=css","dependencies":[{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/src/views/FundTransfer/FundTransfer.vue","mtime":1730111979292},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5mdW5kLXRyYW5zZmVyIHsKCXBvc2l0aW9uOiByZWxhdGl2ZTsKfQoKLmZ1bmQtdHJhbnNmZXJfX2hlYWRlciB7CglwYWRkaW5nOiAxN3B4IDAgMCAxMjFweDsKCWhlaWdodDogNjRweDsKfQoKLmZ1bmQtdHJhbnNmZXJfX2JhY2staWNvbiB7Cgl3aWR0aDogMzFweDsKCWhlaWdodDogMzFweDsKCWN1cnNvcjogcG9pbnRlcjsKfQoKLmRhd25fdW9faWNvbnsKCXdpZHRoOiAxNHB4OwoJaGVpZ2h0OiA4cHg7Cn0KCi5mdW5kLXRyYW5zZmVyX19jb250ZW50IHsKCXdpZHRoOiAxMDAlOwoJZGlzcGxheTogZmxleDsKCWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CglhbGlnbi1pdGVtczogY2VudGVyOwp9CgouZnVuZC10cmFuc2Zlcl9fdGl0bGUgewoJZm9udC13ZWlnaHQ6IDYwMDsKCWZvbnQtc2l6ZTogMjhweDsKCWNvbG9yOiAjMzY0QTYzOwoJbGluZS1oZWlnaHQ6IDM2cHg7CgltYXJnaW46IDYwcHggMCAxNnB4Owp9CgouZnVuZC10cmFuc2Zlcl9fc3VidGl0bGUgewoJZm9udC1zaXplOiAxNHB4OwoJY29sb3I6ICM1MjY0ODQ7CglsaW5lLWhlaWdodDogMjBweDsKCW1hcmdpbi1ib3R0b206IDI0cHg7Cn0KCi5mdW5kLXRyYW5zZmVyX19mb3JtIHsKCXdpZHRoOiA1MTZweDsKfQoKLmZ1bmQtdHJhbnNmZXJfX2FjY291bnRzIHsKCWJhY2tncm91bmQtY29sb3I6ICNmZmY7Cglib3JkZXI6IDFweCBzb2xpZCAjZGJkZmVhOwoJYm9yZGVyLXJhZGl1czogMTZweDsKCW1hcmdpbi1ib3R0b206IDI0cHg7CglvdmVyZmxvdzogaGlkZGVuOwp9CgouZnVuZC10cmFuc2Zlcl9fcm93IHsKCWRpc3BsYXk6IGZsZXg7CglhbGlnbi1pdGVtczogY2VudGVyOwoJcGFkZGluZzogMjBweDsKfQoKLmZ1bmQtdHJhbnNmZXJfX3Jvdy0tZGVzdGluYXRpb24gewoJYmFja2dyb3VuZC1jb2xvcjogI2Y3ZjlmZTsKCWJvcmRlci10b3A6IDFweCBzb2xpZCAjZGJkZmVhOwp9CgouZnVuZC10cmFuc2Zlcl9fbGFiZWwgewoJd2lkdGg6IDE0cHg7Cglmb250LXNpemU6IDE0cHg7Cgljb2xvcjogIzgwOTRhZTsKCW1hcmdpbi1yaWdodDogMjBweDsKfQoKLmZ1bmQtdHJhbnNmZXJfX3N3YXAtd3JhcHBlciB7Cglwb3NpdGlvbjogcmVsYXRpdmU7Cn0KCi5mdW5kLXRyYW5zZmVyX19zd2FwLWljb24gewoJcG9zaXRpb246IGFic29sdXRlOwoJcmlnaHQ6IDI5cHg7Cgl0b3A6IDUwJTsKCXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTsKCXdpZHRoOiA0MHB4OwoJaGVpZ2h0OiA0MHB4OwoJY3Vyc29yOiBwb2ludGVyOwp9CgouZnVuZC10cmFuc2Zlcl9fc2VsZWN0IHsKCWZsZXgtZ3JvdzogMTsKfQoKLmZ1bmQtdHJhbnNmZXJfX3NlbGVjdC1jb250ZW50IHsKCWRpc3BsYXk6IGZsZXg7CglhbGlnbi1pdGVtczogY2VudGVyOwp9CgouZnVuZC10cmFuc2Zlcl9fYWNjb3VudC1pY29uIHsKCXdpZHRoOiAzNnB4OwoJaGVpZ2h0OiAyNHB4OwoJbWFyZ2luLXJpZ2h0OiAxMnB4Owp9CgouZnVuZC10cmFuc2Zlcl9fYWNjb3VudC10ZXh0IHsKCWZvbnQtc2l6ZTogMTRweDsKCWNvbG9yOiAjMzY0YTYzOwoJZm9udC13ZWlnaHQ6IDUwMDsKfQoKLmZ1bmQtdHJhbnNmZXJfX2Ftb3VudCB7CgltYXJnaW4tYm90dG9tOiA0MHB4Owp9CgouZnVuZC10cmFuc2Zlcl9fYW1vdW50LWxhYmVsIHsKCWRpc3BsYXk6IGJsb2NrOwoJZm9udC1zaXplOiAxNHB4OwoJY29sb3I6ICMzNjRhNjM7CgltYXJnaW4tYm90dG9tOiA0cHg7Cn0KCi5mdW5kLXRyYW5zZmVyX19hbW91bnQtaW5wdXQtY29udGFpbmVyIHsKCWRpc3BsYXk6IGZsZXg7CglhbGlnbi1pdGVtczogY2VudGVyOwoJYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKCWJvcmRlcjogMXB4IHNvbGlkICNkYmRmZWE7Cglib3JkZXItcmFkaXVzOiAxNnB4OwoJcGFkZGluZzogMTJweCAxNnB4OwoJbWFyZ2luLWJvdHRvbTogNnB4OwoJcG9zaXRpb246IHJlbGF0aXZlOwp9CgouZnVuZC10cmFuc2Zlcl9fYW1vdW50LWlucHV0IHsKCWZsZXgtZ3JvdzogMTsKCWJvcmRlcjogbm9uZTsKCWZvbnQtc2l6ZTogMjRweDsKCWNvbG9yOiAjMzY0YTYzOwoJZm9udC13ZWlnaHQ6IDUwMDsKCW91dGxpbmU6IG5vbmU7Cn0KCi5mdW5kLXRyYW5zZmVyX19jdXJyZW5jeS1zZWxlY3RvciB7Cglwb3NpdGlvbjogcmVsYXRpdmU7CgltYXJnaW4tbGVmdDogYXV0bzsKfQoKLmZ1bmQtdHJhbnNmZXJfX2N1cnJlbmN5LXNlbGVjdCB7CglkaXNwbGF5OiBmbGV4OwoJYWxpZ24taXRlbXM6IGNlbnRlcjsKCWN1cnNvcjogcG9pbnRlcjsKfQoKLmZ1bmQtdHJhbnNmZXJfX2N1cnJlbmN5LWljb24gewoJd2lkdGg6IDMwcHg7CgloZWlnaHQ6IDMwcHg7CgltYXJnaW4tcmlnaHQ6IDZweDsKfQoKLmZ1bmQtdHJhbnNmZXJfX2N1cnJlbmN5LXRleHQgewoJZm9udC1zaXplOiAyNHB4OwoJY29sb3I6ICMzNjRhNjM7Cglmb250LXdlaWdodDogNTAwOwoJbWFyZ2luLXJpZ2h0OiAxMnB4Owp9CgouZnVuZC10cmFuc2Zlcl9fY3VycmVuY3ktZHJvcGRvd24gewoJcG9zaXRpb246IGFic29sdXRlOwoJdG9wOiBjYWxjKDEwMCUgKyA4cHgpOwoJcmlnaHQ6IDA7CgliYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwoJYm9yZGVyOiAxcHggc29saWQgI2RiZGZlYTsKCWJvcmRlci1yYWRpdXM6IDRweDsKCXotaW5kZXg6IDEwOwoJbWluLXdpZHRoOiAxMjBweDsKCW1heC1oZWlnaHQ6IDQwMHB4OwoJb3ZlcmZsb3cteTogYXV0bzsKCWJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMSk7Cn0KCi5mdW5kLXRyYW5zZmVyX19jdXJyZW5jeS1vcHRpb24gewoJZGlzcGxheTogZmxleDsKCWFsaWduLWl0ZW1zOiBjZW50ZXI7CglqdXN0aWZ5LWNvbnRlbnQ6IHN0YXJ0OwoJcGFkZGluZzogMTBweDsKCgljdXJzb3I6IHBvaW50ZXI7Cn0KCi5mdW5kLXRyYW5zZmVyX19jdXJyZW5jeS1vcHRpb246aG92ZXIgewoJYmFja2dyb3VuZC1jb2xvcjogI2Y3ZjlmZTsKfQoKLmZ1bmQtdHJhbnNmZXJfX2N1cnJlbmN5LW5hbWUgewoJZm9udC1zaXplOiAyMHB4OwoJY29sb3I6ICMzNjRhNjM7CgltYXJnaW4tcmlnaHQ6IDEycHg7Cn0KCi5mdW5kLXRyYW5zZmVyX19iYWxhbmNlIHsKCWRpc3BsYXk6IGZsZXg7CglhbGlnbi1pdGVtczogY2VudGVyOwoJZm9udC1zaXplOiAxNHB4Owp9CgouZnVuZC10cmFuc2Zlcl9fYmFsYW5jZS1sYWJlbCB7Cgljb2xvcjogIzgwOTRhZTsKCW1hcmdpbi1yaWdodDogMTJweDsKfQoKLmZ1bmQtdHJhbnNmZXJfX2JhbGFuY2UtYW1vdW50IHsKCWNvbG9yOiAjNTI2NDg0OwoJZm9udC13ZWlnaHQ6IDUwMDsKfQoKLmZ1bmQtdHJhbnNmZXJfX3N1Ym1pdCB7Cgl3aWR0aDogMTAwJTsKCWhlaWdodDogNDRweDsKCWJhY2tncm91bmQ6ICM3RjhERkY7Cglib3JkZXItcmFkaXVzOiA0cHg7Cgljb2xvcjogI2ZmZjsKCWJvcmRlcjogbm9uZTsKCWZvbnQtc2l6ZTogMTRweDsKCWZvbnQtd2VpZ2h0OiA1MDA7CgljdXJzb3I6IHBvaW50ZXI7Cn0KCi5mdW5kLXRyYW5zZmVyX19zdWJtaXQ6aG92ZXIgewoJYmFja2dyb3VuZDogIzZiN2FmZjsKfQoKLmZ1bmQtdHJhbnNmZXJfX3N1Ym1pdDpkaXNhYmxlZCB7CgliYWNrZ3JvdW5kLWNvbG9yOiAjZGJkZmVhOwoJY3Vyc29yOiBub3QtYWxsb3dlZDsKfQo="},{"version":3,"sources":["FundTransfer.vue"],"names":[],"mappings":";AA0SA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"FundTransfer.vue","sourceRoot":"src/views/FundTransfer","sourcesContent":["<template>\n\t<div class=\"fund-transfer\" @click=\"handleGlobalClick\">\n\t\t<div class=\"fund-transfer__header\">\n\t\t\t<img\n\t\t\t\tclass=\"fund-transfer__back-icon\"\n\t\t\t\tsrc=\"./assets/img/SketchPngcf0409b4e46f3940a18dee8cef0a718f8e87f756e6ad8a6a090d89e68dd18479.png\"\n\t\t\t\t@click=\"goBack\"\n\t\t\t/>\n\t\t</div>\n\n\t\t<div class=\"fund-transfer__content\">\n\t\t\t<h1 class=\"fund-transfer__title\">{{$t(\"card.transfer\")}}</h1>\n\t\t\t<p class=\"fund-transfer__subtitle\" v-if=\"!isSwapped\">{{$t(\"card.wallet_balance\")}}{{$t(\"card.transfer_to\")}}OnlinePay Card</p>\n\t\t\t<p class=\"fund-transfer__subtitle\" v-else>OnlinePay Card{{$t(\"card.transfer_to\")}}{{$t(\"card.wallet_balance\")}}</p>\n\n\t\t\t<div class=\"fund-transfer__form\">\n\t\t\t\t<!-- Transfer Account Section -->\n\t\t\t\t<div class=\"fund-transfer__accounts\">\n\t\t\t\t\t<div class=\"fund-transfer__row\">\n\t\t\t\t\t\t<span class=\"fund-transfer__label\">{{$t(\"card.from\")}}</span>\n\t\t\t\t\t\t<div class=\"fund-transfer__select\">\n\n\t\t\t\t\t\t\t<div class=\"fund-transfer__select-content\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t:src=\"isSwapped ? require('./assets/img/card_select_fundtransfer.png') : require('./assets/img/wallet_select_foundtransfer.png')\"\n\t\t\t\t\t\t\t\t\t:alt=\"isSwapped ? 'card' : 'Wallet'\"\n\t\t\t\t\t\t\t\t\tclass=\"fund-transfer__account-icon\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span class=\"fund-transfer__account-text\">\n                  {{ isSwapped ? selectedCard : selectedWallet }}\n                </span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"fund-transfer__swap-wrapper\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc=\"./assets/img/swap_found.png\"\n\t\t\t\t\t\t\tclass=\"fund-transfer__swap-icon\"\n\t\t\t\t\t\t\t@click=\"handleSwap\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"fund-transfer__row fund-transfer__row--destination\">\n\t\t\t\t\t\t<span class=\"fund-transfer__label\">{{$t(\"card.to\")}}</span>\n\t\t\t\t\t\t<div class=\"fund-transfer__select\">\n\t\t\t\t\t\t\t<div class=\"fund-transfer__select-content\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t:src=\"!isSwapped ? require('./assets/img/card_select_fundtransfer.png') : require('./assets/img/wallet_select_foundtransfer.png')\"\n\t\t\t\t\t\t\t\t\t:alt=\"!isSwapped ? 'card' : 'Wallet'\"\n\t\t\t\t\t\t\t\t\tclass=\"fund-transfer__account-icon\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span class=\"fund-transfer__account-text\">\n                  {{ isSwapped ? selectedWallet : selectedCard }}\n                </span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Amount Input Section -->\n\t\t\t\t<div class=\"fund-transfer__amount\">\n\t\t\t\t\t<span class=\"fund-transfer__amount-label\">{{$t(\"card.amount\")}}</span>\n\t\t\t\t\t<div class=\"fund-transfer__amount-input-container\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tv-model.trim=\"amount\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclass=\"fund-transfer__amount-input\"\n\t\t\t\t\t\t\tplaceholder=\"0\"\n\t\t\t\t\t\t\t@input=\"validateAmount\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"fund-transfer__currency-selector\">\n\t\t\t\t\t\t\t<section\n\t\t\t\t\t\t\t\tclass=\"fund-transfer__currency-select\"\n\t\t\t\t\t\t\t\t@click.stop=\"toggleCurrencyDropdown\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t:src=\"`/currency/${selectedCurrencyMap.flag}.png`\"\n\t\t\t\t\t\t\t\t\talt=\"currency\"\n\t\t\t\t\t\t\t\t\tclass=\"fund-transfer__currency-icon\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"fund-transfer__currency-text\">\n                  {{ selectedCurrencyMap.currency }}\n                </span>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclass=\"dawn_uo_icon\"\n\t\t\t\t\t\t\t\t\tsrc=\"./assets/img/SketchPng32e58d36e33be15afc5c418asdsadada2a8758484ada7f5588858e3490.png\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</section>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-show=\"isCurrencyDropdownOpen\"\n\t\t\t\t\t\t\tclass=\"fund-transfer__currency-dropdown\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-for=\"currency in sortedAccounts\"\n\t\t\t\t\t\t\t\t:key=\"currency.currency\"\n\t\t\t\t\t\t\t\tclass=\"fund-transfer__currency-option\"\n\t\t\t\t\t\t\t\t@click.stop=\"selectCurrency(currency)\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t:src=\"`/currency/${currency.flag}.png`\"\n\t\t\t\t\t\t\t\t\talt=\"currency\"\n\t\t\t\t\t\t\t\t\tclass=\"fund-transfer__currency-icon\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"fund-transfer__currency-name\">\n                    {{ currency.currency }}\n                  </span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"fund-transfer__balance\">\n\t\t\t\t\t\t<span class=\"fund-transfer__balance-label\">{{$t(\"card.available_balance\")}}:\n\t\t\t\t\t\t<span class=\"fund-transfer__balance-amount\">\n              {{selectedCurrencyMap.overAmount}} {{selectedCurrencyMap.currency}}\n            </span></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Submit Button -->\n\t\t\t\t<el-button\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t:loading=\"loading\"\n\t\t\t\t\tclass=\"fund-transfer__submit\"\n\t\t\t\t\t@click=\"handleTransfer\"\n\t\t\t\t\t:disabled=\"!isValidAmount\"\n\t\t\t\t>\n\t\t\t\t\t{{$t(\"card.confirm\")}}\n\t\t\t\t</el-button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport router from \"@/router\";\nimport { transferIn, transferOut } from \"@/api/certification\";\nimport { getAccountBalance } from \"@/api/home\";\nimport i18n from \"@/i18n\";\n\nexport default {\n\tname: 'FundTransfer',\n\n\tdata() {\n\t\treturn {\n\t\t\tselectedWallet: i18n.t('card.wallet'),\n\t\t\tselectedCard: '5561...3404',\n\t\t\tcurrentWalletCard: {},\n\t\t\tmerAccount: [],\n\t\t\tHKDAccount: [{\n\t\t\t\tcurrency: \"HKD\",\n\t\t\t\toverAmount: \"0.00\",\n\t\t\t\tflag: \"HKD\"\n\t\t\t}],\n\t\t\tamount: '',\n\t\t\tloading: false,\n\t\t\tisSwapped: false,\n\t\t\tselectedCurrencyMap: {\n\t\t\t\tcurrency: \"USDC\",\n\t\t\t\toverAmount: \"0.00\",\n\t\t\t\tflag: \"USDC\"\n\t\t\t},\n\t\t\tisCurrencyDropdownOpen: false,\n\t\t\tisValidAmount: false\n\t\t}\n\t},\n\tcomputed: {\n\t\tsortedAccounts() {\n\t\t\t// 根据 isSwapped 的值返回排序后的数组\n\t\t\treturn this.isSwapped\n\t\t\t\t? this.HKDAccount //\n\t\t\t\t: this.merAccount; // 原始顺序\n\t\t},\n\n\t},\n\tcreated() {\n\tthis.currentWalletCard=this.$route.params.currentCard;\n\tthis.HKDAccount[0].overAmount=this.$route.params.currentCard.amount;\n\tthis.HKDAccount[0].currency=this.$route.params.currentCard.currency;\n\tthis.HKDAccount[0].flag=this.$route.params.currentCard.currency;\n\tthis.selectedCard=this.$route.params.currentCard.cardNo;\n\t\tthis.fetchAccountBalance();\n\t\t// 添加全局点击事件监听\n\t\tdocument.addEventListener('click', this.handleGlobalClick);\n\t},\n\n\tdestroyed() {\n\t\t// 移除全局点击事件监听\n\t\tdocument.removeEventListener('click', this.handleGlobalClick);\n\t},\n\n\tmethods: {\n\t\t// 获取账户余额信息\n\t\tasync fetchAccountBalance() {\n\t\t\ttry {\n\t\t\t\tconst merNo = sessionStorage.getItem('merNo');\n\t\t\t\tconst res = await getAccountBalance({\n\t\t\t\t\tmerNo,\n\t\t\t\t\tisAll: 1,\n\t\t\t\t\tcurrency: 'all'\n\t\t\t\t});\n\n\t\t\t\tif (res.status === 200) {\n\t\t\t\t\tthis.merAccount = res.data.merAccount;\n\t\t\t\t\tconst usdcAccount = res.data.merAccount.find(\n\t\t\t\t\t\titem => item.currency === 'USDC'\n\t\t\t\t\t);\n\t\t\t\t\tif (usdcAccount) {\n\t\t\t\t\t\tthis.selectedCurrencyMap = usdcAccount;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis.$message.error('获取账户余额失败');\n\t\t\t}\n\t\t},\n\n\t\t// 切换转账方向\n\t\thandleSwap() {\n\t\t\tthis.isSwapped = !this.isSwapped;\n\t\t\tif (this.isSwapped) {\n\t\t\t\tthis.selectedCurrencyMap = this.HKDAccount[0];\n\t\t\t} else {\n\t\t\t\tthis.selectedCurrencyMap = this.merAccount.find(\n\t\t\t\t\titem => item.currency === 'USDC'\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\n\t\t// 切换币种选择下拉框\n\t\ttoggleCurrencyDropdown() {\n\t\t\tthis.isCurrencyDropdownOpen = !this.isCurrencyDropdownOpen;\n\t\t},\n\n\t\t// 选择币种\n\t\tselectCurrency(currency) {\n\t\t\tthis.selectedCurrencyMap = currency;\n\t\t\tthis.isCurrencyDropdownOpen = false;\n\t\t\tthis.validateAmount();\n\t\t},\n\n\t\t// 验证转账金额\n\t\tvalidateAmount() {\n\t\t\tconst numAmount = parseFloat(this.amount);\n\t\t\tconst availableBalance = parseFloat(this.selectedCurrencyMap.overAmount);\n\n\t\t\tthis.isValidAmount = !isNaN(numAmount) &&\n\t\t\t\tnumAmount > 0 &&\n\t\t\t\tnumAmount <= availableBalance;\n\t\t},\n\n\t\t// 处理转账\n\t\tasync handleTransfer() {\n\t\t\tif (!this.isValidAmount || this.loading) return;\n\n\t\t\tthis.loading = true;\n\n\t\t\ttry {\n\t\t\t\tconst transferData = {\n\t\t\t\t\tcardId: this.$route.params.currentCard.id,\n\t\t\t\t\tamount: this.amount,\n\t\t\t\t\tcurrency: this.selectedCurrencyMap.currency,\n\t\t\t\t};\n\n\t\t\t\tconst transferMethod = this.isSwapped ? transferOut : transferIn;\n\t\t\t\tconst response = await transferMethod(transferData);\n\n\t\t\t\tif (response.status === 200) {\n\t\t\t\t\tthis.$message.success(response.msg);\n\t\t\t\t\tawait this.fetchAccountBalance();\n\t\t\t\t\tthis.goBack();\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t//\t\tthis.$message.error(error.msg);\n\t\t\t} finally {\n\t\t\t\tthis.loading = false;\n\t\t\t}\n\t\t},\n\n\t\t// 处理全局点击事件\n\t\thandleGlobalClick(event) {\n\t\t\tconst currencySelector = event.target.closest('.fund-transfer__currency-selector');\n\t\t\tif (!currencySelector) {\n\t\t\t\tthis.isCurrencyDropdownOpen = false;\n\t\t\t}\n\t\t},\n\n\t\t// 返回上一页\n\t\tgoBack() {\n\t\t\trouter.back();\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n.fund-transfer {\n\tposition: relative;\n}\n\n.fund-transfer__header {\n\tpadding: 17px 0 0 121px;\n\theight: 64px;\n}\n\n.fund-transfer__back-icon {\n\twidth: 31px;\n\theight: 31px;\n\tcursor: pointer;\n}\n\n.dawn_uo_icon{\n\twidth: 14px;\n\theight: 8px;\n}\n\n.fund-transfer__content {\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n}\n\n.fund-transfer__title {\n\tfont-weight: 600;\n\tfont-size: 28px;\n\tcolor: #364A63;\n\tline-height: 36px;\n\tmargin: 60px 0 16px;\n}\n\n.fund-transfer__subtitle {\n\tfont-size: 14px;\n\tcolor: #526484;\n\tline-height: 20px;\n\tmargin-bottom: 24px;\n}\n\n.fund-transfer__form {\n\twidth: 516px;\n}\n\n.fund-transfer__accounts {\n\tbackground-color: #fff;\n\tborder: 1px solid #dbdfea;\n\tborder-radius: 16px;\n\tmargin-bottom: 24px;\n\toverflow: hidden;\n}\n\n.fund-transfer__row {\n\tdisplay: flex;\n\talign-items: center;\n\tpadding: 20px;\n}\n\n.fund-transfer__row--destination {\n\tbackground-color: #f7f9fe;\n\tborder-top: 1px solid #dbdfea;\n}\n\n.fund-transfer__label {\n\twidth: 14px;\n\tfont-size: 14px;\n\tcolor: #8094ae;\n\tmargin-right: 20px;\n}\n\n.fund-transfer__swap-wrapper {\n\tposition: relative;\n}\n\n.fund-transfer__swap-icon {\n\tposition: absolute;\n\tright: 29px;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n\twidth: 40px;\n\theight: 40px;\n\tcursor: pointer;\n}\n\n.fund-transfer__select {\n\tflex-grow: 1;\n}\n\n.fund-transfer__select-content {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.fund-transfer__account-icon {\n\twidth: 36px;\n\theight: 24px;\n\tmargin-right: 12px;\n}\n\n.fund-transfer__account-text {\n\tfont-size: 14px;\n\tcolor: #364a63;\n\tfont-weight: 500;\n}\n\n.fund-transfer__amount {\n\tmargin-bottom: 40px;\n}\n\n.fund-transfer__amount-label {\n\tdisplay: block;\n\tfont-size: 14px;\n\tcolor: #364a63;\n\tmargin-bottom: 4px;\n}\n\n.fund-transfer__amount-input-container {\n\tdisplay: flex;\n\talign-items: center;\n\tbackground-color: #fff;\n\tborder: 1px solid #dbdfea;\n\tborder-radius: 16px;\n\tpadding: 12px 16px;\n\tmargin-bottom: 6px;\n\tposition: relative;\n}\n\n.fund-transfer__amount-input {\n\tflex-grow: 1;\n\tborder: none;\n\tfont-size: 24px;\n\tcolor: #364a63;\n\tfont-weight: 500;\n\toutline: none;\n}\n\n.fund-transfer__currency-selector {\n\tposition: relative;\n\tmargin-left: auto;\n}\n\n.fund-transfer__currency-select {\n\tdisplay: flex;\n\talign-items: center;\n\tcursor: pointer;\n}\n\n.fund-transfer__currency-icon {\n\twidth: 30px;\n\theight: 30px;\n\tmargin-right: 6px;\n}\n\n.fund-transfer__currency-text {\n\tfont-size: 24px;\n\tcolor: #364a63;\n\tfont-weight: 500;\n\tmargin-right: 12px;\n}\n\n.fund-transfer__currency-dropdown {\n\tposition: absolute;\n\ttop: calc(100% + 8px);\n\tright: 0;\n\tbackground-color: #fff;\n\tborder: 1px solid #dbdfea;\n\tborder-radius: 4px;\n\tz-index: 10;\n\tmin-width: 120px;\n\tmax-height: 400px;\n\toverflow-y: auto;\n\tbox-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.fund-transfer__currency-option {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: start;\n\tpadding: 10px;\n\n\tcursor: pointer;\n}\n\n.fund-transfer__currency-option:hover {\n\tbackground-color: #f7f9fe;\n}\n\n.fund-transfer__currency-name {\n\tfont-size: 20px;\n\tcolor: #364a63;\n\tmargin-right: 12px;\n}\n\n.fund-transfer__balance {\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 14px;\n}\n\n.fund-transfer__balance-label {\n\tcolor: #8094ae;\n\tmargin-right: 12px;\n}\n\n.fund-transfer__balance-amount {\n\tcolor: #526484;\n\tfont-weight: 500;\n}\n\n.fund-transfer__submit {\n\twidth: 100%;\n\theight: 44px;\n\tbackground: #7F8DFF;\n\tborder-radius: 4px;\n\tcolor: #fff;\n\tborder: none;\n\tfont-size: 14px;\n\tfont-weight: 500;\n\tcursor: pointer;\n}\n\n.fund-transfer__submit:hover {\n\tbackground: #6b7aff;\n}\n\n.fund-transfer__submit:disabled {\n\tbackground-color: #dbdfea;\n\tcursor: not-allowed;\n}\n</style>"]}]}