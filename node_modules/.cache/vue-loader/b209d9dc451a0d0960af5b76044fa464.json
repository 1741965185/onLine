{"remainingRequest":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/IdeaProjects/onLinePayMerchant/src/views/BusinessManage/order-tracking.vue?vue&type=style&index=0&id=c0d776d4&scoped=true&lang=less","dependencies":[{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/src/views/BusinessManage/order-tracking.vue","mtime":1709274077466},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CkBpbXBvcnQgIi4uLy4uL2Fzc2V0cy9zdHlsZXMvdGVtcGxhdGUiOwo="},{"version":3,"sources":["order-tracking.vue"],"names":[],"mappings":";AAkRA","file":"order-tracking.vue","sourceRoot":"src/views/BusinessManage","sourcesContent":["<template>\n\t<div class=\"app-container\">\n\t\t<h3 class=\"page-title mb28\">{{$t(\"orderTracking.orderTracking\")}}</h3>\n\t\t<el-tabs>\n\t\t\t<!-- 订单跟踪tab-content -->\n\t\t\t<el-tab-pane name=\"0\">\n\t\t\t\t<span slot=\"label\"><svg-icon icon-class=\"gz\" />&nbsp;{{$t(\"orderTracking.orderTracking\")}}</span>\n\n\t\t\t\t<div class=\"Flex spaceB alignC card-tools-toggle\">\n\t\t\t\t\t<div class=\"Flex alignC\">\n\t\t\t\t\t\t<page-size-select\n\t\t\t\t\t\t\tclass=\"mr12\"\n\t\t\t\t\t\t\t:limit.sync=\"form.pageSize\"\n\t\t\t\t\t\t\t@changeSize=\"$refs['order-search-form'].getList(1)\"\n\t\t\t\t\t\t></page-size-select>\n\t\t\t\t\t\t<div class=\"icon-hover-effect\" @click=\"showScreen = !showScreen\">\n\t\t\t\t\t\t\t<svg-icon icon-class=\"select\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span class=\"download-btn cp\" @click=\"orderDownLoad\">\n\t\t\t\t\t\t\t<svg-icon icon-class=\"download\" />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!-- 订单跟踪搜索组件 -->\n\t\t\t\t<search-form\n\t\t\t\t\tref=\"order-search-form\"\n\t\t\t\t\tv-show=\"showScreen\"\n\t\t\t\t\t:option=\"searchOption\"\n\t\t\t\t\t:formSearch=\"form\"\n\t\t\t\t\t@getSearchForm=\"getSearchForm($event, 1)\"\n\t\t\t\t></search-form>\n\t\t\t\t<el-table\n\t\t\t\t\tref=\"multipleTable\"\n\t\t\t\t\t:data=\"tableData\"\n\t\t\t\t\ttooltip-effect=\"dark\"\n\t\t\t\t\tstyle=\"width: 100%\"\n\t\t\t\t\tv-loading=\"loading\"\n\t\t\t\t\t@selection-change=\"handleSelectionChange\"\n\t\t\t\t>\n\t\t\t\t\t<el-table-column type=\"selection\" width=\"55\"></el-table-column>\n\t\t\t\t\t<el-table-column v-if=\"merType === 0\" prop=\"tradeNo\" min-width=\"140\" :label=\"$t('orderList.merchantID')\">\n\t\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t\t{{ scope.row.subMerNo == 0 ? scope.row.merNo : scope.row.subMerNo }}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</el-table-column>\n\t\t\t\t\t<el-table-column prop=\"subMerNo\"  :label=\"$t('sysText.subMerchantAccount')\"></el-table-column>\n\t\t\t\t\t<el-table-column prop=\"tradeNo\" min-width=\"200\" :label=\"$t('orderTracking.transactionSerialNumber')\"></el-table-column>\n\t\t\t\t\t<el-table-column prop=\"billNo\" min-width=\"150\" :label=\"$t('orderTracking.orderNumber')\"></el-table-column>\n\t\t\t\t\t<el-table-column prop=\"currencyCode\" min-width=\"\" :label=\"$t('orderTracking.currency')\" ></el-table-column>\n\t\t\t\t\t<el-table-column prop=\"amount\" min-width=\"\" :label=\"$t('orderTracking.orderAmount')\"></el-table-column>\n\t\t\t\t\t<el-table-column prop=\"errorCode\" :label=\"$t('orderTracking.errorCode')\"></el-table-column>\n\t\t\t\t\t<el-table-column prop=\"descr\" :label=\"$t('orderTracking.description')\" min-width=\"150\"></el-table-column>\n\t\t\t\t\t<el-table-column prop=\"status\" width=\"\" :label=\"$t('orderTracking.exceptionType')\" min-width=\"150\"></el-table-column>\n\t\t\t\t\t<el-table-column prop=\"holderName\" min-width=\"150\" :label=\"$t('orderTracking.customerName')\"></el-table-column>\n\t\t\t\t\t<el-table-column prop=\"holderPhone\" min-width=\"150\" :label=\"$t('orderTracking.customerPhone')\"></el-table-column>\n\t\t\t\t\t<el-table-column prop=\"holderEmail\" min-width=\"190\" :label=\"$t('orderTracking.customerEmail')\"></el-table-column>\n\t\t\t\t\t<el-table-column prop=\"clientIp\" min-width=\"110\" :label=\"$t('orderTracking.ipAddress')\"></el-table-column>\n\t\t\t\t\t<el-table-column prop=\"merUrl\" min-width=\"150\" :label=\"$t('orderTracking.sourceWebsite')\"></el-table-column>\n\t\t\t\t\t<el-table-column min-width=\"160px\" :label=\"$t('orderTracking.transactionTime')\">\n\t\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t\t{{ dayjs(scope.row.enterTime).format(\"YYYY-MM-DD HH:mm:ss\") }}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</el-table-column>\n\t\t\t\t</el-table>\n\t\t\t</el-tab-pane>\n\n\t\t\t<div class=\"\">\n\t\t\t\t<pagination\n\t\t\t\t\t:total=\"total\"\n\t\t\t\t\t:page.sync=\"form.pageNum\"\n\t\t\t\t\t:limit.sync=\"form.pageSize\"\n\t\t\t\t\t@pagination=\"$refs['order-search-form'].getList()\"\n\t\t\t\t></pagination>\n\t\t\t</div>\n\t\t</el-tabs>\n\t</div>\n</template>\n\n<script>\nimport pagination from \"@/components/Pagination\";\nimport PageSizeSelect from \"@/components/PageSizeSelect/index\";\nimport { getListCx } from \"@/api/business\";\nimport { downloadTracking } from \"@/api/download\";\nimport { mapGetters } from \"vuex\";\nimport SearchForm from \"@/components/SearchForm\";\nimport i18n from \"@/i18n\";\n\nvar YCLX = [\n\t{ label: i18n.t('orderTracking.alls'), value: \"\" },\n\t{ label: i18n.t('orderTracking.paymentGateway'), value: \"1000\" },\n\t{ label: i18n.t('orderTracking.paymentFormPage'), value: \"2000\" },\n\t{ label: i18n.t('orderTracking.riskControlBlock'), value: \"3000\" },\n];\nvar MS = [\n\t{ label: i18n.t('orderTracking.alls'), value: \"\" },\n\t{ label: i18n.t('orderTracking.paymentFormPage'), value: \"2000\" },\n\t{ label: i18n.t('orderTracking.merchantWebsiteRestriction'), value: \"1115\" },\n\t{ label: i18n.t('orderTracking.exceedSingleTransactionLimit'), value: \"2011\" },\n\t{ label:  i18n.t('orderTracking.exceedDailyTransactionLimit'), value: \"2012\" },\n\t{ label: i18n.t('orderTracking.exceedMonthlyTransactionLimit'), value: \"2013\" },\n\t{ label: i18n.t('orderTracking.incorrectCurrency'), value: \"1107\" },\n\t{ label: i18n.t('orderTracking.visaChannelUnavailable'), value: \"2003\" },\n\t{ label: i18n.t('orderTracking.masterChannelUnavailable'), value: \"2002\" },\n\t{ label: i18n.t('orderTracking.jcbChannelUnavailable'), value: \"2023\" },\n\t{ label: i18n.t('orderTracking.aeChannelUnavailable'), value: \"2024\" },\n\t{ label: i18n.t('orderTracking.crossBorderTransaction'), value: \"2034\" },\n\t{ label: i18n.t('orderTracking.other'), value: \"0\" },\n];\nexport default {\n\tname: \"order-tracking\",\n\n\tcomponents: {\n\t\tpagination,\n\t\tPageSizeSelect,\n\t\tSearchForm,\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tgridData: [],\n\t\t\tdialogTableVisible: false, // 弹窗\n\t\t\tform: {\n\t\t\t\tpageNum: 1,\n\t\t\t\tpageSize: 15,\n\t\t\t},\n\t\t\tformProps:{},//保存搜索组件传过来的值\n\t\t\ttableData: [],\n\t\t\tshowScreen: false,\n\t\t\ttotal: 0, // 总条数\n\t\t\tmultipleSelection: [],\n\t\t\tloading: false, // loading\n\t\t\ttdList: [], // 通道列表\n\t\t\t// 订单搜索\n\t\t\tsearchOption: {\n\t\t\t\tcolumn: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: this.$t('orderTracking.merchantID'),\n\t\t\t\t\t\tprop: \"subMerNo\",\n\t\t\t\t\t\ttype: \"input\",\n\t\t\t\t\t\tVshow: this.$store.state.user.merType === 0,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: this.$t('orderTracking.transactionSerialNumber'),\n\t\t\t\t\t\tprop: \"tradeNo\",\n\t\t\t\t\t\ttype: \"input\",\n\t\t\t\t\t\tbtn: true, //是否显示批量输入按钮\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: this.$t('orderTracking.orereNum'),\n\t\t\t\t\t\tprop: \"order\",\n\t\t\t\t\t\ttype: \"input\",\n\t\t\t\t\t\tbtn: true, //是否显示批量输入按钮\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: this.$t('orderTracking.orderAmountGreaterThanOrEqual'),\n\t\t\t\t\t\tprop: \"amount\",\n\t\t\t\t\t\ttype: \"input\",\n\t\t\t\t\t\twidth: 160,\n\t\t\t\t\t\tplaceholder:this.$t('orderTracking.orderAmountGreaterThanOrEqual')\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel:this.$t('orderTracking.orderAmountGreaterThanOrEqual') ,\n\t\t\t\t\t\tprop: \"abnormalType\",\n\t\t\t\t\t\ttype: \"select\",\n\t\t\t\t\t\tdicData: YCLX, //数据传输\n\t\t\t\t\t\twidth: 180,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: this.$t('orderTracking.customerName'),\n\t\t\t\t\t\tprop: \"holderName\",\n\t\t\t\t\t\ttype: \"input\",\n\t\t\t\t\t\twidth: 170,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: this.$t('orderTracking.ipAddress'),\n\t\t\t\t\t\tprop: \"clientip\",\n\t\t\t\t\t\ttype: \"input\",\n\t\t\t\t\t\twidth: 170,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel:  this.$t('orderTracking.customerEmail'),\n\t\t\t\t\t\tprop: \"holderEmail\",\n\t\t\t\t\t\ttype: \"input\",\n\t\t\t\t\t\twidth: 170,\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: this.$t('orderTracking.description'),\n\t\t\t\t\t\tprop: \"error_code\",\n\t\t\t\t\t\ttype: \"select\",\n\t\t\t\t\t\tdicData: MS, //数据传输\n\t\t\t\t\t\twidth: 170,\n\t\t\t\t\t\tchange: true, //select联动\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"\",\n\t\t\t\t\t\tprop: \"error_code1\",\n\t\t\t\t\t\ttype: \"input\",\n\t\t\t\t\t\tchengeValue: \"error_code\", //这个跟select联动名字一样\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: this.$t('orderTracking.transactionTime'),\n\t\t\t\t\t\tprop: \"time\",\n\t\t\t\t\t\ttype: \"datetimerange\",\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t};\n\t},\n\n\tcomputed: {\n\t\t...mapGetters([\"merType\"]),\n\t},\n\n\tcreated() {},\n\n\tmethods: {\n\t\t// 分页请求\n\t\tgetSearchForm(params) {\n\t\t\tthis.formProps = params//存储点击搜索按钮后的值\n\t\t\tthis.getList(params);\n\t\t},\n\t\t// 获取列表数据\n\t\tgetList(page) {\n\t\t\tthis.loading = true;\n\n\t\t\tlet data = {\n\t\t\t\t...page,\n\t\t\t\tfrom: page.time[0], //交易起始时间\n\t\t\t\tto: page.time[1], //交易结束时间\n\t\t\t};\n\t\t\tthis.$delete(data, \"time\");\n\t\t\tthis.$delete(data, \"error_code1\");\n\t\t\tgetListCx(data)\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tthis.tableData = res.data.resultList.list;\n\t\t\t\t\tif (res.data.resultList.total) {\n\t\t\t\t\t\tthis.total = res.data.resultList.total || 0;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {});\n\t\t},\n\n\t\t// table 勾选\n\t\thandleSelectionChange(val) {\n\t\t\tthis.multipleSelection = val;\n\t\t},\n\t\torderDownLoad() {\n\t\t\tconst Xz = {\n\t\t\t\tsubMerNo: this.formProps.subMerNo,\n\t\t\t\ttradeNo: this.formProps.tradeNo, //交易流水号\n\t\t\t\torder: this.formProps.order, //订单编号\n\t\t\t\tamount: this.formProps.amount, //金额大于等于\n\t\t\t\tabnormalType: this.formProps.abnormalType, //异常类型\n\t\t\t\tholderName: this.formProps.holderName, //客户姓名\n\t\t\t\tclientip: this.formProps.clientip, //IP\n\t\t\t\tholderEmail: this.formProps.holderEmail, //邮箱\n\t\t\t\terror_code: this.formProps.error_code, //描述\n\t\t\t\tfrom: this.formProps.time[0], //交易起始时间\n\t\t\t\tto: this.formProps.time[1], //交易结束时间\n\t\t\t};\n\t\t\tdownloadTracking(Xz)\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.$message.success(result.data)\n\t\t\t\t})\n\t\t},\n\t},\n};\n</script>\n\n<style scoped lang=\"less\">\n@import \"../../assets/styles/template\";\n</style>\n"]}]}