{"remainingRequest":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/IdeaProjects/onLinePayMerchant/src/views/Other/downloadApi.vue?vue&type=style&index=0&id=19fe30ae&scoped=true&lang=less","dependencies":[{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/src/views/Other/downloadApi.vue","mtime":1700047012983},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CkBpbXBvcnQgIi4uLy4uL2Fzc2V0cy9zdHlsZXMvdGVtcGxhdGUiOwo="},{"version":3,"sources":["downloadApi.vue"],"names":[],"mappings":";AAgGA","file":"downloadApi.vue","sourceRoot":"src/views/Other","sourcesContent":["<template>\n\t<div class=\"app-container\">\n\t\t<h3 class=\"page-title mb28\">{{$t('downloadapi.interfaceDownload')}}</h3>\n\t\t<el-tabs>\n\t\t\t<el-tab-pane name=\"0\">\n\t\t\t\t<span slot=\"label\"><svg-icon icon-class=\"bg\" /> {{$t(\"downloadapi.apiinnterface\")}}</span>\n\t\t\t</el-tab-pane>\n\t\t\t<el-table :data=\"list\" tooltip-effect=\"dark\" style=\"width: 100%\" v-loading=\"loading\">\n\t\t\t\t<el-table-column prop=\"a\" :label=\"$t('downloadapi.allTypes')\" min-width=\"100\" align=\"\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t{{ scope.row.Belongtype }}\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column :label=\"$t('downloadapi.fileName')\" min-width=\"350\" align=\"\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t{{ scope.row.filename }}\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column :label=\"$t('downloadapi.updateTime')\" min-width=\"170\" align=\"\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t{{ scope.row.updatetime }}\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column :label=\"$t('downloadapi.download')\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<a :href=\"scope.row.url\" class=\"icon-hover-effect\">\n\t\t\t\t\t\t\t<svg-icon icon-class=\"download\" />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t</el-table>\n\t\t\t<pagination :total=\"total\" :page.sync=\"pageNum\" :limit.sync=\"pageSize\" @pagination=\"getList\"></pagination>\n\t\t</el-tabs>\n\t</div>\n</template>\n\n<script>\nimport pagination from \"@/components/Pagination\";\nimport { downApiWord } from \"@/api/basicSetting\";\n\nexport default {\n\tname: \"DownloadApi\",\n\tcomponents: {\n\t\tpagination,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tlist: [\n\t\t\t\t// { Belongtype: \"文档\", filename: \"支付接口帮助文档\", updatetime: \"2021-03-26 17:00:00\", url:'https://airclick-oss.oss-cn-hongkong.aliyuncs.com/api/tapxyz-api.zip' },\n\t\t\t\t// { Belongtype: \"文档\", filename: \"Unionpay\", updatetime: \"2021-09-10 11:30:00\", url:'https://airclick-oss.oss-cn-hongkong.aliyuncs.com/api/UnionPay.zip' },\n\t\t\t],\n\t\t\tloading: false,\n\t\t\ttotal: 0,\n\t\t\tpageNum: 1,\n\t\t\tpageSize: 15,\n\t\t};\n\t},\n\n\tmethods: {\n\t\t//下载\n\t\tDownload(row) {\n\t\t\tconst data = {\n\t\t\t\tfile: row.filename,\n\t\t\t};\n\t\t\tdownApiWord(data)\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (!res.size) {\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\tmessage: this.$t(\"downloadapi.downloading\"),\n\t\t\t\t\t\t\ttype: \"\",\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst blob = new Blob([res], { type: \"application/zip\" });\n\t\t\t\t\tif (\"download\" in document.createElement(\"a\")) {\n\t\t\t\t\t\tconst url = window.URL.createObjectURL(blob);\n\t\t\t\t\t\tconst link = document.createElement(\"a\");\n\t\t\t\t\t\tlink.href = url;\n\t\t\t\t\t\tlink.download = row.filename;\n\t\t\t\t\t\tlink.click();\n\t\t\t\t\t\t// 释放内存\n\t\t\t\t\t\tURL.revokeObjectURL(url);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// ie10下载\n\t\t\t\t\t\tnavigator.msSaveOrOpenBlob(blob, row.filename);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {});\n\t\t},\n\t\tgetList() {},\n\t},\n};\n</script>\n\n<style scoped lang=\"less\">\n@import \"../../assets/styles/template\";\n</style>\n"]}]}