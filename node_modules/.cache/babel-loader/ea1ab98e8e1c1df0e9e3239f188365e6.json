{"remainingRequest":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js??ref--16!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/IdeaProjects/onLinePayMerchant/src/views/FundTransfer/FundTransfer.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/src/views/FundTransfer/FundTransfer.vue","mtime":1730111979292},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJvdXRlciBmcm9tICJAL3JvdXRlciI7CmltcG9ydCB7IHRyYW5zZmVySW4sIHRyYW5zZmVyT3V0IH0gZnJvbSAiQC9hcGkvY2VydGlmaWNhdGlvbiI7CmltcG9ydCB7IGdldEFjY291bnRCYWxhbmNlIH0gZnJvbSAiQC9hcGkvaG9tZSI7CmltcG9ydCBpMThuIGZyb20gIkAvaTE4biI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRnVuZFRyYW5zZmVyJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VsZWN0ZWRXYWxsZXQ6IGkxOG4udCgnY2FyZC53YWxsZXQnKSwKICAgICAgc2VsZWN0ZWRDYXJkOiAnNTU2MS4uLjM0MDQnLAogICAgICBjdXJyZW50V2FsbGV0Q2FyZDoge30sCiAgICAgIG1lckFjY291bnQ6IFtdLAogICAgICBIS0RBY2NvdW50OiBbewogICAgICAgIGN1cnJlbmN5OiAiSEtEIiwKICAgICAgICBvdmVyQW1vdW50OiAiMC4wMCIsCiAgICAgICAgZmxhZzogIkhLRCIKICAgICAgfV0sCiAgICAgIGFtb3VudDogJycsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBpc1N3YXBwZWQ6IGZhbHNlLAogICAgICBzZWxlY3RlZEN1cnJlbmN5TWFwOiB7CiAgICAgICAgY3VycmVuY3k6ICJVU0RDIiwKICAgICAgICBvdmVyQW1vdW50OiAiMC4wMCIsCiAgICAgICAgZmxhZzogIlVTREMiCiAgICAgIH0sCiAgICAgIGlzQ3VycmVuY3lEcm9wZG93bk9wZW46IGZhbHNlLAogICAgICBpc1ZhbGlkQW1vdW50OiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBzb3J0ZWRBY2NvdW50cygpIHsKICAgICAgLy8g5qC55o2uIGlzU3dhcHBlZCDnmoTlgLzov5Tlm57mjpLluo/lkI7nmoTmlbDnu4QKICAgICAgcmV0dXJuIHRoaXMuaXNTd2FwcGVkID8gdGhpcy5IS0RBY2NvdW50IC8vCiAgICAgIDogdGhpcy5tZXJBY2NvdW50OyAvLyDljp/lp4vpobrluo8KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmN1cnJlbnRXYWxsZXRDYXJkID0gdGhpcy4kcm91dGUucGFyYW1zLmN1cnJlbnRDYXJkOwogICAgdGhpcy5IS0RBY2NvdW50WzBdLm92ZXJBbW91bnQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuY3VycmVudENhcmQuYW1vdW50OwogICAgdGhpcy5IS0RBY2NvdW50WzBdLmN1cnJlbmN5ID0gdGhpcy4kcm91dGUucGFyYW1zLmN1cnJlbnRDYXJkLmN1cnJlbmN5OwogICAgdGhpcy5IS0RBY2NvdW50WzBdLmZsYWcgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuY3VycmVudENhcmQuY3VycmVuY3k7CiAgICB0aGlzLnNlbGVjdGVkQ2FyZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5jdXJyZW50Q2FyZC5jYXJkTm87CiAgICB0aGlzLmZldGNoQWNjb3VudEJhbGFuY2UoKTsKICAgIC8vIOa3u+WKoOWFqOWxgOeCueWHu+S6i+S7tuebkeWQrAogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUdsb2JhbENsaWNrKTsKICB9LAogIGRlc3Ryb3llZCgpIHsKICAgIC8vIOenu+mZpOWFqOWxgOeCueWHu+S6i+S7tuebkeWQrAogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUdsb2JhbENsaWNrKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPlui0puaIt+S9memineS/oeaBrwogICAgYXN5bmMgZmV0Y2hBY2NvdW50QmFsYW5jZSgpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBtZXJObyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ21lck5vJyk7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZ2V0QWNjb3VudEJhbGFuY2UoewogICAgICAgICAgbWVyTm8sCiAgICAgICAgICBpc0FsbDogMSwKICAgICAgICAgIGN1cnJlbmN5OiAnYWxsJwogICAgICAgIH0pOwogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgIHRoaXMubWVyQWNjb3VudCA9IHJlcy5kYXRhLm1lckFjY291bnQ7CiAgICAgICAgICBjb25zdCB1c2RjQWNjb3VudCA9IHJlcy5kYXRhLm1lckFjY291bnQuZmluZChpdGVtID0+IGl0ZW0uY3VycmVuY3kgPT09ICdVU0RDJyk7CiAgICAgICAgICBpZiAodXNkY0FjY291bnQpIHsKICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEN1cnJlbmN5TWFwID0gdXNkY0FjY291bnQ7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPlui0puaIt+S9memineWksei0pScpOwogICAgICB9CiAgICB9LAogICAgLy8g5YiH5o2i6L2s6LSm5pa55ZCRCiAgICBoYW5kbGVTd2FwKCkgewogICAgICB0aGlzLmlzU3dhcHBlZCA9ICF0aGlzLmlzU3dhcHBlZDsKICAgICAgaWYgKHRoaXMuaXNTd2FwcGVkKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZEN1cnJlbmN5TWFwID0gdGhpcy5IS0RBY2NvdW50WzBdOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VsZWN0ZWRDdXJyZW5jeU1hcCA9IHRoaXMubWVyQWNjb3VudC5maW5kKGl0ZW0gPT4gaXRlbS5jdXJyZW5jeSA9PT0gJ1VTREMnKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWIh+aNouW4geenjemAieaLqeS4i+aLieahhgogICAgdG9nZ2xlQ3VycmVuY3lEcm9wZG93bigpIHsKICAgICAgdGhpcy5pc0N1cnJlbmN5RHJvcGRvd25PcGVuID0gIXRoaXMuaXNDdXJyZW5jeURyb3Bkb3duT3BlbjsKICAgIH0sCiAgICAvLyDpgInmi6nluIHnp40KICAgIHNlbGVjdEN1cnJlbmN5KGN1cnJlbmN5KSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRDdXJyZW5jeU1hcCA9IGN1cnJlbmN5OwogICAgICB0aGlzLmlzQ3VycmVuY3lEcm9wZG93bk9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy52YWxpZGF0ZUFtb3VudCgpOwogICAgfSwKICAgIC8vIOmqjOivgei9rOi0pumHkeminQogICAgdmFsaWRhdGVBbW91bnQoKSB7CiAgICAgIGNvbnN0IG51bUFtb3VudCA9IHBhcnNlRmxvYXQodGhpcy5hbW91bnQpOwogICAgICBjb25zdCBhdmFpbGFibGVCYWxhbmNlID0gcGFyc2VGbG9hdCh0aGlzLnNlbGVjdGVkQ3VycmVuY3lNYXAub3ZlckFtb3VudCk7CiAgICAgIHRoaXMuaXNWYWxpZEFtb3VudCA9ICFpc05hTihudW1BbW91bnQpICYmIG51bUFtb3VudCA+IDAgJiYgbnVtQW1vdW50IDw9IGF2YWlsYWJsZUJhbGFuY2U7CiAgICB9LAogICAgLy8g5aSE55CG6L2s6LSmCiAgICBhc3luYyBoYW5kbGVUcmFuc2ZlcigpIHsKICAgICAgaWYgKCF0aGlzLmlzVmFsaWRBbW91bnQgfHwgdGhpcy5sb2FkaW5nKSByZXR1cm47CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgdHJhbnNmZXJEYXRhID0gewogICAgICAgICAgY2FyZElkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuY3VycmVudENhcmQuaWQsCiAgICAgICAgICBhbW91bnQ6IHRoaXMuYW1vdW50LAogICAgICAgICAgY3VycmVuY3k6IHRoaXMuc2VsZWN0ZWRDdXJyZW5jeU1hcC5jdXJyZW5jeQogICAgICAgIH07CiAgICAgICAgY29uc3QgdHJhbnNmZXJNZXRob2QgPSB0aGlzLmlzU3dhcHBlZCA/IHRyYW5zZmVyT3V0IDogdHJhbnNmZXJJbjsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRyYW5zZmVyTWV0aG9kKHRyYW5zZmVyRGF0YSk7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzcG9uc2UubXNnKTsKICAgICAgICAgIGF3YWl0IHRoaXMuZmV0Y2hBY2NvdW50QmFsYW5jZSgpOwogICAgICAgICAgdGhpcy5nb0JhY2soKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgLy8JCXRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyb3IubXNnKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIC8vIOWkhOeQhuWFqOWxgOeCueWHu+S6i+S7tgogICAgaGFuZGxlR2xvYmFsQ2xpY2soZXZlbnQpIHsKICAgICAgY29uc3QgY3VycmVuY3lTZWxlY3RvciA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcuZnVuZC10cmFuc2Zlcl9fY3VycmVuY3ktc2VsZWN0b3InKTsKICAgICAgaWYgKCFjdXJyZW5jeVNlbGVjdG9yKSB7CiAgICAgICAgdGhpcy5pc0N1cnJlbmN5RHJvcGRvd25PcGVuID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICAvLyDov5Tlm57kuIrkuIDpobUKICAgIGdvQmFjaygpIHsKICAgICAgcm91dGVyLmJhY2soKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["router","transferIn","transferOut","getAccountBalance","i18n","name","data","selectedWallet","t","selectedCard","currentWalletCard","merAccount","HKDAccount","currency","overAmount","flag","amount","loading","isSwapped","selectedCurrencyMap","isCurrencyDropdownOpen","isValidAmount","computed","sortedAccounts","created","$route","params","currentCard","cardNo","fetchAccountBalance","document","addEventListener","handleGlobalClick","destroyed","removeEventListener","methods","merNo","sessionStorage","getItem","res","isAll","status","usdcAccount","find","item","error","$message","handleSwap","toggleCurrencyDropdown","selectCurrency","validateAmount","numAmount","parseFloat","availableBalance","isNaN","handleTransfer","transferData","cardId","id","transferMethod","response","success","msg","goBack","event","currencySelector","target","closest","back"],"sources":["src/views/FundTransfer/FundTransfer.vue"],"sourcesContent":["<template>\n\t<div class=\"fund-transfer\" @click=\"handleGlobalClick\">\n\t\t<div class=\"fund-transfer__header\">\n\t\t\t<img\n\t\t\t\tclass=\"fund-transfer__back-icon\"\n\t\t\t\tsrc=\"./assets/img/SketchPngcf0409b4e46f3940a18dee8cef0a718f8e87f756e6ad8a6a090d89e68dd18479.png\"\n\t\t\t\t@click=\"goBack\"\n\t\t\t/>\n\t\t</div>\n\n\t\t<div class=\"fund-transfer__content\">\n\t\t\t<h1 class=\"fund-transfer__title\">{{$t(\"card.transfer\")}}</h1>\n\t\t\t<p class=\"fund-transfer__subtitle\" v-if=\"!isSwapped\">{{$t(\"card.wallet_balance\")}}{{$t(\"card.transfer_to\")}}OnlinePay Card</p>\n\t\t\t<p class=\"fund-transfer__subtitle\" v-else>OnlinePay Card{{$t(\"card.transfer_to\")}}{{$t(\"card.wallet_balance\")}}</p>\n\n\t\t\t<div class=\"fund-transfer__form\">\n\t\t\t\t<!-- Transfer Account Section -->\n\t\t\t\t<div class=\"fund-transfer__accounts\">\n\t\t\t\t\t<div class=\"fund-transfer__row\">\n\t\t\t\t\t\t<span class=\"fund-transfer__label\">{{$t(\"card.from\")}}</span>\n\t\t\t\t\t\t<div class=\"fund-transfer__select\">\n\n\t\t\t\t\t\t\t<div class=\"fund-transfer__select-content\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t:src=\"isSwapped ? require('./assets/img/card_select_fundtransfer.png') : require('./assets/img/wallet_select_foundtransfer.png')\"\n\t\t\t\t\t\t\t\t\t:alt=\"isSwapped ? 'card' : 'Wallet'\"\n\t\t\t\t\t\t\t\t\tclass=\"fund-transfer__account-icon\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span class=\"fund-transfer__account-text\">\n                  {{ isSwapped ? selectedCard : selectedWallet }}\n                </span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"fund-transfer__swap-wrapper\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc=\"./assets/img/swap_found.png\"\n\t\t\t\t\t\t\tclass=\"fund-transfer__swap-icon\"\n\t\t\t\t\t\t\t@click=\"handleSwap\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"fund-transfer__row fund-transfer__row--destination\">\n\t\t\t\t\t\t<span class=\"fund-transfer__label\">{{$t(\"card.to\")}}</span>\n\t\t\t\t\t\t<div class=\"fund-transfer__select\">\n\t\t\t\t\t\t\t<div class=\"fund-transfer__select-content\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t:src=\"!isSwapped ? require('./assets/img/card_select_fundtransfer.png') : require('./assets/img/wallet_select_foundtransfer.png')\"\n\t\t\t\t\t\t\t\t\t:alt=\"!isSwapped ? 'card' : 'Wallet'\"\n\t\t\t\t\t\t\t\t\tclass=\"fund-transfer__account-icon\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span class=\"fund-transfer__account-text\">\n                  {{ isSwapped ? selectedWallet : selectedCard }}\n                </span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Amount Input Section -->\n\t\t\t\t<div class=\"fund-transfer__amount\">\n\t\t\t\t\t<span class=\"fund-transfer__amount-label\">{{$t(\"card.amount\")}}</span>\n\t\t\t\t\t<div class=\"fund-transfer__amount-input-container\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tv-model.trim=\"amount\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclass=\"fund-transfer__amount-input\"\n\t\t\t\t\t\t\tplaceholder=\"0\"\n\t\t\t\t\t\t\t@input=\"validateAmount\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"fund-transfer__currency-selector\">\n\t\t\t\t\t\t\t<section\n\t\t\t\t\t\t\t\tclass=\"fund-transfer__currency-select\"\n\t\t\t\t\t\t\t\t@click.stop=\"toggleCurrencyDropdown\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t:src=\"`/currency/${selectedCurrencyMap.flag}.png`\"\n\t\t\t\t\t\t\t\t\talt=\"currency\"\n\t\t\t\t\t\t\t\t\tclass=\"fund-transfer__currency-icon\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"fund-transfer__currency-text\">\n                  {{ selectedCurrencyMap.currency }}\n                </span>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclass=\"dawn_uo_icon\"\n\t\t\t\t\t\t\t\t\tsrc=\"./assets/img/SketchPng32e58d36e33be15afc5c418asdsadada2a8758484ada7f5588858e3490.png\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</section>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-show=\"isCurrencyDropdownOpen\"\n\t\t\t\t\t\t\tclass=\"fund-transfer__currency-dropdown\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-for=\"currency in sortedAccounts\"\n\t\t\t\t\t\t\t\t:key=\"currency.currency\"\n\t\t\t\t\t\t\t\tclass=\"fund-transfer__currency-option\"\n\t\t\t\t\t\t\t\t@click.stop=\"selectCurrency(currency)\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t:src=\"`/currency/${currency.flag}.png`\"\n\t\t\t\t\t\t\t\t\talt=\"currency\"\n\t\t\t\t\t\t\t\t\tclass=\"fund-transfer__currency-icon\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"fund-transfer__currency-name\">\n                    {{ currency.currency }}\n                  </span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"fund-transfer__balance\">\n\t\t\t\t\t\t<span class=\"fund-transfer__balance-label\">{{$t(\"card.available_balance\")}}:\n\t\t\t\t\t\t<span class=\"fund-transfer__balance-amount\">\n              {{selectedCurrencyMap.overAmount}} {{selectedCurrencyMap.currency}}\n            </span></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Submit Button -->\n\t\t\t\t<el-button\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t:loading=\"loading\"\n\t\t\t\t\tclass=\"fund-transfer__submit\"\n\t\t\t\t\t@click=\"handleTransfer\"\n\t\t\t\t\t:disabled=\"!isValidAmount\"\n\t\t\t\t>\n\t\t\t\t\t{{$t(\"card.confirm\")}}\n\t\t\t\t</el-button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport router from \"@/router\";\nimport { transferIn, transferOut } from \"@/api/certification\";\nimport { getAccountBalance } from \"@/api/home\";\nimport i18n from \"@/i18n\";\n\nexport default {\n\tname: 'FundTransfer',\n\n\tdata() {\n\t\treturn {\n\t\t\tselectedWallet: i18n.t('card.wallet'),\n\t\t\tselectedCard: '5561...3404',\n\t\t\tcurrentWalletCard: {},\n\t\t\tmerAccount: [],\n\t\t\tHKDAccount: [{\n\t\t\t\tcurrency: \"HKD\",\n\t\t\t\toverAmount: \"0.00\",\n\t\t\t\tflag: \"HKD\"\n\t\t\t}],\n\t\t\tamount: '',\n\t\t\tloading: false,\n\t\t\tisSwapped: false,\n\t\t\tselectedCurrencyMap: {\n\t\t\t\tcurrency: \"USDC\",\n\t\t\t\toverAmount: \"0.00\",\n\t\t\t\tflag: \"USDC\"\n\t\t\t},\n\t\t\tisCurrencyDropdownOpen: false,\n\t\t\tisValidAmount: false\n\t\t}\n\t},\n\tcomputed: {\n\t\tsortedAccounts() {\n\t\t\t// 根据 isSwapped 的值返回排序后的数组\n\t\t\treturn this.isSwapped\n\t\t\t\t? this.HKDAccount //\n\t\t\t\t: this.merAccount; // 原始顺序\n\t\t},\n\n\t},\n\tcreated() {\n\tthis.currentWalletCard=this.$route.params.currentCard;\n\tthis.HKDAccount[0].overAmount=this.$route.params.currentCard.amount;\n\tthis.HKDAccount[0].currency=this.$route.params.currentCard.currency;\n\tthis.HKDAccount[0].flag=this.$route.params.currentCard.currency;\n\tthis.selectedCard=this.$route.params.currentCard.cardNo;\n\t\tthis.fetchAccountBalance();\n\t\t// 添加全局点击事件监听\n\t\tdocument.addEventListener('click', this.handleGlobalClick);\n\t},\n\n\tdestroyed() {\n\t\t// 移除全局点击事件监听\n\t\tdocument.removeEventListener('click', this.handleGlobalClick);\n\t},\n\n\tmethods: {\n\t\t// 获取账户余额信息\n\t\tasync fetchAccountBalance() {\n\t\t\ttry {\n\t\t\t\tconst merNo = sessionStorage.getItem('merNo');\n\t\t\t\tconst res = await getAccountBalance({\n\t\t\t\t\tmerNo,\n\t\t\t\t\tisAll: 1,\n\t\t\t\t\tcurrency: 'all'\n\t\t\t\t});\n\n\t\t\t\tif (res.status === 200) {\n\t\t\t\t\tthis.merAccount = res.data.merAccount;\n\t\t\t\t\tconst usdcAccount = res.data.merAccount.find(\n\t\t\t\t\t\titem => item.currency === 'USDC'\n\t\t\t\t\t);\n\t\t\t\t\tif (usdcAccount) {\n\t\t\t\t\t\tthis.selectedCurrencyMap = usdcAccount;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis.$message.error('获取账户余额失败');\n\t\t\t}\n\t\t},\n\n\t\t// 切换转账方向\n\t\thandleSwap() {\n\t\t\tthis.isSwapped = !this.isSwapped;\n\t\t\tif (this.isSwapped) {\n\t\t\t\tthis.selectedCurrencyMap = this.HKDAccount[0];\n\t\t\t} else {\n\t\t\t\tthis.selectedCurrencyMap = this.merAccount.find(\n\t\t\t\t\titem => item.currency === 'USDC'\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\n\t\t// 切换币种选择下拉框\n\t\ttoggleCurrencyDropdown() {\n\t\t\tthis.isCurrencyDropdownOpen = !this.isCurrencyDropdownOpen;\n\t\t},\n\n\t\t// 选择币种\n\t\tselectCurrency(currency) {\n\t\t\tthis.selectedCurrencyMap = currency;\n\t\t\tthis.isCurrencyDropdownOpen = false;\n\t\t\tthis.validateAmount();\n\t\t},\n\n\t\t// 验证转账金额\n\t\tvalidateAmount() {\n\t\t\tconst numAmount = parseFloat(this.amount);\n\t\t\tconst availableBalance = parseFloat(this.selectedCurrencyMap.overAmount);\n\n\t\t\tthis.isValidAmount = !isNaN(numAmount) &&\n\t\t\t\tnumAmount > 0 &&\n\t\t\t\tnumAmount <= availableBalance;\n\t\t},\n\n\t\t// 处理转账\n\t\tasync handleTransfer() {\n\t\t\tif (!this.isValidAmount || this.loading) return;\n\n\t\t\tthis.loading = true;\n\n\t\t\ttry {\n\t\t\t\tconst transferData = {\n\t\t\t\t\tcardId: this.$route.params.currentCard.id,\n\t\t\t\t\tamount: this.amount,\n\t\t\t\t\tcurrency: this.selectedCurrencyMap.currency,\n\t\t\t\t};\n\n\t\t\t\tconst transferMethod = this.isSwapped ? transferOut : transferIn;\n\t\t\t\tconst response = await transferMethod(transferData);\n\n\t\t\t\tif (response.status === 200) {\n\t\t\t\t\tthis.$message.success(response.msg);\n\t\t\t\t\tawait this.fetchAccountBalance();\n\t\t\t\t\tthis.goBack();\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t//\t\tthis.$message.error(error.msg);\n\t\t\t} finally {\n\t\t\t\tthis.loading = false;\n\t\t\t}\n\t\t},\n\n\t\t// 处理全局点击事件\n\t\thandleGlobalClick(event) {\n\t\t\tconst currencySelector = event.target.closest('.fund-transfer__currency-selector');\n\t\t\tif (!currencySelector) {\n\t\t\t\tthis.isCurrencyDropdownOpen = false;\n\t\t\t}\n\t\t},\n\n\t\t// 返回上一页\n\t\tgoBack() {\n\t\t\trouter.back();\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n.fund-transfer {\n\tposition: relative;\n}\n\n.fund-transfer__header {\n\tpadding: 17px 0 0 121px;\n\theight: 64px;\n}\n\n.fund-transfer__back-icon {\n\twidth: 31px;\n\theight: 31px;\n\tcursor: pointer;\n}\n\n.dawn_uo_icon{\n\twidth: 14px;\n\theight: 8px;\n}\n\n.fund-transfer__content {\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n}\n\n.fund-transfer__title {\n\tfont-weight: 600;\n\tfont-size: 28px;\n\tcolor: #364A63;\n\tline-height: 36px;\n\tmargin: 60px 0 16px;\n}\n\n.fund-transfer__subtitle {\n\tfont-size: 14px;\n\tcolor: #526484;\n\tline-height: 20px;\n\tmargin-bottom: 24px;\n}\n\n.fund-transfer__form {\n\twidth: 516px;\n}\n\n.fund-transfer__accounts {\n\tbackground-color: #fff;\n\tborder: 1px solid #dbdfea;\n\tborder-radius: 16px;\n\tmargin-bottom: 24px;\n\toverflow: hidden;\n}\n\n.fund-transfer__row {\n\tdisplay: flex;\n\talign-items: center;\n\tpadding: 20px;\n}\n\n.fund-transfer__row--destination {\n\tbackground-color: #f7f9fe;\n\tborder-top: 1px solid #dbdfea;\n}\n\n.fund-transfer__label {\n\twidth: 14px;\n\tfont-size: 14px;\n\tcolor: #8094ae;\n\tmargin-right: 20px;\n}\n\n.fund-transfer__swap-wrapper {\n\tposition: relative;\n}\n\n.fund-transfer__swap-icon {\n\tposition: absolute;\n\tright: 29px;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n\twidth: 40px;\n\theight: 40px;\n\tcursor: pointer;\n}\n\n.fund-transfer__select {\n\tflex-grow: 1;\n}\n\n.fund-transfer__select-content {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.fund-transfer__account-icon {\n\twidth: 36px;\n\theight: 24px;\n\tmargin-right: 12px;\n}\n\n.fund-transfer__account-text {\n\tfont-size: 14px;\n\tcolor: #364a63;\n\tfont-weight: 500;\n}\n\n.fund-transfer__amount {\n\tmargin-bottom: 40px;\n}\n\n.fund-transfer__amount-label {\n\tdisplay: block;\n\tfont-size: 14px;\n\tcolor: #364a63;\n\tmargin-bottom: 4px;\n}\n\n.fund-transfer__amount-input-container {\n\tdisplay: flex;\n\talign-items: center;\n\tbackground-color: #fff;\n\tborder: 1px solid #dbdfea;\n\tborder-radius: 16px;\n\tpadding: 12px 16px;\n\tmargin-bottom: 6px;\n\tposition: relative;\n}\n\n.fund-transfer__amount-input {\n\tflex-grow: 1;\n\tborder: none;\n\tfont-size: 24px;\n\tcolor: #364a63;\n\tfont-weight: 500;\n\toutline: none;\n}\n\n.fund-transfer__currency-selector {\n\tposition: relative;\n\tmargin-left: auto;\n}\n\n.fund-transfer__currency-select {\n\tdisplay: flex;\n\talign-items: center;\n\tcursor: pointer;\n}\n\n.fund-transfer__currency-icon {\n\twidth: 30px;\n\theight: 30px;\n\tmargin-right: 6px;\n}\n\n.fund-transfer__currency-text {\n\tfont-size: 24px;\n\tcolor: #364a63;\n\tfont-weight: 500;\n\tmargin-right: 12px;\n}\n\n.fund-transfer__currency-dropdown {\n\tposition: absolute;\n\ttop: calc(100% + 8px);\n\tright: 0;\n\tbackground-color: #fff;\n\tborder: 1px solid #dbdfea;\n\tborder-radius: 4px;\n\tz-index: 10;\n\tmin-width: 120px;\n\tmax-height: 400px;\n\toverflow-y: auto;\n\tbox-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.fund-transfer__currency-option {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: start;\n\tpadding: 10px;\n\n\tcursor: pointer;\n}\n\n.fund-transfer__currency-option:hover {\n\tbackground-color: #f7f9fe;\n}\n\n.fund-transfer__currency-name {\n\tfont-size: 20px;\n\tcolor: #364a63;\n\tmargin-right: 12px;\n}\n\n.fund-transfer__balance {\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 14px;\n}\n\n.fund-transfer__balance-label {\n\tcolor: #8094ae;\n\tmargin-right: 12px;\n}\n\n.fund-transfer__balance-amount {\n\tcolor: #526484;\n\tfont-weight: 500;\n}\n\n.fund-transfer__submit {\n\twidth: 100%;\n\theight: 44px;\n\tbackground: #7F8DFF;\n\tborder-radius: 4px;\n\tcolor: #fff;\n\tborder: none;\n\tfont-size: 14px;\n\tfont-weight: 500;\n\tcursor: pointer;\n}\n\n.fund-transfer__submit:hover {\n\tbackground: #6b7aff;\n}\n\n.fund-transfer__submit:disabled {\n\tbackground-color: #dbdfea;\n\tcursor: not-allowed;\n}\n</style>"],"mappings":"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"}]}