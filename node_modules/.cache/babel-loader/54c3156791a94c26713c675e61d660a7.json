{"remainingRequest":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js??ref--16!/Users/apple/IdeaProjects/onLinePayMerchant/src/wallet/ETHNetWorkMethods.js","dependencies":[{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/src/wallet/ETHNetWorkMethods.js","mtime":1730111979306},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgYmlwMzkgfSBmcm9tICJAb2t4d2ViMy9jcnlwdG8tbGliIjsKaW1wb3J0IHsgRXRoV2FsbGV0LCBNZXNzYWdlVHlwZXMgfSBmcm9tICJAb2t4d2ViMy9jb2luLWV0aGVyZXVtIjsKbGV0IHdhbGxldCA9IG5ldyBFdGhXYWxsZXQoKTsKCi8v55Sf5oiQRVRI5pSv5oyB55qE5Zyw5Z2ACmFzeW5jIGZ1bmN0aW9uIGdldE5ld0FkZHJlc3MoKSB7CiAgLy8gZ2V0IG1uZW1vbmljCiAgbGV0IG1uZW1vbmljID0gYmlwMzkuZ2VuZXJhdGVNbmVtb25pYygpOwogIC8vIGdldCBkZXJpdmVkIGtleQogIGNvbnN0IGhkUGF0aCA9IGF3YWl0IHdhbGxldC5nZXREZXJpdmVkUGF0aCh7CiAgICBpbmRleDogMAogIH0pOwogIGxldCBkZXJpdmVQcml2YXRlS2V5ID0gYXdhaXQgd2FsbGV0LmdldERlcml2ZWRQcml2YXRlS2V5KHsKICAgIG1uZW1vbmljOiBtbmVtb25pYywKICAgIGhkUGF0aDogaGRQYXRoCiAgfSk7CiAgLy8gZ2V0IG5ldyBhZGRyZXNzCiAgbGV0IG5ld0FkZHJlc3MgPSBhd2FpdCB3YWxsZXQuZ2V0TmV3QWRkcmVzcyh7CiAgICBwcml2YXRlS2V5OiBkZXJpdmVQcml2YXRlS2V5CiAgfSk7CiAgcmV0dXJuIHsKICAgIHByaXZhdGVLZXk6IGRlcml2ZVByaXZhdGVLZXksCiAgICBhZGRyZXNzOiBuZXdBZGRyZXNzCiAgfTsKfQphc3luYyBmdW5jdGlvbiBzaWduTWVzc2FnZShkZXJpdmVQcml2YXRlS2V5LCB0aW1lc3RhbXBTdHJpbmcpIHsKICBsZXQgZGF0YSA9IHsKICAgIHR5cGU6IE1lc3NhZ2VUeXBlcy5QRVJTT05BTF9TSUdOLAogICAgbWVzc2FnZTogdGltZXN0YW1wU3RyaW5nCiAgfTsKICBsZXQgc2lnblBhcmFtcyA9IHsKICAgIHByaXZhdGVLZXk6IGRlcml2ZVByaXZhdGVLZXksCiAgICBkYXRhOiBkYXRhCiAgfTsKICByZXR1cm4gYXdhaXQgd2FsbGV0LnNpZ25NZXNzYWdlKHNpZ25QYXJhbXMpOwp9CmV4cG9ydCBkZWZhdWx0IHsKICBnZXROZXdBZGRyZXNzLAogIHNpZ25NZXNzYWdlCn07"},{"version":3,"names":["bip39","EthWallet","MessageTypes","wallet","getNewAddress","mnemonic","generateMnemonic","hdPath","getDerivedPath","index","derivePrivateKey","getDerivedPrivateKey","newAddress","privateKey","address","signMessage","timestampString","data","type","PERSONAL_SIGN","message","signParams"],"sources":["/Users/apple/IdeaProjects/onLinePayMerchant/src/wallet/ETHNetWorkMethods.js"],"sourcesContent":["import { bip39 } from \"@okxweb3/crypto-lib\";\nimport { EthWallet, MessageTypes } from \"@okxweb3/coin-ethereum\";\n\nlet wallet = new EthWallet();\n\n//生成ETH支持的地址\nasync function getNewAddress() {\n\n\t\t// get mnemonic\n\t\tlet mnemonic = bip39.generateMnemonic();\n\t\t// get derived key\n\t\tconst hdPath = await wallet.getDerivedPath({ index: 0 });\n\t\tlet\tderivePrivateKey = await wallet.getDerivedPrivateKey({ mnemonic: mnemonic, hdPath: hdPath });\n\t\t// get new address\n\t\tlet newAddress = await wallet.getNewAddress({ privateKey: derivePrivateKey });\n\t\treturn {privateKey:derivePrivateKey,address:newAddress}\n}\n\nasync function signMessage(derivePrivateKey,timestampString){\n\tlet data = {\n\t\ttype: MessageTypes.PERSONAL_SIGN,\n\t\tmessage: timestampString\n\t};\n\tlet signParams = {\n\t\tprivateKey: derivePrivateKey,\n\t\tdata: data\n\t}\n\treturn await wallet.signMessage(signParams);\n}\n\nexport default {getNewAddress,signMessage}"],"mappings":"AAAA,SAASA,KAAK,QAAQ,qBAAqB;AAC3C,SAASC,SAAS,EAAEC,YAAY,QAAQ,wBAAwB;AAEhE,IAAIC,MAAM,GAAG,IAAIF,SAAS,CAAC,CAAC;;AAE5B;AACA,eAAeG,aAAaA,CAAA,EAAG;EAE7B;EACA,IAAIC,QAAQ,GAAGL,KAAK,CAACM,gBAAgB,CAAC,CAAC;EACvC;EACA,MAAMC,MAAM,GAAG,MAAMJ,MAAM,CAACK,cAAc,CAAC;IAAEC,KAAK,EAAE;EAAE,CAAC,CAAC;EACxD,IAAIC,gBAAgB,GAAG,MAAMP,MAAM,CAACQ,oBAAoB,CAAC;IAAEN,QAAQ,EAAEA,QAAQ;IAAEE,MAAM,EAAEA;EAAO,CAAC,CAAC;EAChG;EACA,IAAIK,UAAU,GAAG,MAAMT,MAAM,CAACC,aAAa,CAAC;IAAES,UAAU,EAAEH;EAAiB,CAAC,CAAC;EAC7E,OAAO;IAACG,UAAU,EAACH,gBAAgB;IAACI,OAAO,EAACF;EAAU,CAAC;AACzD;AAEA,eAAeG,WAAWA,CAACL,gBAAgB,EAACM,eAAe,EAAC;EAC3D,IAAIC,IAAI,GAAG;IACVC,IAAI,EAAEhB,YAAY,CAACiB,aAAa;IAChCC,OAAO,EAAEJ;EACV,CAAC;EACD,IAAIK,UAAU,GAAG;IAChBR,UAAU,EAAEH,gBAAgB;IAC5BO,IAAI,EAAEA;EACP,CAAC;EACD,OAAO,MAAMd,MAAM,CAACY,WAAW,CAACM,UAAU,CAAC;AAC5C;AAEA,eAAe;EAACjB,aAAa;EAACW;AAAW,CAAC"}]}