{"remainingRequest":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js??ref--17!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/@okxweb3/coin-bitcoin/dist/doginals.js","dependencies":[{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/@okxweb3/coin-bitcoin/dist/doginals.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkudW5zaGlmdC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS51bnNoaWZ0LmpzIik7CnZhciBfX2NyZWF0ZUJpbmRpbmcgPSB0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nIHx8IChPYmplY3QuY3JlYXRlID8gZnVuY3Rpb24gKG8sIG0sIGssIGsyKSB7CiAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gazsKICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7CiAgaWYgKCFkZXNjIHx8ICgiZ2V0IiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7CiAgICBkZXNjID0gewogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gbVtrXTsKICAgICAgfQogICAgfTsKICB9CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTsKfSA6IGZ1bmN0aW9uIChvLCBtLCBrLCBrMikgewogIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7CiAgb1trMl0gPSBtW2tdOwp9KTsKdmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQgfHwgKE9iamVjdC5jcmVhdGUgPyBmdW5jdGlvbiAobywgdikgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCAiZGVmYXVsdCIsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICB2YWx1ZTogdgogIH0pOwp9IDogZnVuY3Rpb24gKG8sIHYpIHsKICBvWyJkZWZhdWx0Il0gPSB2Owp9KTsKdmFyIF9faW1wb3J0U3RhciA9IHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIgfHwgZnVuY3Rpb24gKG1vZCkgewogIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7CiAgdmFyIHJlc3VsdCA9IHt9OwogIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSAiZGVmYXVsdCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7CiAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTsKICByZXR1cm4gcmVzdWx0Owp9OwpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZG9nSW5zY3JpYmUgPSBleHBvcnRzLkRvZ0luc2NyaXB0aW9uVG9vbCA9IGV4cG9ydHMuRG9nU2NyaXB0ID0gZXhwb3J0cy5idWZmZXJUb0NodW5rID0gZXhwb3J0cy5idWZmZXJUb0J1ZmZlciA9IGV4cG9ydHMuQ0hBTkdFX09VVFBVVF9NQVhfU0laRSA9IHZvaWQgMDsKY29uc3QgYml0Y29pbiA9IF9faW1wb3J0U3RhcihyZXF1aXJlKCIuL2JpdGNvaW5qcy1saWIiKSk7CmNvbnN0IGNyeXB0b19saWJfMSA9IHJlcXVpcmUoIkBva3h3ZWIzL2NyeXB0by1saWIiKTsKY29uc3QgYmNyeXB0byA9IF9faW1wb3J0U3RhcihyZXF1aXJlKCIuL2JpdGNvaW5qcy1saWIvY3J5cHRvIikpOwpjb25zdCB0eEJ1aWxkXzEgPSByZXF1aXJlKCIuL3R4QnVpbGQiKTsKY29uc3QgYml0Y29pbmpzX2xpYl8xID0gcmVxdWlyZSgiLi9iaXRjb2luanMtbGliIik7CmNvbnN0IG9wc18xID0gcmVxdWlyZSgiLi9iaXRjb2luanMtbGliL29wcyIpOwpjb25zdCBwYXltZW50cyA9IF9faW1wb3J0U3RhcihyZXF1aXJlKCIuL2JpdGNvaW5qcy1saWIvcGF5bWVudHMiKSk7CmNvbnN0IGJ1ZmZlcnV0aWxzXzEgPSByZXF1aXJlKCIuL2JpdGNvaW5qcy1saWIvYnVmZmVydXRpbHMiKTsKZXhwb3J0cy5DSEFOR0VfT1VUUFVUX01BWF9TSVpFID0gMjAgKyA0ICsgMzQgKyA0Owpjb25zdCBkZWZhdWx0VHhWZXJzaW9uID0gMjsKY29uc3QgZGVmYXVsdFNlcXVlbmNlTnVtID0gMHhmZmZmZmZmZDsKY29uc3QgZGVmYXVsdFJldmVhbE91dFZhbHVlID0gMTAwMDAwOwpjb25zdCBkZWZhdWx0TWluQ2hhbmdlVmFsdWUgPSAxMDAwMDA7CmNvbnN0IE1BWF9DSFVOS19MRU4gPSAyNDA7CmNvbnN0IE1BWF9QQVlMT0FEX0xFTiA9IDE1MDA7CmZ1bmN0aW9uIG51bWJlclRvQ2h1bmsobikgewogIHJldHVybiB7CiAgICBidWY6IG4gPD0gMTYgPyB1bmRlZmluZWQgOiBuIDwgMTI4ID8gQnVmZmVyLmZyb20oW25dKSA6IEJ1ZmZlci5mcm9tKFtuICUgMjU2LCBuIC8gMjU2XSksCiAgICBsZW46IG4gPD0gMTYgPyAwIDogbiA8IDEyOCA/IDEgOiAyLAogICAgb3Bjb2RlbnVtOiBuID09IDAgPyAwIDogbiA8PSAxNiA/IDgwICsgbiA6IG4gPCAxMjggPyAxIDogMgogIH07Cn0KZnVuY3Rpb24gYnVmZmVyVG9CdWZmZXIoYikgewogIGxldCBjID0gYnVmZmVyVG9DaHVuayhiKTsKICBsZXQgc2l6ZSA9IGJ1ZmZlcnV0aWxzXzEudmFydWludC5lbmNvZGluZ0xlbmd0aChjLm9wY29kZW51bSk7CiAgdmFyIG9wY29kZW51bSA9IGMub3Bjb2RlbnVtOwogIGlmIChjLmJ1ZikgewogICAgaWYgKG9wY29kZW51bSA9PT0gb3BzXzEuT1BTLk9QX1BVU0hEQVRBMSkgewogICAgICBzaXplICs9IGJ1ZmZlcnV0aWxzXzEudmFydWludC5lbmNvZGluZ0xlbmd0aChjLmxlbik7CiAgICB9IGVsc2UgaWYgKG9wY29kZW51bSA9PT0gb3BzXzEuT1BTLk9QX1BVU0hEQVRBMikgewogICAgICBzaXplICs9IGJ1ZmZlcnV0aWxzXzEudmFydWludC5lbmNvZGluZ0xlbmd0aChjLmxlbik7CiAgICB9IGVsc2UgaWYgKG9wY29kZW51bSA9PT0gb3BzXzEuT1BTLk9QX1BVU0hEQVRBNCkgewogICAgICBzaXplICs9IGJ1ZmZlcnV0aWxzXzEudmFydWludC5lbmNvZGluZ0xlbmd0aChjLmxlbik7CiAgICB9CiAgICBzaXplICs9IGMuYnVmLmxlbmd0aDsKICB9CiAgbGV0IGJ3ID0gYml0Y29pbmpzX2xpYl8xLkJ1ZmZlcldyaXRlci53aXRoQ2FwYWNpdHkoc2l6ZSk7CiAgYncud3JpdGVVSW50OChjLm9wY29kZW51bSk7CiAgaWYgKGMuYnVmKSB7CiAgICBpZiAob3Bjb2RlbnVtIDwgb3BzXzEuT1BTLk9QX1BVU0hEQVRBMSkgewogICAgICBidy53cml0ZVNsaWNlKGMuYnVmKTsKICAgIH0gZWxzZSBpZiAob3Bjb2RlbnVtID09PSBvcHNfMS5PUFMuT1BfUFVTSERBVEExKSB7CiAgICAgIGJ3LndyaXRlVUludDgoYy5sZW4pOwogICAgICBidy53cml0ZVNsaWNlKGMuYnVmKTsKICAgIH0gZWxzZSBpZiAob3Bjb2RlbnVtID09PSBvcHNfMS5PUFMuT1BfUFVTSERBVEEyKSB7CiAgICAgIGJ3LndyaXRlVUludDY0KGMubGVuKTsKICAgICAgYncud3JpdGVTbGljZShjLmJ1Zik7CiAgICB9IGVsc2UgaWYgKG9wY29kZW51bSA9PT0gb3BzXzEuT1BTLk9QX1BVU0hEQVRBNCkgewogICAgICBidy53cml0ZVVJbnQzMihjLmxlbik7CiAgICAgIGJ3LndyaXRlU2xpY2UoYy5idWYpOwogICAgfQogIH0KICByZXR1cm4gYncuZW5kKCk7Cn0KZXhwb3J0cy5idWZmZXJUb0J1ZmZlciA9IGJ1ZmZlclRvQnVmZmVyOwpmdW5jdGlvbiBidWZmZXJUb0NodW5rKGIpIHsKICByZXR1cm4gewogICAgYnVmOiBiLmxlbmd0aCA/IGIgOiB1bmRlZmluZWQsCiAgICBsZW46IGIubGVuZ3RoLAogICAgb3Bjb2RlbnVtOiBiLmxlbmd0aCA8PSA3NSA/IGIubGVuZ3RoIDogYi5sZW5ndGggPD0gMjU1ID8gNzYgOiA3NwogIH07Cn0KZXhwb3J0cy5idWZmZXJUb0NodW5rID0gYnVmZmVyVG9DaHVuazsKZnVuY3Rpb24gb3Bjb2RlVG9DaHVuayhvcCkgewogIHJldHVybiB7CiAgICBvcGNvZGVudW06IG9wCiAgfTsKfQpjbGFzcyBEb2dTY3JpcHQgewogIGNvbnN0cnVjdG9yKCkgewogICAgdGhpcy5jaHVua3MgPSBbXTsKICB9CiAgdG90YWwoKSB7CiAgICBpZiAodGhpcy5jaHVua3MubGVuZ3RoID09IDApIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgICBjb25zdCBzaXplID0gdGhpcy5jaHVua3MubWFwKGNodW5rID0+IHsKICAgICAgbGV0IHNpemUgPSBidWZmZXJ1dGlsc18xLnZhcnVpbnQuZW5jb2RpbmdMZW5ndGgoY2h1bmsub3Bjb2RlbnVtKTsKICAgICAgdmFyIG9wY29kZW51bSA9IGNodW5rLm9wY29kZW51bTsKICAgICAgaWYgKGNodW5rLmJ1ZikgewogICAgICAgIGlmIChvcGNvZGVudW0gPCBvcHNfMS5PUFMuT1BfUFVTSERBVEExKSB7fSBlbHNlIGlmIChvcGNvZGVudW0gPT09IG9wc18xLk9QUy5PUF9QVVNIREFUQTEpIHsKICAgICAgICAgIHNpemUgKz0gYnVmZmVydXRpbHNfMS52YXJ1aW50LmVuY29kaW5nTGVuZ3RoKGNodW5rLmxlbik7CiAgICAgICAgfSBlbHNlIGlmIChvcGNvZGVudW0gPT09IG9wc18xLk9QUy5PUF9QVVNIREFUQTIpIHsKICAgICAgICAgIHNpemUgKz0gYnVmZmVydXRpbHNfMS52YXJ1aW50LmVuY29kaW5nTGVuZ3RoKGNodW5rLmxlbik7CiAgICAgICAgfSBlbHNlIGlmIChvcGNvZGVudW0gPT09IG9wc18xLk9QUy5PUF9QVVNIREFUQTQpIHsKICAgICAgICAgIHNpemUgKz0gYnVmZmVydXRpbHNfMS52YXJ1aW50LmVuY29kaW5nTGVuZ3RoKGNodW5rLmxlbik7CiAgICAgICAgfQogICAgICAgIHNpemUgKz0gY2h1bmsuYnVmLmxlbmd0aDsKICAgICAgfQogICAgICByZXR1cm4gc2l6ZTsKICAgIH0pLnJlZHVjZSgoYSwgYikgPT4gYSArIGIpOwogICAgcmV0dXJuIHNpemU7CiAgfQogIHRvQnVmZmVyKCkgewogICAgbGV0IHRvdGFsID0gdGhpcy50b3RhbCgpOwogICAgbGV0IGJ3ID0gYml0Y29pbmpzX2xpYl8xLkJ1ZmZlcldyaXRlci53aXRoQ2FwYWNpdHkodG90YWwpOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNodW5rcy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgY2h1bmsgPSB0aGlzLmNodW5rc1tpXTsKICAgICAgdmFyIG9wY29kZW51bSA9IGNodW5rLm9wY29kZW51bTsKICAgICAgYncud3JpdGVVSW50OChjaHVuay5vcGNvZGVudW0pOwogICAgICBpZiAoY2h1bmsuYnVmKSB7CiAgICAgICAgaWYgKG9wY29kZW51bSA8IG9wc18xLk9QUy5PUF9QVVNIREFUQTEpIHsKICAgICAgICAgIGJ3LndyaXRlU2xpY2UoY2h1bmsuYnVmKTsKICAgICAgICB9IGVsc2UgaWYgKG9wY29kZW51bSA9PT0gb3BzXzEuT1BTLk9QX1BVU0hEQVRBMSkgewogICAgICAgICAgYncud3JpdGVVSW50OChjaHVuay5sZW4pOwogICAgICAgICAgYncud3JpdGVTbGljZShjaHVuay5idWYpOwogICAgICAgIH0gZWxzZSBpZiAob3Bjb2RlbnVtID09PSBvcHNfMS5PUFMuT1BfUFVTSERBVEEyKSB7CiAgICAgICAgICBidy53cml0ZVVJbnQ2NChjaHVuay5sZW4pOwogICAgICAgICAgYncud3JpdGVTbGljZShjaHVuay5idWYpOwogICAgICAgIH0gZWxzZSBpZiAob3Bjb2RlbnVtID09PSBvcHNfMS5PUFMuT1BfUFVTSERBVEE0KSB7CiAgICAgICAgICBidy53cml0ZVVJbnQzMihjaHVuay5sZW4pOwogICAgICAgICAgYncud3JpdGVTbGljZShjaHVuay5idWYpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIGJ3LmVuZCgpOwogIH0KfQpleHBvcnRzLkRvZ1NjcmlwdCA9IERvZ1NjcmlwdDsKY2xhc3MgRG9nSW5zY3JpcHRpb25Ub29sIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHRoaXMubmV0d29yayA9IGJpdGNvaW4ubmV0d29ya3MuYml0Y29pbjsKICAgIHRoaXMuaW5zY3JpcHRpb25UeEN0eERhdGFMaXN0ID0gW107CiAgICB0aGlzLnJldmVhbFR4cyA9IFtdOwogICAgdGhpcy5jb21taXRUeCA9IG5ldyBiaXRjb2luLlRyYW5zYWN0aW9uKCk7CiAgICB0aGlzLmNvbW1pdFR4UHJldk91dHB1dEZldGNoZXIgPSBbXTsKICAgIHRoaXMucmV2ZWFsVHhQcmV2T3V0cHV0RmV0Y2hlciA9IFtdOwogICAgdGhpcy5tdXN0Q29tbWl0VHhGZWUgPSAwOwogICAgdGhpcy5tdXN0UmV2ZWFsVHhGZWVzID0gW107CiAgICB0aGlzLmNvbW1pdEFkZHJzID0gW107CiAgICB0aGlzLmZyb21BZGRyID0gJyc7CiAgICB0aGlzLnJldmVhbEFkZHIgPSAnJzsKICB9CiAgc3RhdGljIG5ld0RvZ0luc2NyaXB0aW9uVG9vbChuZXR3b3JrLCByZXF1ZXN0KSB7CiAgICBjb25zdCB0b29sID0gbmV3IERvZ0luc2NyaXB0aW9uVG9vbCgpOwogICAgdG9vbC5uZXR3b3JrID0gbmV0d29yazsKICAgIGNvbnN0IHJldmVhbE91dFZhbHVlID0gcmVxdWVzdC5yZXZlYWxPdXRWYWx1ZSB8fCBkZWZhdWx0UmV2ZWFsT3V0VmFsdWU7CiAgICBjb25zdCBtaW5DaGFuZ2VWYWx1ZSA9IHJlcXVlc3QubWluQ2hhbmdlVmFsdWUgfHwgZGVmYXVsdE1pbkNoYW5nZVZhbHVlOwogICAgY29uc3QgcHJpdmF0ZUtleSA9IHJlcXVlc3QuY29tbWl0VHhQcmV2T3V0cHV0TGlzdFswXS5wcml2YXRlS2V5OwogICAgdG9vbC5pbnNjcmlwdGlvblR4Q3R4RGF0YUxpc3QgPSBjcmVhdGVJbnNjcmlwdGlvblR4Q3R4RGF0YShuZXR3b3JrLCByZXF1ZXN0Lmluc2NyaXB0aW9uRGF0YSwgcHJpdmF0ZUtleSk7CiAgICB0b29sLnJldmVhbEFkZHIgPSByZXF1ZXN0Lmluc2NyaXB0aW9uRGF0YS5yZXZlYWxBZGRyOwogICAgY29uc3QgcHJpdmF0ZUtleUhleCA9IGNyeXB0b19saWJfMS5iYXNlLnRvSGV4KGNyeXB0b19saWJfMS5iYXNlLmZyb21IZXgoKDAsIHR4QnVpbGRfMS5wcml2YXRlS2V5RnJvbVdJRikocHJpdmF0ZUtleSwgbmV0d29yaykpKTsKICAgIGNvbnN0IHB1YmxpY0tleSA9ICgwLCB0eEJ1aWxkXzEucHJpdmF0ZTJwdWJsaWMpKHByaXZhdGVLZXlIZXgpOwogICAgdG9vbC5mcm9tQWRkciA9IGJpdGNvaW4ucGF5bWVudHMucDJwa2goewogICAgICBwdWJrZXk6IHB1YmxpY0tleSwKICAgICAgbmV0d29yazogbmV0d29yawogICAgfSkuYWRkcmVzczsKICAgIGNvbnN0IHRvdGFsUmV2ZWFsUHJldk91dHB1dFZhbHVlID0gdG9vbC5idWlsZEVtcHR5UmV2ZWFsVHhzKG5ldHdvcmssIHJldmVhbE91dFZhbHVlLCByZXF1ZXN0LnJldmVhbEZlZVJhdGUpOwogICAgY29uc3QgaW5zdWZmaWNpZW50ID0gdG9vbC5idWlsZENvbW1pdFR4KG5ldHdvcmssIHJlcXVlc3QuY29tbWl0VHhQcmV2T3V0cHV0TGlzdCwgcmVxdWVzdC5jaGFuZ2VBZGRyZXNzLCB0b3RhbFJldmVhbFByZXZPdXRwdXRWYWx1ZSwgcmV2ZWFsT3V0VmFsdWUsIHJlcXVlc3QuY29tbWl0RmVlUmF0ZSwgbWluQ2hhbmdlVmFsdWUpOwogICAgaWYgKGluc3VmZmljaWVudCkgewogICAgICByZXR1cm4gdG9vbDsKICAgIH0KICAgIHRvb2wuc2lnbkNvbW1pdFR4KHJlcXVlc3QuY29tbWl0VHhQcmV2T3V0cHV0TGlzdCk7CiAgICB0b29sLmNvbXBsZXRlUmV2ZWFsVHgoKTsKICAgIHJldHVybiB0b29sOwogIH0KICBidWlsZEVtcHR5UmV2ZWFsVHhzKG5ldHdvcmssIHJldmVhbE91dFZhbHVlLCByZXZlYWxGZWVSYXRlKSB7CiAgICBsZXQgdG90YWxQcmV2T3V0cHV0VmFsdWUgPSAwOwogICAgY29uc3QgcmV2ZWFsVHhzID0gW107CiAgICBjb25zdCBtdXN0UmV2ZWFsVHhGZWVzID0gW107CiAgICBjb25zdCBjb21taXRBZGRycyA9IFtdOwogICAgbGV0IGxlZnQgPSAwOwogICAgZm9yIChsZXQgaSA9IHRoaXMuaW5zY3JpcHRpb25UeEN0eERhdGFMaXN0Lmxlbmd0aCAtIDE7IGkgPiAtMTsgaS0tKSB7CiAgICAgIGxldCBpbnNjcmlwdGlvblR4Q3R4RGF0YSA9IHRoaXMuaW5zY3JpcHRpb25UeEN0eERhdGFMaXN0W2ldOwogICAgICBjb25zdCB0eCA9IG5ldyBiaXRjb2luLlRyYW5zYWN0aW9uKCk7CiAgICAgIHR4LnZlcnNpb24gPSBkZWZhdWx0VHhWZXJzaW9uOwogICAgICB0eC5hZGRJbnB1dChCdWZmZXIuYWxsb2MoMzIpLCAwLCBkZWZhdWx0U2VxdWVuY2VOdW0pOwogICAgICB0eC5hZGRJbnB1dChCdWZmZXIuYWxsb2MoMzIpLCAxLCBkZWZhdWx0U2VxdWVuY2VOdW0pOwogICAgICB0eC5hZGRPdXRwdXQoaSAhPSB0aGlzLmluc2NyaXB0aW9uVHhDdHhEYXRhTGlzdC5sZW5ndGggLSAxID8gaW5zY3JpcHRpb25UeEN0eERhdGEuY29tbWl0VHhBZGRyZXNzUGtTY3JpcHQgOiBpbnNjcmlwdGlvblR4Q3R4RGF0YS5yZXZlYWxQa1NjcmlwdCwgcmV2ZWFsT3V0VmFsdWUpOwogICAgICBjb25zdCBlbXB0eVNpZ25hdHVyZSA9IEJ1ZmZlci5hbGxvYyg3Mik7CiAgICAgIGxldCB1bmxvY2sgPSBCdWZmZXIuY29uY2F0KFtpbnNjcmlwdGlvblR4Q3R4RGF0YS5pbnNjcmlwdGlvblNjcmlwdCwgYnVmZmVyVG9CdWZmZXIoZW1wdHlTaWduYXR1cmUpLCBidWZmZXJUb0J1ZmZlcihpbnNjcmlwdGlvblR4Q3R4RGF0YS5yZWRlZW1TY3JpcHQpXSk7CiAgICAgIHR4Lmluc1swXS5zY3JpcHQgPSB1bmxvY2s7CiAgICAgIGlmIChpICE9IHRoaXMuaW5zY3JpcHRpb25UeEN0eERhdGFMaXN0Lmxlbmd0aCAtIDEpIHsKICAgICAgICB0eC5hZGRPdXRwdXQoYml0Y29pbi5hZGRyZXNzLnRvT3V0cHV0U2NyaXB0KHRoaXMuZnJvbUFkZHIsIG5ldHdvcmspLCBsZWZ0KTsKICAgICAgfQogICAgICB0eC5pbnNbMV0uc2NyaXB0ID0gQnVmZmVyLmFsbG9jKDEwNik7CiAgICAgIGNvbnN0IGZlZSA9IE1hdGguZmxvb3IoKHR4LmRvZ2VCeXRlTGVuZ3RoKCkgKyBleHBvcnRzLkNIQU5HRV9PVVRQVVRfTUFYX1NJWkUpICogcmV2ZWFsRmVlUmF0ZSk7CiAgICAgIGxlZnQgKz0gZmVlOwogICAgICBjb25zdCBwcmV2T3V0cHV0VmFsdWUgPSBmZWU7CiAgICAgIGluc2NyaXB0aW9uVHhDdHhEYXRhLnJldmVhbFR4UHJldk91dHB1dCA9IHsKICAgICAgICBwa1NjcmlwdDogaW5zY3JpcHRpb25UeEN0eERhdGEuY29tbWl0VHhBZGRyZXNzUGtTY3JpcHQsCiAgICAgICAgdmFsdWU6IHByZXZPdXRwdXRWYWx1ZQogICAgICB9OwogICAgICB0b3RhbFByZXZPdXRwdXRWYWx1ZSArPSBwcmV2T3V0cHV0VmFsdWU7CiAgICAgIHJldmVhbFR4cy5wdXNoKHR4KTsKICAgICAgbXVzdFJldmVhbFR4RmVlcy5wdXNoKGZlZSk7CiAgICAgIGNvbW1pdEFkZHJzLnB1c2goaW5zY3JpcHRpb25UeEN0eERhdGEuY29tbWl0VHhBZGRyZXNzKTsKICAgIH0KICAgIGZvciAobGV0IGkgPSAwLCBqID0gcmV2ZWFsVHhzLmxlbmd0aCAtIDE7IGkgPCBqOyBpKyssIGotLSkgewogICAgICBbcmV2ZWFsVHhzW2ldLCByZXZlYWxUeHNbal1dID0gW3JldmVhbFR4c1tqXSwgcmV2ZWFsVHhzW2ldXTsKICAgICAgW211c3RSZXZlYWxUeEZlZXNbaV0sIG11c3RSZXZlYWxUeEZlZXNbal1dID0gW211c3RSZXZlYWxUeEZlZXNbal0sIG11c3RSZXZlYWxUeEZlZXNbaV1dOwogICAgICBbY29tbWl0QWRkcnNbaV0sIGNvbW1pdEFkZHJzW2pdXSA9IFtjb21taXRBZGRyc1tqXSwgY29tbWl0QWRkcnNbaV1dOwogICAgfQogICAgdGhpcy5yZXZlYWxUeHMgPSByZXZlYWxUeHM7CiAgICB0aGlzLm11c3RSZXZlYWxUeEZlZXMgPSBtdXN0UmV2ZWFsVHhGZWVzOwogICAgdGhpcy5jb21taXRBZGRycyA9IGNvbW1pdEFkZHJzOwogICAgdG90YWxQcmV2T3V0cHV0VmFsdWUgKz0gcmV2ZWFsT3V0VmFsdWU7CiAgICByZXR1cm4gdG90YWxQcmV2T3V0cHV0VmFsdWU7CiAgfQogIGJ1aWxkQ29tbWl0VHgobmV0d29yaywgY29tbWl0VHhQcmV2T3V0cHV0TGlzdCwgY2hhbmdlQWRkcmVzcywgdG90YWxSZXZlYWxQcmV2T3V0cHV0VmFsdWUsIHJldmVhbE91dFZhbHVlLCBjb21taXRGZWVSYXRlLCBtaW5DaGFuZ2VWYWx1ZSkgewogICAgbGV0IHRvdGFsU2VuZGVyQW1vdW50ID0gMDsKICAgIGNvbnN0IHR4ID0gbmV3IGJpdGNvaW4uVHJhbnNhY3Rpb24oKTsKICAgIHR4LnZlcnNpb24gPSBkZWZhdWx0VHhWZXJzaW9uOwogICAgY29tbWl0VHhQcmV2T3V0cHV0TGlzdC5mb3JFYWNoKGNvbW1pdFR4UHJldk91dHB1dCA9PiB7CiAgICAgIGNvbnN0IGhhc2ggPSBjcnlwdG9fbGliXzEuYmFzZS5yZXZlcnNlQnVmZmVyKGNyeXB0b19saWJfMS5iYXNlLmZyb21IZXgoY29tbWl0VHhQcmV2T3V0cHV0LnR4SWQpKTsKICAgICAgdHguYWRkSW5wdXQoaGFzaCwgY29tbWl0VHhQcmV2T3V0cHV0LnZPdXQsIGRlZmF1bHRTZXF1ZW5jZU51bSk7CiAgICAgIHRoaXMuY29tbWl0VHhQcmV2T3V0cHV0RmV0Y2hlci5wdXNoKGNvbW1pdFR4UHJldk91dHB1dC5hbW91bnQpOwogICAgICB0b3RhbFNlbmRlckFtb3VudCArPSBjb21taXRUeFByZXZPdXRwdXQuYW1vdW50OwogICAgfSk7CiAgICB0eC5hZGRPdXRwdXQodGhpcy5pbnNjcmlwdGlvblR4Q3R4RGF0YUxpc3RbMF0ucmV2ZWFsVHhQcmV2T3V0cHV0LnBrU2NyaXB0LCByZXZlYWxPdXRWYWx1ZSk7CiAgICB0eC5hZGRPdXRwdXQoYml0Y29pbi5hZGRyZXNzLnRvT3V0cHV0U2NyaXB0KHRoaXMuZnJvbUFkZHIsIG5ldHdvcmspLCB0b3RhbFJldmVhbFByZXZPdXRwdXRWYWx1ZSk7CiAgICBjb25zdCBjaGFuZ2VQa1NjcmlwdCA9IGJpdGNvaW4uYWRkcmVzcy50b091dHB1dFNjcmlwdChjaGFuZ2VBZGRyZXNzLCBuZXR3b3JrKTsKICAgIHR4LmFkZE91dHB1dChjaGFuZ2VQa1NjcmlwdCwgMCk7CiAgICBjb25zdCB0eEZvckVzdGltYXRlID0gdHguY2xvbmUoKTsKICAgIHNpZ25UeCh0eEZvckVzdGltYXRlLCBjb21taXRUeFByZXZPdXRwdXRMaXN0LCB0aGlzLm5ldHdvcmspOwogICAgY29uc3QgZmVlID0gTWF0aC5mbG9vcigodHhGb3JFc3RpbWF0ZS5kb2dlQnl0ZUxlbmd0aCgpICsgZXhwb3J0cy5DSEFOR0VfT1VUUFVUX01BWF9TSVpFKSAqIGNvbW1pdEZlZVJhdGUpOwogICAgY29uc3QgY2hhbmdlQW1vdW50ID0gdG90YWxTZW5kZXJBbW91bnQgLSB0b3RhbFJldmVhbFByZXZPdXRwdXRWYWx1ZSAtIGZlZTsKICAgIGlmIChjaGFuZ2VBbW91bnQgPj0gbWluQ2hhbmdlVmFsdWUpIHsKICAgICAgdHgub3V0c1t0eC5vdXRzLmxlbmd0aCAtIDFdLnZhbHVlID0gY2hhbmdlQW1vdW50OwogICAgfSBlbHNlIHsKICAgICAgdHgub3V0cyA9IHR4Lm91dHMuc2xpY2UoMCwgdHgub3V0cy5sZW5ndGggLSAxKTsKICAgICAgdHhGb3JFc3RpbWF0ZS5vdXRzID0gdHhGb3JFc3RpbWF0ZS5vdXRzLnNsaWNlKDAsIHR4Rm9yRXN0aW1hdGUub3V0cy5sZW5ndGggLSAxKTsKICAgICAgY29uc3QgZmVlV2l0aG91dENoYW5nZSA9IE1hdGguZmxvb3IodHhGb3JFc3RpbWF0ZS5kb2dlQnl0ZUxlbmd0aCgpICogY29tbWl0RmVlUmF0ZSk7CiAgICAgIGlmICh0b3RhbFNlbmRlckFtb3VudCAtIHRvdGFsUmV2ZWFsUHJldk91dHB1dFZhbHVlIC0gZmVlV2l0aG91dENoYW5nZSA8IDApIHsKICAgICAgICB0aGlzLm11c3RDb21taXRUeEZlZSA9IGZlZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfQogICAgdGhpcy5jb21taXRUeCA9IHR4OwogICAgcmV0dXJuIGZhbHNlOwogIH0KICBzaWduQ29tbWl0VHgoY29tbWl0VHhQcmV2T3V0cHV0TGlzdCkgewogICAgc2lnblR4KHRoaXMuY29tbWl0VHgsIGNvbW1pdFR4UHJldk91dHB1dExpc3QsIHRoaXMubmV0d29yayk7CiAgfQogIGNvbXBsZXRlUmV2ZWFsVHgoKSB7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmV2ZWFsVHhzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGxldCByZXZlYWxUeCA9IHRoaXMucmV2ZWFsVHhzW2ldOwogICAgICByZXZlYWxUeC5pbnNbMF0uaGFzaCA9IGkgPT0gMCA/IHRoaXMuY29tbWl0VHguZ2V0SGFzaCgpIDogdGhpcy5yZXZlYWxUeHNbaSAtIDFdLmdldEhhc2goKTsKICAgICAgcmV2ZWFsVHguaW5zWzFdLmhhc2ggPSBpID09IDAgPyB0aGlzLmNvbW1pdFR4LmdldEhhc2goKSA6IHRoaXMucmV2ZWFsVHhzW2kgLSAxXS5nZXRIYXNoKCk7CiAgICAgIHRoaXMucmV2ZWFsVHhQcmV2T3V0cHV0RmV0Y2hlci5wdXNoKHRoaXMuaW5zY3JpcHRpb25UeEN0eERhdGFMaXN0W2ldLnJldmVhbFR4UHJldk91dHB1dC52YWx1ZSk7CiAgICAgIGNvbnN0IHByZXZPdXRTY3JpcHRzID0gdGhpcy5pbnNjcmlwdGlvblR4Q3R4RGF0YUxpc3RbaV0ucmVkZWVtU2NyaXB0OwogICAgICBjb25zdCBoYXNoID0gcmV2ZWFsVHguaGFzaEZvclNpZ25hdHVyZSgwLCBwcmV2T3V0U2NyaXB0cywgYml0Y29pbi5UcmFuc2FjdGlvbi5TSUdIQVNIX0FMTCk7CiAgICAgIGNvbnN0IHByaXZhdGVLZXlIZXggPSBjcnlwdG9fbGliXzEuYmFzZS50b0hleCh0aGlzLmluc2NyaXB0aW9uVHhDdHhEYXRhTGlzdFtpXS5wcml2YXRlS2V5KTsKICAgICAgY29uc3Qgc2lnbmF0dXJlID0gKDAsIHR4QnVpbGRfMS5zaWduKShoYXNoLCBwcml2YXRlS2V5SGV4KTsKICAgICAgbGV0IHR4c2lnbmF0dXJlID0gYml0Y29pbi5zY3JpcHQuc2lnbmF0dXJlLmVuY29kZShzaWduYXR1cmUsIGJpdGNvaW4uVHJhbnNhY3Rpb24uU0lHSEFTSF9BTEwpOwogICAgICByZXZlYWxUeC5pbnNbMF0uc2NyaXB0ID0gQnVmZmVyLmNvbmNhdChbdGhpcy5pbnNjcmlwdGlvblR4Q3R4RGF0YUxpc3RbaV0uaW5zY3JpcHRpb25TY3JpcHQsIGJ1ZmZlclRvQnVmZmVyKHR4c2lnbmF0dXJlKSwgYnVmZmVyVG9CdWZmZXIodGhpcy5pbnNjcmlwdGlvblR4Q3R4RGF0YUxpc3RbaV0ucmVkZWVtU2NyaXB0KV0pOwogICAgICBjb25zdCBwcmV2U2NyaXB0ID0gYml0Y29pbi5hZGRyZXNzLnRvT3V0cHV0U2NyaXB0KHRoaXMuZnJvbUFkZHIsIHRoaXMubmV0d29yayk7CiAgICAgIGNvbnN0IGhhc2gyID0gcmV2ZWFsVHguaGFzaEZvclNpZ25hdHVyZSgxLCBwcmV2U2NyaXB0LCBiaXRjb2luLlRyYW5zYWN0aW9uLlNJR0hBU0hfQUxMKTsKICAgICAgY29uc3Qgc2lnbmF0dXJlMiA9ICgwLCB0eEJ1aWxkXzEuc2lnbikoaGFzaDIsIHByaXZhdGVLZXlIZXgpOwogICAgICBjb25zdCBwYXltZW50ID0gYml0Y29pbi5wYXltZW50cy5wMnBraCh7CiAgICAgICAgc2lnbmF0dXJlOiBiaXRjb2luLnNjcmlwdC5zaWduYXR1cmUuZW5jb2RlKHNpZ25hdHVyZTIsIGJpdGNvaW4uVHJhbnNhY3Rpb24uU0lHSEFTSF9BTEwpLAogICAgICAgIHB1YmtleTogKDAsIHR4QnVpbGRfMS5wcml2YXRlMnB1YmxpYykocHJpdmF0ZUtleUhleCkKICAgICAgfSk7CiAgICAgIHJldmVhbFR4Lmluc1sxXS5zY3JpcHQgPSBwYXltZW50LmlucHV0OwogICAgfQogIH0KICBjYWxjdWxhdGVGZWUoKSB7CiAgICBsZXQgY29tbWl0VHhGZWUgPSAwOwogICAgdGhpcy5jb21taXRUeC5pbnMuZm9yRWFjaCgoXywgaSkgPT4gewogICAgICBjb21taXRUeEZlZSArPSB0aGlzLmNvbW1pdFR4UHJldk91dHB1dEZldGNoZXJbaV07CiAgICB9KTsKICAgIHRoaXMuY29tbWl0VHgub3V0cy5mb3JFYWNoKG91dCA9PiB7CiAgICAgIGNvbW1pdFR4RmVlIC09IG91dC52YWx1ZTsKICAgIH0pOwogICAgbGV0IHJldmVhbFR4RmVlcyA9IFtdOwogICAgdGhpcy5yZXZlYWxUeHMuZm9yRWFjaCgocmV2ZWFsVHgsIGkpID0+IHsKICAgICAgbGV0IHJldmVhbFR4RmVlID0gMDsKICAgICAgcmV2ZWFsVHhGZWUgPSB0aGlzLnJldmVhbFR4UHJldk91dHB1dEZldGNoZXJbaV07CiAgICAgIHJldmVhbFR4RmVlcy5wdXNoKHJldmVhbFR4RmVlKTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgY29tbWl0VHhGZWUsCiAgICAgIHJldmVhbFR4RmVlcwogICAgfTsKICB9Cn0KZXhwb3J0cy5Eb2dJbnNjcmlwdGlvblRvb2wgPSBEb2dJbnNjcmlwdGlvblRvb2w7CmZ1bmN0aW9uIHNpZ25UeCh0eCwgY29tbWl0VHhQcmV2T3V0cHV0TGlzdCwgbmV0d29yaykgewogIHR4Lmlucy5mb3JFYWNoKChpbnB1dCwgaSkgPT4gewogICAgY29uc3QgYWRkcmVzc1R5cGUgPSAoMCwgdHhCdWlsZF8xLmdldEFkZHJlc3NUeXBlKShjb21taXRUeFByZXZPdXRwdXRMaXN0W2ldLmFkZHJlc3MsIG5ldHdvcmspOwogICAgY29uc3QgcHJpdmF0ZUtleSA9IGNyeXB0b19saWJfMS5iYXNlLmZyb21IZXgoKDAsIHR4QnVpbGRfMS5wcml2YXRlS2V5RnJvbVdJRikoY29tbWl0VHhQcmV2T3V0cHV0TGlzdFtpXS5wcml2YXRlS2V5LCBuZXR3b3JrKSk7CiAgICBjb25zdCBwcml2YXRlS2V5SGV4ID0gY3J5cHRvX2xpYl8xLmJhc2UudG9IZXgocHJpdmF0ZUtleSk7CiAgICBjb25zdCBwdWJsaWNLZXkgPSAoMCwgdHhCdWlsZF8xLnByaXZhdGUycHVibGljKShwcml2YXRlS2V5SGV4KTsKICAgIGlmIChhZGRyZXNzVHlwZSA9PT0gJ2xlZ2FjeScpIHsKICAgICAgY29uc3QgcHJldlNjcmlwdCA9IGJpdGNvaW4uYWRkcmVzcy50b091dHB1dFNjcmlwdChjb21taXRUeFByZXZPdXRwdXRMaXN0W2ldLmFkZHJlc3MsIG5ldHdvcmspOwogICAgICBjb25zdCBoYXNoID0gdHguaGFzaEZvclNpZ25hdHVyZShpLCBwcmV2U2NyaXB0LCBiaXRjb2luLlRyYW5zYWN0aW9uLlNJR0hBU0hfQUxMKTsKICAgICAgY29uc3Qgc2lnbmF0dXJlID0gKDAsIHR4QnVpbGRfMS5zaWduKShoYXNoLCBwcml2YXRlS2V5SGV4KTsKICAgICAgY29uc3QgcGF5bWVudCA9IGJpdGNvaW4ucGF5bWVudHMucDJwa2goewogICAgICAgIHNpZ25hdHVyZTogYml0Y29pbi5zY3JpcHQuc2lnbmF0dXJlLmVuY29kZShzaWduYXR1cmUsIGJpdGNvaW4uVHJhbnNhY3Rpb24uU0lHSEFTSF9BTEwpLAogICAgICAgIHB1YmtleTogcHVibGljS2V5CiAgICAgIH0pOwogICAgICBpbnB1dC5zY3JpcHQgPSBwYXltZW50LmlucHV0OwogICAgfSBlbHNlIHsKICAgICAgY29uc3QgcHViS2V5SGFzaCA9IGJjcnlwdG8uaGFzaDE2MChwdWJsaWNLZXkpOwogICAgICBjb25zdCBwcmV2T3V0U2NyaXB0ID0gQnVmZmVyLm9mKDB4MTksIDB4NzYsIDB4YTksIDB4MTQsIC4uLnB1YktleUhhc2gsIDB4ODgsIDB4YWMpOwogICAgICBjb25zdCB2YWx1ZSA9IGNvbW1pdFR4UHJldk91dHB1dExpc3RbaV0uYW1vdW50OwogICAgICBjb25zdCBoYXNoID0gdHguaGFzaEZvcldpdG5lc3MoaSwgcHJldk91dFNjcmlwdCwgdmFsdWUsIGJpdGNvaW4uVHJhbnNhY3Rpb24uU0lHSEFTSF9BTEwpOwogICAgICBjb25zdCBzaWduYXR1cmUgPSAoMCwgdHhCdWlsZF8xLnNpZ24pKGhhc2gsIHByaXZhdGVLZXlIZXgpOwogICAgICBpbnB1dC53aXRuZXNzID0gW2JpdGNvaW4uc2NyaXB0LnNpZ25hdHVyZS5lbmNvZGUoc2lnbmF0dXJlLCBiaXRjb2luLlRyYW5zYWN0aW9uLlNJR0hBU0hfQUxMKSwgcHVibGljS2V5XTsKICAgICAgY29uc3QgcmVkZWVtU2NyaXB0ID0gQnVmZmVyLm9mKDB4MTYsIDAsIDIwLCAuLi5wdWJLZXlIYXNoKTsKICAgICAgaWYgKGFkZHJlc3NUeXBlID09PSAic2Vnd2l0X25lc3RlZCIpIHsKICAgICAgICBpbnB1dC5zY3JpcHQgPSByZWRlZW1TY3JpcHQ7CiAgICAgIH0KICAgIH0KICB9KTsKfQpmdW5jdGlvbiBjcmVhdGVJbnNjcmlwdGlvblR4Q3R4RGF0YShuZXR3b3JrLCBpbnNjcmlwdGlvbkRhdGEsIHByaXZhdGVLZXlXaWYpIHsKICBjb25zdCBwcml2YXRlS2V5ID0gY3J5cHRvX2xpYl8xLmJhc2UuZnJvbUhleCgoMCwgdHhCdWlsZF8xLnByaXZhdGVLZXlGcm9tV0lGKShwcml2YXRlS2V5V2lmLCBuZXR3b3JrKSk7CiAgY29uc3QgcHViS2V5ID0gKDAsIHR4QnVpbGRfMS53aWYyUHVibGljKShwcml2YXRlS2V5V2lmLCBuZXR3b3JrKTsKICBjb25zdCBvcHMgPSBiaXRjb2luLnNjcmlwdC5PUFM7CiAgbGV0IGRhdGE7CiAgaWYgKHR5cGVvZiBpbnNjcmlwdGlvbkRhdGEuYm9keSA9PSAnc3RyaW5nJykgewogICAgZGF0YSA9IEJ1ZmZlci5mcm9tKGluc2NyaXB0aW9uRGF0YS5ib2R5KTsKICB9IGVsc2UgewogICAgZGF0YSA9IGluc2NyaXB0aW9uRGF0YS5ib2R5OwogIH0KICBsZXQgcGFydHMgPSBbXTsKICB3aGlsZSAoZGF0YS5sZW5ndGgpIHsKICAgIGxldCBwYXJ0ID0gZGF0YS5zbGljZSgwLCBNYXRoLm1pbihNQVhfQ0hVTktfTEVOLCBkYXRhLmxlbmd0aCkpOwogICAgZGF0YSA9IGRhdGEuc2xpY2UocGFydC5sZW5ndGgpOwogICAgcGFydHMucHVzaChwYXJ0KTsKICB9CiAgbGV0IGluc2NyaXB0aW9uID0gbmV3IERvZ1NjcmlwdCgpOwogIGluc2NyaXB0aW9uLmNodW5rcy5wdXNoKGJ1ZmZlclRvQ2h1bmsoQnVmZmVyLmZyb20oJ29yZCcpKSk7CiAgaW5zY3JpcHRpb24uY2h1bmtzLnB1c2gobnVtYmVyVG9DaHVuayhwYXJ0cy5sZW5ndGgpKTsKICBpbnNjcmlwdGlvbi5jaHVua3MucHVzaChidWZmZXJUb0NodW5rKEJ1ZmZlci5mcm9tKGluc2NyaXB0aW9uRGF0YS5jb250ZW50VHlwZSkpKTsKICBwYXJ0cy5mb3JFYWNoKChwYXJ0LCBuKSA9PiB7CiAgICBpbnNjcmlwdGlvbi5jaHVua3MucHVzaChudW1iZXJUb0NodW5rKHBhcnRzLmxlbmd0aCAtIG4gLSAxKSk7CiAgICBpbnNjcmlwdGlvbi5jaHVua3MucHVzaChidWZmZXJUb0NodW5rKHBhcnQpKTsKICB9KTsKICBsZXQgY3R4RGF0YXMgPSBbXTsKICB3aGlsZSAoaW5zY3JpcHRpb24uY2h1bmtzLmxlbmd0aCkgewogICAgbGV0IHBhcnRpYWwgPSBuZXcgRG9nU2NyaXB0KCk7CiAgICBpZiAoY3R4RGF0YXMubGVuZ3RoID09IDApIHsKICAgICAgcGFydGlhbC5jaHVua3MucHVzaChpbnNjcmlwdGlvbi5jaHVua3Muc2hpZnQoKSk7CiAgICB9CiAgICB3aGlsZSAocGFydGlhbC50b3RhbCgpIDw9IE1BWF9QQVlMT0FEX0xFTiAmJiBpbnNjcmlwdGlvbi5jaHVua3MubGVuZ3RoKSB7CiAgICAgIHBhcnRpYWwuY2h1bmtzLnB1c2goaW5zY3JpcHRpb24uY2h1bmtzLnNoaWZ0KCkpOwogICAgICBwYXJ0aWFsLmNodW5rcy5wdXNoKGluc2NyaXB0aW9uLmNodW5rcy5zaGlmdCgpKTsKICAgIH0KICAgIGlmIChwYXJ0aWFsLnRvdGFsKCkgPiBNQVhfUEFZTE9BRF9MRU4pIHsKICAgICAgaW5zY3JpcHRpb24uY2h1bmtzLnVuc2hpZnQocGFydGlhbC5jaHVua3MucG9wKCkpOwogICAgICBpbnNjcmlwdGlvbi5jaHVua3MudW5zaGlmdChwYXJ0aWFsLmNodW5rcy5wb3AoKSk7CiAgICB9CiAgICBsZXQgbG9jayA9IG5ldyBEb2dTY3JpcHQoKTsKICAgIGxvY2suY2h1bmtzLnB1c2goYnVmZmVyVG9DaHVuayhwdWJLZXkpKTsKICAgIGxvY2suY2h1bmtzLnB1c2gob3Bjb2RlVG9DaHVuayhvcHMuT1BfQ0hFQ0tTSUdWRVJJRlkpKTsKICAgIHBhcnRpYWwuY2h1bmtzLmZvckVhY2goKCkgPT4gewogICAgICBsb2NrLmNodW5rcy5wdXNoKG9wY29kZVRvQ2h1bmsob3BzLk9QX0RST1ApKTsKICAgIH0pOwogICAgbG9jay5jaHVua3MucHVzaChvcGNvZGVUb0NodW5rKG9wcy5PUF9UUlVFKSk7CiAgICBsZXQgbG9ja2hhc2ggPSBjcnlwdG9fbGliXzEuYmFzZS5yaXBlbWQxNjAoY3J5cHRvX2xpYl8xLmJhc2Uuc2hhMjU2KGxvY2sudG9CdWZmZXIoKSkpOwogICAgbGV0IHsKICAgICAgb3V0cHV0LAogICAgICBhZGRyZXNzCiAgICB9ID0gcGF5bWVudHMucDJzaCh7CiAgICAgIGhhc2g6IEJ1ZmZlci5mcm9tKGxvY2toYXNoKSwKICAgICAgbmV0d29yazogbmV0d29yawogICAgfSk7CiAgICBsZXQgY3R4ID0gewogICAgICBwcml2YXRlS2V5OiBwcml2YXRlS2V5LAogICAgICBpbnNjcmlwdGlvblNjcmlwdDogcGFydGlhbC50b0J1ZmZlcigpLAogICAgICByZWRlZW1TY3JpcHQ6IGxvY2sudG9CdWZmZXIoKSwKICAgICAgY29tbWl0VHhBZGRyZXNzOiBhZGRyZXNzLAogICAgICBjb21taXRUeEFkZHJlc3NQa1NjcmlwdDogb3V0cHV0LAogICAgICByZXZlYWxUeFByZXZPdXRwdXQ6IHsKICAgICAgICBwa1NjcmlwdDogQnVmZmVyLmFsbG9jKDApLAogICAgICAgIHZhbHVlOiAxMDAwMDAKICAgICAgfSwKICAgICAgcmV2ZWFsUGtTY3JpcHQ6IGJpdGNvaW4uYWRkcmVzcy50b091dHB1dFNjcmlwdChpbnNjcmlwdGlvbkRhdGEucmV2ZWFsQWRkciwgbmV0d29yaykKICAgIH07CiAgICBjdHhEYXRhcy5wdXNoKGN0eCk7CiAgfQogIHJldHVybiBjdHhEYXRhczsKfQpmdW5jdGlvbiBkb2dJbnNjcmliZShuZXR3b3JrLCByZXF1ZXN0KSB7CiAgY29uc3QgdG9vbCA9IERvZ0luc2NyaXB0aW9uVG9vbC5uZXdEb2dJbnNjcmlwdGlvblRvb2wobmV0d29yaywgcmVxdWVzdCk7CiAgaWYgKHRvb2wubXVzdENvbW1pdFR4RmVlID4gMCkgewogICAgcmV0dXJuIHsKICAgICAgY29tbWl0VHg6ICIiLAogICAgICByZXZlYWxUeHM6IFtdLAogICAgICBjb21taXRUeEZlZTogdG9vbC5tdXN0Q29tbWl0VHhGZWUsCiAgICAgIHJldmVhbFR4RmVlczogdG9vbC5tdXN0UmV2ZWFsVHhGZWVzLAogICAgICBjb21taXRBZGRyczogdG9vbC5jb21taXRBZGRycwogICAgfTsKICB9CiAgcmV0dXJuIHsKICAgIGNvbW1pdFR4OiB0b29sLmNvbW1pdFR4LnRvSGV4KCksCiAgICByZXZlYWxUeHM6IHRvb2wucmV2ZWFsVHhzLm1hcChyZXZlYWxUeCA9PiByZXZlYWxUeC50b0hleCgpKSwKICAgIC4uLnRvb2wuY2FsY3VsYXRlRmVlKCksCiAgICBjb21taXRBZGRyczogdG9vbC5jb21taXRBZGRycwogIH07Cn0KZXhwb3J0cy5kb2dJbnNjcmliZSA9IGRvZ0luc2NyaWJlOw=="},{"version":3,"names":["bitcoin","__importStar","require","crypto_lib_1","bcrypto","txBuild_1","bitcoinjs_lib_1","ops_1","payments","bufferutils_1","exports","CHANGE_OUTPUT_MAX_SIZE","defaultTxVersion","defaultSequenceNum","defaultRevealOutValue","defaultMinChangeValue","MAX_CHUNK_LEN","MAX_PAYLOAD_LEN","numberToChunk","n","buf","undefined","Buffer","from","len","opcodenum","bufferToBuffer","b","c","bufferToChunk","size","varuint","encodingLength","OPS","OP_PUSHDATA1","OP_PUSHDATA2","OP_PUSHDATA4","length","bw","BufferWriter","withCapacity","writeUInt8","writeSlice","writeUInt64","writeUInt32","end","opcodeToChunk","op","DogScript","constructor","chunks","total","map","chunk","reduce","a","toBuffer","i","DogInscriptionTool","network","networks","inscriptionTxCtxDataList","revealTxs","commitTx","Transaction","commitTxPrevOutputFetcher","revealTxPrevOutputFetcher","mustCommitTxFee","mustRevealTxFees","commitAddrs","fromAddr","revealAddr","newDogInscriptionTool","request","tool","revealOutValue","minChangeValue","privateKey","commitTxPrevOutputList","createInscriptionTxCtxData","inscriptionData","privateKeyHex","base","toHex","fromHex","privateKeyFromWIF","publicKey","private2public","p2pkh","pubkey","address","totalRevealPrevOutputValue","buildEmptyRevealTxs","revealFeeRate","insufficient","buildCommitTx","changeAddress","commitFeeRate","signCommitTx","completeRevealTx","totalPrevOutputValue","left","inscriptionTxCtxData","tx","version","addInput","alloc","addOutput","commitTxAddressPkScript","revealPkScript","emptySignature","unlock","concat","inscriptionScript","redeemScript","ins","script","toOutputScript","fee","Math","floor","dogeByteLength","prevOutputValue","revealTxPrevOutput","pkScript","value","push","commitTxAddress","j","totalSenderAmount","forEach","commitTxPrevOutput","hash","reverseBuffer","txId","vOut","amount","changePkScript","txForEstimate","clone","signTx","changeAmount","outs","slice","feeWithoutChange","revealTx","getHash","prevOutScripts","hashForSignature","SIGHASH_ALL","signature","sign","txsignature","encode","prevScript","hash2","signature2","payment","input","calculateFee","commitTxFee","_","out","revealTxFees","revealTxFee","addressType","getAddressType","pubKeyHash","hash160","prevOutScript","of","hashForWitness","witness","privateKeyWif","pubKey","wif2Public","ops","data","body","parts","part","min","inscription","contentType","ctxDatas","partial","shift","unshift","pop","lock","OP_CHECKSIGVERIFY","OP_DROP","OP_TRUE","lockhash","ripemd160","sha256","output","p2sh","ctx","dogInscribe"],"sources":["../src/doginals.ts"],"sourcesContent":[null],"mappings":"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"}]}