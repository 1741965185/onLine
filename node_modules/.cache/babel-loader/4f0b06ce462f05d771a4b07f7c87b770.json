{"remainingRequest":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js??ref--16!/Users/apple/IdeaProjects/onLinePayMerchant/src/store/modules/certification.js","dependencies":[{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/src/store/modules/certification.js","mtime":1713258283350},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwovLyBWdWV45qih5Z2XCmltcG9ydCB7IGdldENlcnRpZmljYXRpb25TdGF0dXMgfSBmcm9tICJAL2FwaS9jZXJ0aWZpY2F0aW9uIjsKaW1wb3J0IHJvdXRlciBmcm9tICJAL3JvdXRlciI7CmNvbnN0IGNlcnRpZmljYXRpb24gPSB7CiAgc3RhdGU6IHsKICAgIGlzUG9wdXBWaXNpYmxlOiBmYWxzZQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzaG93UG9wdXAoc3RhdGUpIHsKICAgICAgc3RhdGUuaXNQb3B1cFZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGhpZGVQb3B1cChzdGF0ZSkgewogICAgICBzdGF0ZS5pc1BvcHVwVmlzaWJsZSA9IGZhbHNlOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgLy8gMCDmnKrlrp7lkI0gMSDlt7Llrp7lkI0gMiDlrqHmoLjkuK0KICAgIGNoZWNrQXVkaXRTdGF0dXMoX3JlZikgewogICAgICBsZXQgewogICAgICAgIGNvbW1pdCwKICAgICAgICBkaXNwYXRjaAogICAgICB9ID0gX3JlZjsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBnZXRDZXJ0aWZpY2F0aW9uU3RhdHVzKHsKICAgICAgICAgIG1lcklkOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJtZXJJZCIpCiAgICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBjb25zdCBjZXJ0aWZpY2F0aW9uU3RhdHVzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIGlmIChjZXJ0aWZpY2F0aW9uU3RhdHVzID09PSAxKSB7CiAgICAgICAgICAgIHJlc29sdmUoKTsgLy8g5a6h5qC45bey6YCa6L+HCiAgICAgICAgICB9IGVsc2UgaWYgKGNlcnRpZmljYXRpb25TdGF0dXMgPT09IDApIHsKICAgICAgICAgICAgY29tbWl0KCJzaG93UG9wdXAiKTsgLy8g5pyq5o+Q5Lqk5a6h5qC477yM5pi+56S65by556qXCiAgICAgICAgICAgIHJlamVjdCgpOyAvLyDpgJrov4dyZWplY3Tmlrnms5Xnu4jmraJQcm9taXNl6ZO+77yM6Ziy5q2i57un57ut5omn6KGM5ZCO57ut5Luj56CBCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyDlrqHmoLjkuK3vvIzlj6/ku6XpgInmi6nnu6fnu63nrYnlvoXmiJbogIXot7PovazliLDlrqHmoLjpobXpnaIKICAgICAgICAgICAgLy8g5qC55o2u5a6e6ZmF6ZyA5rGC57yW5YaZ55u45bqU55qE6YC76L6RCiAgICAgICAgICAgIGNvbW1pdCgic2hvd1BvcHVwIik7IC8vIOacquaPkOS6pOWuoeaguO+8jOaYvuekuuW8ueeqlwogICAgICAgICAgICAvLyBkaXNwYXRjaCgiZ29Ub0F1dGhlbnRpY2F0aW9uIik7IC8vIOiwg+eUqCBnb1RvQXV0aGVudGljYXRpb24gYWN0aW9uCiAgICAgICAgICAgIHJlamVjdCgpOyAvLyDpgJrov4dyZWplY3Tmlrnms5Xnu4jmraJQcm9taXNl6ZO+77yM6Ziy5q2i57un57ut5omn6KGM5ZCO57ut5Luj56CBCiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICByZWplY3QoZXJyb3IpOyAvLyDlpITnkIbmjqXlj6Por7fmsYLlpLHotKXnmoTmg4XlhrUKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZ29Ub0F1dGhlbnRpY2F0aW9uKF9yZWYyKSB7CiAgICAgIGxldCB7CiAgICAgICAgY29tbWl0CiAgICAgIH0gPSBfcmVmMjsKICAgICAgY29tbWl0KCJoaWRlUG9wdXAiKTsgLy8g6ZqQ6JeP5by556qXCiAgICAgIC8vIOi3s+i9rOWIsOWunuWQjeiupOivgemhtemdogogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogIi9BdXRoZW50aWNhdGlvblByb2Nlc3NpbmciLAogICAgICAgIG5hbWU6ICJBdXRoZW50aWNhdGlvblByb2Nlc3NpbmciLAogICAgICAgIG1ldGE6IHsKICAgICAgICAgIHRpdGxlOiAi5a6e5ZCN6K6k6K+BIgogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9OwpleHBvcnQgZGVmYXVsdCBjZXJ0aWZpY2F0aW9uOw=="},{"version":3,"names":["getCertificationStatus","router","certification","state","isPopupVisible","mutations","showPopup","hidePopup","actions","checkAuditStatus","_ref","commit","dispatch","Promise","resolve","reject","merId","sessionStorage","getItem","then","response","certificationStatus","data","catch","error","console","goToAuthentication","_ref2","push","path","name","meta","title"],"sources":["/Users/apple/IdeaProjects/onLinePayMerchant/src/store/modules/certification.js"],"sourcesContent":["// Vuex模块\nimport {getCertificationStatus } from \"@/api/certification\";\nimport router from \"@/router\";\n\nconst certification = {\n\tstate: {\n\t\tisPopupVisible: false,\n\t},\n\tmutations: {\n\t\tshowPopup(state) {\n\t\t\tstate.isPopupVisible = true;\n\t\t},\n\t\thidePopup(state) {\n\t\t\tstate.isPopupVisible = false;\n\t\t},\n\t},\n\tactions: {\n\t\t// 0 未实名 1 已实名 2 审核中\n\t\tcheckAuditStatus({ commit , dispatch}) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tgetCertificationStatus({\n\t\t\t\t\tmerId: sessionStorage.getItem(\"merId\"),\n\t\t\t\t})\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tconst certificationStatus = response.data;\n\t\t\t\t\t\tif (certificationStatus === 1) {\n\t\t\t\t\t\t\tresolve(); // 审核已通过\n\t\t\t\t\t\t} else if (certificationStatus === 0) {\n\t\t\t\t\t\t\tcommit(\"showPopup\"); // 未提交审核，显示弹窗\n\t\t\t\t\t\t\treject(); // 通过reject方法终止Promise链，防止继续执行后续代码\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// 审核中，可以选择继续等待或者跳转到审核页面\n\t\t\t\t\t\t\t// 根据实际需求编写相应的逻辑\n\t\t\t\t\t\t\tcommit(\"showPopup\"); // 未提交审核，显示弹窗\n\t\t\t\t\t\t\t// dispatch(\"goToAuthentication\"); // 调用 goToAuthentication action\n\t\t\t\t\t\t\treject(); // 通过reject方法终止Promise链，防止继续执行后续代码\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tconsole.error(error);\n\t\t\t\t\t\treject(error); // 处理接口请求失败的情况\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgoToAuthentication({ commit }) {\n\t\t\tcommit(\"hidePopup\"); // 隐藏弹窗\n\t\t\t// 跳转到实名认证页面\n\t\t\trouter.push({\n\t\t\t\tpath: \"/AuthenticationProcessing\",\n\t\t\t\tname: \"AuthenticationProcessing\",\n\t\t\t\tmeta: {\n\t\t\t\t\ttitle: \"实名认证\",\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t},\n};\nexport default certification"],"mappings":";;AAAA;AACA,SAAQA,sBAAsB,QAAQ,qBAAqB;AAC3D,OAAOC,MAAM,MAAM,UAAU;AAE7B,MAAMC,aAAa,GAAG;EACrBC,KAAK,EAAE;IACNC,cAAc,EAAE;EACjB,CAAC;EACDC,SAAS,EAAE;IACVC,SAASA,CAACH,KAAK,EAAE;MAChBA,KAAK,CAACC,cAAc,GAAG,IAAI;IAC5B,CAAC;IACDG,SAASA,CAACJ,KAAK,EAAE;MAChBA,KAAK,CAACC,cAAc,GAAG,KAAK;IAC7B;EACD,CAAC;EACDI,OAAO,EAAE;IACR;IACAC,gBAAgBA,CAAAC,IAAA,EAAuB;MAAA,IAAtB;QAAEC,MAAM;QAAGC;MAAQ,CAAC,GAAAF,IAAA;MACpC,OAAO,IAAIG,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;QACvCf,sBAAsB,CAAC;UACtBgB,KAAK,EAAEC,cAAc,CAACC,OAAO,CAAC,OAAO;QACtC,CAAC,CAAC,CACAC,IAAI,CAAEC,QAAQ,IAAK;UACnB,MAAMC,mBAAmB,GAAGD,QAAQ,CAACE,IAAI;UACzC,IAAID,mBAAmB,KAAK,CAAC,EAAE;YAC9BP,OAAO,CAAC,CAAC,CAAC,CAAC;UACZ,CAAC,MAAM,IAAIO,mBAAmB,KAAK,CAAC,EAAE;YACrCV,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;YACrBI,MAAM,CAAC,CAAC,CAAC,CAAC;UACX,CAAC,MAAM;YACN;YACA;YACAJ,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;YACrB;YACAI,MAAM,CAAC,CAAC,CAAC,CAAC;UACX;QACD,CAAC,CAAC,CACDQ,KAAK,CAAEC,KAAK,IAAK;UACjBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;UACpBT,MAAM,CAACS,KAAK,CAAC,CAAC,CAAC;QAChB,CAAC,CAAC;MACJ,CAAC,CAAC;IACH,CAAC;IACDE,kBAAkBA,CAAAC,KAAA,EAAa;MAAA,IAAZ;QAAEhB;MAAO,CAAC,GAAAgB,KAAA;MAC5BhB,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;MACrB;MACAV,MAAM,CAAC2B,IAAI,CAAC;QACXC,IAAI,EAAE,2BAA2B;QACjCC,IAAI,EAAE,0BAA0B;QAChCC,IAAI,EAAE;UACLC,KAAK,EAAE;QACR;MACD,CAAC,CAAC;IACH;EACD;AACD,CAAC;AACD,eAAe9B,aAAa"}]}