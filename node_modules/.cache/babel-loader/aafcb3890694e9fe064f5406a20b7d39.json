{"remainingRequest":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js??ref--17!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/@okxweb3/coin-bitcoin/dist/bitcoinjs-lib/payments/bip341.js","dependencies":[{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/@okxweb3/coin-bitcoin/dist/bitcoinjs-lib/payments/bip341.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyIpOwp2YXIgX19jcmVhdGVCaW5kaW5nID0gdGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZyB8fCAoT2JqZWN0LmNyZWF0ZSA/IGZ1bmN0aW9uIChvLCBtLCBrLCBrMikgewogIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7CiAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspOwogIGlmICghZGVzYyB8fCAoImdldCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkgewogICAgZGVzYyA9IHsKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIG1ba107CiAgICAgIH0KICAgIH07CiAgfQogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7Cn0gOiBmdW5jdGlvbiAobywgbSwgaywgazIpIHsKICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrOwogIG9bazJdID0gbVtrXTsKfSk7CnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSB0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0IHx8IChPYmplY3QuY3JlYXRlID8gZnVuY3Rpb24gKG8sIHYpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgImRlZmF1bHQiLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHYKICB9KTsKfSA6IGZ1bmN0aW9uIChvLCB2KSB7CiAgb1siZGVmYXVsdCJdID0gdjsKfSk7CnZhciBfX2ltcG9ydFN0YXIgPSB0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyIHx8IGZ1bmN0aW9uIChtb2QpIHsKICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kOwogIHZhciByZXN1bHQgPSB7fTsKICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gImRlZmF1bHQiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspOwogIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7CiAgcmV0dXJuIHJlc3VsdDsKfTsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLnR3ZWFrS2V5ID0gZXhwb3J0cy50YXBUd2Vha0hhc2ggPSBleHBvcnRzLnRhcGxlYWZIYXNoID0gZXhwb3J0cy5maW5kU2NyaXB0UGF0aCA9IGV4cG9ydHMudG9IYXNoVHJlZSA9IGV4cG9ydHMucm9vdEhhc2hGcm9tUGF0aCA9IGV4cG9ydHMuTUFYX1RBUFRSRUVfREVQVEggPSBleHBvcnRzLkxFQUZfVkVSU0lPTl9UQVBTQ1JJUFQgPSB2b2lkIDA7CmNvbnN0IGJ1ZmZlcl8xID0gcmVxdWlyZSgiYnVmZmVyIik7CmNvbnN0IGJjcnlwdG8gPSBfX2ltcG9ydFN0YXIocmVxdWlyZSgiLi4vY3J5cHRvIikpOwpjb25zdCBidWZmZXJ1dGlsc18xID0gcmVxdWlyZSgiLi4vYnVmZmVydXRpbHMiKTsKY29uc3QgdHlwZXNfMSA9IHJlcXVpcmUoIi4uL3R5cGVzIik7CmNvbnN0IHRhcHJvb3RfMSA9IHJlcXVpcmUoIi4uLy4uL3RhcHJvb3QiKTsKZXhwb3J0cy5MRUFGX1ZFUlNJT05fVEFQU0NSSVBUID0gMHhjMDsKZXhwb3J0cy5NQVhfVEFQVFJFRV9ERVBUSCA9IDEyODsKY29uc3QgaXNIYXNoQnJhbmNoID0gaHQgPT4gJ2xlZnQnIGluIGh0ICYmICdyaWdodCcgaW4gaHQ7CmZ1bmN0aW9uIHJvb3RIYXNoRnJvbVBhdGgoY29udHJvbEJsb2NrLCBsZWFmSGFzaCkgewogIGlmIChjb250cm9sQmxvY2subGVuZ3RoIDwgMzMpIHRocm93IG5ldyBUeXBlRXJyb3IoYFRoZSBjb250cm9sLWJsb2NrIGxlbmd0aCBpcyB0b28gc21hbGwuIEdvdCAke2NvbnRyb2xCbG9jay5sZW5ndGh9LCBleHBlY3RlZCBtaW4gMzMuYCk7CiAgY29uc3QgbSA9IChjb250cm9sQmxvY2subGVuZ3RoIC0gMzMpIC8gMzI7CiAgbGV0IGtqID0gbGVhZkhhc2g7CiAgZm9yIChsZXQgaiA9IDA7IGogPCBtOyBqKyspIHsKICAgIGNvbnN0IGVqID0gY29udHJvbEJsb2NrLnNsaWNlKDMzICsgMzIgKiBqLCA2NSArIDMyICogaik7CiAgICBpZiAoa2ouY29tcGFyZShlaikgPCAwKSB7CiAgICAgIGtqID0gdGFwQnJhbmNoSGFzaChraiwgZWopOwogICAgfSBlbHNlIHsKICAgICAga2ogPSB0YXBCcmFuY2hIYXNoKGVqLCBraik7CiAgICB9CiAgfQogIHJldHVybiBrajsKfQpleHBvcnRzLnJvb3RIYXNoRnJvbVBhdGggPSByb290SGFzaEZyb21QYXRoOwpmdW5jdGlvbiB0b0hhc2hUcmVlKHNjcmlwdFRyZWUpIHsKICBpZiAoKDAsIHR5cGVzXzEuaXNUYXBsZWFmKShzY3JpcHRUcmVlKSkgcmV0dXJuIHsKICAgIGhhc2g6IHRhcGxlYWZIYXNoKHNjcmlwdFRyZWUpCiAgfTsKICBjb25zdCBoYXNoZXMgPSBbdG9IYXNoVHJlZShzY3JpcHRUcmVlWzBdKSwgdG9IYXNoVHJlZShzY3JpcHRUcmVlWzFdKV07CiAgaGFzaGVzLnNvcnQoKGEsIGIpID0+IGEuaGFzaC5jb21wYXJlKGIuaGFzaCkpOwogIGNvbnN0IFtsZWZ0LCByaWdodF0gPSBoYXNoZXM7CiAgcmV0dXJuIHsKICAgIGhhc2g6IHRhcEJyYW5jaEhhc2gobGVmdC5oYXNoLCByaWdodC5oYXNoKSwKICAgIGxlZnQsCiAgICByaWdodAogIH07Cn0KZXhwb3J0cy50b0hhc2hUcmVlID0gdG9IYXNoVHJlZTsKZnVuY3Rpb24gZmluZFNjcmlwdFBhdGgobm9kZSwgaGFzaCkgewogIGlmIChpc0hhc2hCcmFuY2gobm9kZSkpIHsKICAgIGNvbnN0IGxlZnRQYXRoID0gZmluZFNjcmlwdFBhdGgobm9kZS5sZWZ0LCBoYXNoKTsKICAgIGlmIChsZWZ0UGF0aCAhPT0gdW5kZWZpbmVkKSByZXR1cm4gWy4uLmxlZnRQYXRoLCBub2RlLnJpZ2h0Lmhhc2hdOwogICAgY29uc3QgcmlnaHRQYXRoID0gZmluZFNjcmlwdFBhdGgobm9kZS5yaWdodCwgaGFzaCk7CiAgICBpZiAocmlnaHRQYXRoICE9PSB1bmRlZmluZWQpIHJldHVybiBbLi4ucmlnaHRQYXRoLCBub2RlLmxlZnQuaGFzaF07CiAgfSBlbHNlIGlmIChub2RlLmhhc2guZXF1YWxzKGhhc2gpKSB7CiAgICByZXR1cm4gW107CiAgfQogIHJldHVybiB1bmRlZmluZWQ7Cn0KZXhwb3J0cy5maW5kU2NyaXB0UGF0aCA9IGZpbmRTY3JpcHRQYXRoOwpmdW5jdGlvbiB0YXBsZWFmSGFzaChsZWFmKSB7CiAgY29uc3QgdmVyc2lvbiA9IGxlYWYudmVyc2lvbiB8fCBleHBvcnRzLkxFQUZfVkVSU0lPTl9UQVBTQ1JJUFQ7CiAgcmV0dXJuIGJjcnlwdG8udGFnZ2VkSGFzaCgnVGFwTGVhZicsIGJ1ZmZlcl8xLkJ1ZmZlci5jb25jYXQoW2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKFt2ZXJzaW9uXSksIHNlcmlhbGl6ZVNjcmlwdChsZWFmLm91dHB1dCldKSk7Cn0KZXhwb3J0cy50YXBsZWFmSGFzaCA9IHRhcGxlYWZIYXNoOwpmdW5jdGlvbiB0YXBUd2Vha0hhc2gocHViS2V5LCBoKSB7CiAgcmV0dXJuIGJjcnlwdG8udGFnZ2VkSGFzaCgnVGFwVHdlYWsnLCBidWZmZXJfMS5CdWZmZXIuY29uY2F0KGggPyBbcHViS2V5LCBoXSA6IFtwdWJLZXldKSk7Cn0KZXhwb3J0cy50YXBUd2Vha0hhc2ggPSB0YXBUd2Vha0hhc2g7CmZ1bmN0aW9uIHR3ZWFrS2V5KHB1YktleSwgaCkgewogIGlmICghYnVmZmVyXzEuQnVmZmVyLmlzQnVmZmVyKHB1YktleSkpIHJldHVybiBudWxsOwogIGlmIChwdWJLZXkubGVuZ3RoICE9PSAzMikgcmV0dXJuIG51bGw7CiAgaWYgKGggJiYgaC5sZW5ndGggIT09IDMyKSByZXR1cm4gbnVsbDsKICBjb25zdCByZXMgPSAoMCwgdGFwcm9vdF8xLnRhcHJvb3RUd2Vha1B1YmtleSkocHViS2V5LCBoKTsKICByZXR1cm4gewogICAgcGFyaXR5OiByZXNbMV0sCiAgICB4OiBidWZmZXJfMS5CdWZmZXIuZnJvbShyZXNbMF0pCiAgfTsKfQpleHBvcnRzLnR3ZWFrS2V5ID0gdHdlYWtLZXk7CmZ1bmN0aW9uIHRhcEJyYW5jaEhhc2goYSwgYikgewogIHJldHVybiBiY3J5cHRvLnRhZ2dlZEhhc2goJ1RhcEJyYW5jaCcsIGJ1ZmZlcl8xLkJ1ZmZlci5jb25jYXQoW2EsIGJdKSk7Cn0KZnVuY3Rpb24gc2VyaWFsaXplU2NyaXB0KHMpIHsKICBjb25zdCB2YXJpbnRMZW4gPSBidWZmZXJ1dGlsc18xLnZhcnVpbnQuZW5jb2RpbmdMZW5ndGgocy5sZW5ndGgpOwogIGNvbnN0IGJ1ZmZlciA9IGJ1ZmZlcl8xLkJ1ZmZlci5hbGxvY1Vuc2FmZSh2YXJpbnRMZW4pOwogIGJ1ZmZlcnV0aWxzXzEudmFydWludC5lbmNvZGUocy5sZW5ndGgsIGJ1ZmZlcik7CiAgcmV0dXJuIGJ1ZmZlcl8xLkJ1ZmZlci5jb25jYXQoW2J1ZmZlciwgc10pOwp9"},{"version":3,"names":["buffer_1","require","bcrypto","__importStar","bufferutils_1","types_1","taproot_1","exports","LEAF_VERSION_TAPSCRIPT","MAX_TAPTREE_DEPTH","isHashBranch","ht","rootHashFromPath","controlBlock","leafHash","length","TypeError","m","kj","j","ej","slice","compare","tapBranchHash","toHashTree","scriptTree","isTapleaf","hash","tapleafHash","hashes","sort","a","b","left","right","findScriptPath","node","leftPath","undefined","rightPath","equals","leaf","version","taggedHash","Buffer","concat","from","serializeScript","output","tapTweakHash","pubKey","h","tweakKey","isBuffer","res","taprootTweakPubkey","parity","x","s","varintLen","varuint","encodingLength","buffer","allocUnsafe","encode"],"sources":["../../../src/bitcoinjs-lib/payments/bip341.ts"],"sourcesContent":[null],"mappings":"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"}]}