{"remainingRequest":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js??ref--17!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/@okxweb3/coin-bitcoin/dist/src20.js","dependencies":[{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/@okxweb3/coin-bitcoin/dist/src20.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiKTsKdmFyIF9fY3JlYXRlQmluZGluZyA9IHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcgfHwgKE9iamVjdC5jcmVhdGUgPyBmdW5jdGlvbiAobywgbSwgaywgazIpIHsKICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrOwogIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTsKICBpZiAoIWRlc2MgfHwgKCJnZXQiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHsKICAgIGRlc2MgPSB7CiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBtW2tdOwogICAgICB9CiAgICB9OwogIH0KICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpOwp9IDogZnVuY3Rpb24gKG8sIG0sIGssIGsyKSB7CiAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gazsKICBvW2syXSA9IG1ba107Cn0pOwp2YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gdGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCB8fCAoT2JqZWN0LmNyZWF0ZSA/IGZ1bmN0aW9uIChvLCB2KSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sICJkZWZhdWx0IiwgewogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIHZhbHVlOiB2CiAgfSk7Cn0gOiBmdW5jdGlvbiAobywgdikgewogIG9bImRlZmF1bHQiXSA9IHY7Cn0pOwp2YXIgX19pbXBvcnRTdGFyID0gdGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhciB8fCBmdW5jdGlvbiAobW9kKSB7CiAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDsKICB2YXIgcmVzdWx0ID0ge307CiAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09ICJkZWZhdWx0IiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTsKICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpOwogIHJldHVybiByZXN1bHQ7Cn07Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5zcmNJbnNjcmliZSA9IGV4cG9ydHMuU3JjSW5zY3JpcHRpb25Ub29sID0gdm9pZCAwOwpjb25zdCBiaXRjb2luID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoIi4vYml0Y29pbmpzLWxpYiIpKTsKY29uc3QgY3J5cHRvX2xpYl8xID0gcmVxdWlyZSgiQG9reHdlYjMvY3J5cHRvLWxpYiIpOwpjb25zdCB0YXByb290ID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoIi4vdGFwcm9vdCIpKTsKY29uc3QgYmNyeXB0byA9IF9faW1wb3J0U3RhcihyZXF1aXJlKCIuL2JpdGNvaW5qcy1saWIvY3J5cHRvIikpOwpjb25zdCB0eEJ1aWxkXzEgPSByZXF1aXJlKCIuL3R4QnVpbGQiKTsKY29uc3QgYml0Y29pbmpzX2xpYl8xID0gcmVxdWlyZSgiLi9iaXRjb2luanMtbGliIik7CmNvbnN0IHNpZ2Nvc3RfMSA9IHJlcXVpcmUoIi4vc2lnY29zdCIpOwpjb25zdCBzY2hub3JyID0gY3J5cHRvX2xpYl8xLnNpZ25VdGlsLnNjaG5vcnIuc2VjcDI1NmsxLnNjaG5vcnI7CmNvbnN0IGRlZmF1bHRUeFZlcnNpb24gPSAyOwpjb25zdCBQQVJUX0xFTiA9IDMxOwpjb25zdCBkZWZhdWx0U2VxdWVuY2VOdW0gPSAweGZmZmZmZmZkOwpjb25zdCBkZWZhdWx0UmV2ZWFsT3V0VmFsdWUgPSA3ODAwOwpjb25zdCBkZWZhdWx0TWluQ2hhbmdlVmFsdWUgPSA3ODAwOwpjb25zdCBtYXhTdGFuZGFyZFR4V2VpZ2h0ID0gNDAwMDAwMCAvIDEwOwpjbGFzcyBTcmNJbnNjcmlwdGlvblRvb2wgewogIGNvbnN0cnVjdG9yKCkgewogICAgdGhpcy5uZXR3b3JrID0gYml0Y29pbi5uZXR3b3Jrcy5iaXRjb2luOwogICAgdGhpcy5yZXZlYWxUeHMgPSBbXTsKICAgIHRoaXMuY29tbWl0VHggPSBuZXcgYml0Y29pbi5UcmFuc2FjdGlvbigpOwogICAgdGhpcy5jb21taXRUeFByZXZPdXRwdXRGZXRjaGVyID0gW107CiAgICB0aGlzLnJldmVhbFR4UHJldk91dHB1dEZldGNoZXIgPSBbXTsKICAgIHRoaXMubXVzdENvbW1pdFR4RmVlID0gMDsKICAgIHRoaXMubXVzdFJldmVhbFR4RmVlcyA9IFtdOwogICAgdGhpcy5jb21taXRBZGRycyA9IFtdOwogIH0KICBzdGF0aWMgbmV3U3JjSW5zY3JpcHRpb25Ub29sKG5ldHdvcmssIHJlcXVlc3QpIHsKICAgIGNvbnN0IHRvb2wgPSBuZXcgU3JjSW5zY3JpcHRpb25Ub29sKCk7CiAgICB0b29sLm5ldHdvcmsgPSBuZXR3b3JrOwogICAgY29uc3QgcmV2ZWFsT3V0VmFsdWUgPSByZXF1ZXN0LnJldmVhbE91dFZhbHVlIHx8IGRlZmF1bHRSZXZlYWxPdXRWYWx1ZTsKICAgIGNvbnN0IG1pbkNoYW5nZVZhbHVlID0gcmVxdWVzdC5taW5DaGFuZ2VWYWx1ZSB8fCBkZWZhdWx0TWluQ2hhbmdlVmFsdWU7CiAgICBjb25zdCBpbnN1ZmZpY2llbnQgPSB0b29sLmJ1aWxkQ29tbWl0VHgobmV0d29yaywgcmVxdWVzdC5pbnNjcmlwdGlvbkRhdGEsIHJldmVhbE91dFZhbHVlLCByZXF1ZXN0LmNvbW1pdFR4UHJldk91dHB1dExpc3QsIHJlcXVlc3QuY2hhbmdlQWRkcmVzcywgcmVxdWVzdC5jb21taXRGZWVSYXRlLCBtaW5DaGFuZ2VWYWx1ZSk7CiAgICBpZiAoaW5zdWZmaWNpZW50KSB7CiAgICAgIHJldHVybiB0b29sOwogICAgfQogICAgdG9vbC5zaWduQ29tbWl0VHgocmVxdWVzdC5jb21taXRUeFByZXZPdXRwdXRMaXN0KTsKICAgIHJldHVybiB0b29sOwogIH0KICBidWlsZENvbW1pdFR4KG5ldHdvcmssIGluc2NyaXB0aW9uRGF0YSwgcmV2ZWFsT3V0VmFsdWUsIGNvbW1pdFR4UHJldk91dHB1dExpc3QsIGNoYW5nZUFkZHJlc3MsIGNvbW1pdEZlZVJhdGUsIG1pbkNoYW5nZVZhbHVlKSB7CiAgICBsZXQgcHJlZml4ID0gQnVmZmVyLmZyb20oaW5zY3JpcHRpb25EYXRhLmNvbnRlbnRUeXBlKTsKICAgIGxldCBib2R5ID0gQnVmZmVyLmZyb20oaW5zY3JpcHRpb25EYXRhLmJvZHkpOwogICAgd2hpbGUgKGJvZHlbYm9keS5sZW5ndGggLSAxXSA9PSAwKSB7CiAgICAgIGJvZHkgPSBib2R5LnNsaWNlKDAsIGJvZHkubGVuZ3RoIC0gMSk7CiAgICB9CiAgICBsZXQgbCA9IDIgKyBwcmVmaXgubGVuZ3RoICsgYm9keS5sZW5ndGg7CiAgICBsZXQgdG90YWwgPSBsICUgNjIgPT0gMCA/IGwgOiBsICsgNjIgLSBsICUgNjI7CiAgICBsZXQgYnVmZmVyV3JpdGVyID0gYml0Y29pbmpzX2xpYl8xLkJ1ZmZlcldyaXRlci53aXRoQ2FwYWNpdHkodG90YWwpOwogICAgYnVmZmVyV3JpdGVyLndyaXRlU2xpY2UoQnVmZmVyLmZyb20oWyhwcmVmaXgubGVuZ3RoICsgYm9keS5sZW5ndGgpIC8gMjU2LCAocHJlZml4Lmxlbmd0aCArIGJvZHkubGVuZ3RoKSAlIDI1Nl0pKTsKICAgIGJ1ZmZlcldyaXRlci53cml0ZVNsaWNlKHByZWZpeCk7CiAgICBidWZmZXJXcml0ZXIud3JpdGVTbGljZShib2R5KTsKICAgIGlmICh0b3RhbCA+IGwpIHsKICAgICAgYnVmZmVyV3JpdGVyLndyaXRlU2xpY2UoQnVmZmVyLmFsbG9jKHRvdGFsIC0gbCkpOwogICAgfQogICAgbGV0IGRhdGEgPSBidWZmZXJXcml0ZXIuZW5kKCk7CiAgICBsZXQgYnVmID0gY3J5cHRvX2xpYl8xLmJhc2UuZnJvbUhleCh4Y3BfcmM0KGNvbW1pdFR4UHJldk91dHB1dExpc3RbMF0udHhJZCwgZGF0YS50b1N0cmluZygiaGV4IikpKTsKICAgIGxldCB0b3RhbFNlbmRlckFtb3VudCA9IDA7CiAgICBsZXQgdG90YWxSZXZlYWxQcmV2T3V0cHV0VmFsdWUgPSAwOwogICAgY29uc3QgdHggPSBuZXcgYml0Y29pbi5UcmFuc2FjdGlvbigpOwogICAgdHgudmVyc2lvbiA9IGRlZmF1bHRUeFZlcnNpb247CiAgICB0b3RhbFJldmVhbFByZXZPdXRwdXRWYWx1ZSArPSByZXZlYWxPdXRWYWx1ZTsKICAgIHR4LmFkZE91dHB1dChiaXRjb2luLmFkZHJlc3MudG9PdXRwdXRTY3JpcHQoaW5zY3JpcHRpb25EYXRhLnJldmVhbEFkZHIsIG5ldHdvcmspLCByZXZlYWxPdXRWYWx1ZSk7CiAgICB3aGlsZSAoYnVmLmxlbmd0aCkgewogICAgICBsZXQgYnVmMSA9IGJ1Zi5zbGljZSgwLCBNYXRoLm1pbihQQVJUX0xFTiwgYnVmLmxlbmd0aCkpOwogICAgICBsZXQgZmlyc3QgPSBidWYxLnRvU3RyaW5nKCJoZXgiKTsKICAgICAgaWYgKGZpcnN0Lmxlbmd0aCA8IDYyKSB7CiAgICAgICAgZmlyc3QgPSBmaXJzdCArICcwJy5yZXBlYXQoNjIgLSBmaXJzdC5sZW5ndGgpOwogICAgICB9CiAgICAgIGJ1ZiA9IGJ1Zi5zbGljZShidWYxLmxlbmd0aCk7CiAgICAgIGxldCBidWYyID0gYnVmLnNsaWNlKDAsIE1hdGgubWluKFBBUlRfTEVOLCBidWYubGVuZ3RoKSk7CiAgICAgIGxldCBzZWNvbmQgPSBidWYyLnRvU3RyaW5nKCJoZXgiKTsKICAgICAgaWYgKHNlY29uZC5sZW5ndGggPCA2MikgewogICAgICAgIHNlY29uZCA9IHNlY29uZCArICcwJy5yZXBlYXQoNjIgLSBzZWNvbmQubGVuZ3RoKTsKICAgICAgfQogICAgICBidWYgPSBidWYuc2xpY2UoYnVmMS5sZW5ndGgpOwogICAgICBjb25zdCBwdWJrZXlzID0gWycwMycgKyBmaXJzdCArICcwMCcsICcwMicgKyBzZWNvbmQgKyAnMDAnLCAnMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyJ10ubWFwKGhleCA9PiBCdWZmZXIuZnJvbShoZXgsICdoZXgnKSk7CiAgICAgIGNvbnN0IHBheW1lbnQgPSBiaXRjb2luLnBheW1lbnRzLnAybXMoewogICAgICAgIG06IDEsCiAgICAgICAgcHVia2V5cwogICAgICB9KTsKICAgICAgdHguYWRkT3V0cHV0KHBheW1lbnQub3V0cHV0LCByZXZlYWxPdXRWYWx1ZSk7CiAgICAgIHRvdGFsUmV2ZWFsUHJldk91dHB1dFZhbHVlICs9IHJldmVhbE91dFZhbHVlOwogICAgfQogICAgY29tbWl0VHhQcmV2T3V0cHV0TGlzdC5mb3JFYWNoKGNvbW1pdFR4UHJldk91dHB1dCA9PiB7CiAgICAgIGNvbnN0IGhhc2ggPSBjcnlwdG9fbGliXzEuYmFzZS5yZXZlcnNlQnVmZmVyKGNyeXB0b19saWJfMS5iYXNlLmZyb21IZXgoY29tbWl0VHhQcmV2T3V0cHV0LnR4SWQpKTsKICAgICAgdHguYWRkSW5wdXQoaGFzaCwgY29tbWl0VHhQcmV2T3V0cHV0LnZPdXQsIGRlZmF1bHRTZXF1ZW5jZU51bSk7CiAgICAgIHRoaXMuY29tbWl0VHhQcmV2T3V0cHV0RmV0Y2hlci5wdXNoKGNvbW1pdFR4UHJldk91dHB1dC5hbW91bnQpOwogICAgICB0b3RhbFNlbmRlckFtb3VudCArPSBjb21taXRUeFByZXZPdXRwdXQuYW1vdW50OwogICAgfSk7CiAgICBjb25zdCBjaGFuZ2VQa1NjcmlwdCA9IGJpdGNvaW4uYWRkcmVzcy50b091dHB1dFNjcmlwdChjaGFuZ2VBZGRyZXNzLCBuZXR3b3JrKTsKICAgIHR4LmFkZE91dHB1dChjaGFuZ2VQa1NjcmlwdCwgMCk7CiAgICBjb25zdCB0eEZvckVzdGltYXRlID0gdHguY2xvbmUoKTsKICAgIHNpZ25UeCh0eEZvckVzdGltYXRlLCBjb21taXRUeFByZXZPdXRwdXRMaXN0LCB0aGlzLm5ldHdvcmspOwogICAgY29uc3QgdnNpemUgPSAoMCwgc2lnY29zdF8xLmNvdW50QWRqdXN0ZWRWc2l6ZSkodHhGb3JFc3RpbWF0ZSwgY29tbWl0VHhQcmV2T3V0cHV0TGlzdC5tYXAoYSA9PiBhLmFkZHJlc3MpLCBuZXR3b3JrKTsKICAgIGNvbnN0IGZlZSA9IE1hdGguZmxvb3IodnNpemUgKiBjb21taXRGZWVSYXRlKTsKICAgIGNvbnN0IGNoYW5nZUFtb3VudCA9IHRvdGFsU2VuZGVyQW1vdW50IC0gdG90YWxSZXZlYWxQcmV2T3V0cHV0VmFsdWUgLSBmZWU7CiAgICBpZiAoY2hhbmdlQW1vdW50ID49IG1pbkNoYW5nZVZhbHVlKSB7CiAgICAgIHR4Lm91dHNbdHgub3V0cy5sZW5ndGggLSAxXS52YWx1ZSA9IGNoYW5nZUFtb3VudDsKICAgIH0gZWxzZSB7CiAgICAgIHR4Lm91dHMgPSB0eC5vdXRzLnNsaWNlKDAsIHR4Lm91dHMubGVuZ3RoIC0gMSk7CiAgICAgIHR4Rm9yRXN0aW1hdGUub3V0cyA9IHR4Rm9yRXN0aW1hdGUub3V0cy5zbGljZSgwLCB0eEZvckVzdGltYXRlLm91dHMubGVuZ3RoIC0gMSk7CiAgICAgIGNvbnN0IHZzaXplV2l0aG91dENoYW5nZSA9ICgwLCBzaWdjb3N0XzEuY291bnRBZGp1c3RlZFZzaXplKSh0eEZvckVzdGltYXRlLCBjb21taXRUeFByZXZPdXRwdXRMaXN0Lm1hcChhID0+IGEuYWRkcmVzcyksIG5ldHdvcmspOwogICAgICBjb25zdCBmZWVXaXRob3V0Q2hhbmdlID0gTWF0aC5mbG9vcih2c2l6ZVdpdGhvdXRDaGFuZ2UgKiBjb21taXRGZWVSYXRlKTsKICAgICAgaWYgKHRvdGFsU2VuZGVyQW1vdW50IC0gdG90YWxSZXZlYWxQcmV2T3V0cHV0VmFsdWUgLSBmZWVXaXRob3V0Q2hhbmdlIDwgMCkgewogICAgICAgIHRoaXMubXVzdENvbW1pdFR4RmVlID0gZmVlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9CiAgICB0aGlzLmNvbW1pdFR4ID0gdHg7CiAgICByZXR1cm4gZmFsc2U7CiAgfQogIHNpZ25Db21taXRUeChjb21taXRUeFByZXZPdXRwdXRMaXN0KSB7CiAgICBzaWduVHgodGhpcy5jb21taXRUeCwgY29tbWl0VHhQcmV2T3V0cHV0TGlzdCwgdGhpcy5uZXR3b3JrKTsKICB9CiAgY2FsY3VsYXRlRmVlKCkgewogICAgbGV0IGNvbW1pdFR4RmVlID0gMDsKICAgIHRoaXMuY29tbWl0VHguaW5zLmZvckVhY2goKF8sIGkpID0+IHsKICAgICAgY29tbWl0VHhGZWUgKz0gdGhpcy5jb21taXRUeFByZXZPdXRwdXRGZXRjaGVyW2ldOwogICAgfSk7CiAgICB0aGlzLmNvbW1pdFR4Lm91dHMuZm9yRWFjaChvdXQgPT4gewogICAgICBjb21taXRUeEZlZSAtPSBvdXQudmFsdWU7CiAgICB9KTsKICAgIGxldCByZXZlYWxUeEZlZXMgPSBbXTsKICAgIHRoaXMucmV2ZWFsVHhzLmZvckVhY2goKHJldmVhbFR4LCBpKSA9PiB7CiAgICAgIGxldCByZXZlYWxUeEZlZSA9IDA7CiAgICAgIHJldmVhbFR4RmVlICs9IHRoaXMucmV2ZWFsVHhQcmV2T3V0cHV0RmV0Y2hlcltpXTsKICAgICAgcmV2ZWFsVHhGZWUgLT0gcmV2ZWFsVHgub3V0c1swXS52YWx1ZTsKICAgICAgcmV2ZWFsVHhGZWVzLnB1c2gocmV2ZWFsVHhGZWUpOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICBjb21taXRUeEZlZSwKICAgICAgcmV2ZWFsVHhGZWVzCiAgICB9OwogIH0KfQpleHBvcnRzLlNyY0luc2NyaXB0aW9uVG9vbCA9IFNyY0luc2NyaXB0aW9uVG9vbDsKZnVuY3Rpb24gc2lnblR4KHR4LCBjb21taXRUeFByZXZPdXRwdXRMaXN0LCBuZXR3b3JrKSB7CiAgdHguaW5zLmZvckVhY2goKGlucHV0LCBpKSA9PiB7CiAgICBjb25zdCBhZGRyZXNzVHlwZSA9ICgwLCB0eEJ1aWxkXzEuZ2V0QWRkcmVzc1R5cGUpKGNvbW1pdFR4UHJldk91dHB1dExpc3RbaV0uYWRkcmVzcywgbmV0d29yayk7CiAgICBjb25zdCBwcml2YXRlS2V5ID0gY3J5cHRvX2xpYl8xLmJhc2UuZnJvbUhleCgoMCwgdHhCdWlsZF8xLnByaXZhdGVLZXlGcm9tV0lGKShjb21taXRUeFByZXZPdXRwdXRMaXN0W2ldLnByaXZhdGVLZXksIG5ldHdvcmspKTsKICAgIGNvbnN0IHByaXZhdGVLZXlIZXggPSBjcnlwdG9fbGliXzEuYmFzZS50b0hleChwcml2YXRlS2V5KTsKICAgIGNvbnN0IHB1YmxpY0tleSA9ICgwLCB0eEJ1aWxkXzEucHJpdmF0ZTJwdWJsaWMpKHByaXZhdGVLZXlIZXgpOwogICAgaWYgKGFkZHJlc3NUeXBlID09PSAnc2Vnd2l0X3RhcHJvb3QnKSB7CiAgICAgIGNvbnN0IHByZXZPdXRTY3JpcHRzID0gY29tbWl0VHhQcmV2T3V0cHV0TGlzdC5tYXAobyA9PiBiaXRjb2luLmFkZHJlc3MudG9PdXRwdXRTY3JpcHQoby5hZGRyZXNzLCBuZXR3b3JrKSk7CiAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbW1pdFR4UHJldk91dHB1dExpc3QubWFwKG8gPT4gby5hbW91bnQpOwogICAgICBjb25zdCBoYXNoID0gdHguaGFzaEZvcldpdG5lc3NWMShpLCBwcmV2T3V0U2NyaXB0cywgdmFsdWVzLCBiaXRjb2luLlRyYW5zYWN0aW9uLlNJR0hBU0hfREVGQVVMVCk7CiAgICAgIGNvbnN0IHR3ZWFrZWRQcml2S2V5ID0gdGFwcm9vdC50YXByb290VHdlYWtQcml2S2V5KHByaXZhdGVLZXkpOwogICAgICBjb25zdCBzaWduYXR1cmUgPSBCdWZmZXIuZnJvbShzY2hub3JyLnNpZ24oaGFzaCwgdHdlYWtlZFByaXZLZXksIGNyeXB0b19saWJfMS5iYXNlLnJhbmRvbUJ5dGVzKDMyKSkpOwogICAgICBpbnB1dC53aXRuZXNzID0gW0J1ZmZlci5mcm9tKHNpZ25hdHVyZSldOwogICAgfSBlbHNlIGlmIChhZGRyZXNzVHlwZSA9PT0gJ2xlZ2FjeScpIHsKICAgICAgY29uc3QgcHJldlNjcmlwdCA9IGJpdGNvaW4uYWRkcmVzcy50b091dHB1dFNjcmlwdChjb21taXRUeFByZXZPdXRwdXRMaXN0W2ldLmFkZHJlc3MsIG5ldHdvcmspOwogICAgICBjb25zdCBoYXNoID0gdHguaGFzaEZvclNpZ25hdHVyZShpLCBwcmV2U2NyaXB0LCBiaXRjb2luLlRyYW5zYWN0aW9uLlNJR0hBU0hfQUxMKTsKICAgICAgY29uc3Qgc2lnbmF0dXJlID0gKDAsIHR4QnVpbGRfMS5zaWduKShoYXNoLCBwcml2YXRlS2V5SGV4KTsKICAgICAgY29uc3QgcGF5bWVudCA9IGJpdGNvaW4ucGF5bWVudHMucDJwa2goewogICAgICAgIHNpZ25hdHVyZTogYml0Y29pbi5zY3JpcHQuc2lnbmF0dXJlLmVuY29kZShzaWduYXR1cmUsIGJpdGNvaW4uVHJhbnNhY3Rpb24uU0lHSEFTSF9BTEwpLAogICAgICAgIHB1YmtleTogcHVibGljS2V5CiAgICAgIH0pOwogICAgICBpbnB1dC5zY3JpcHQgPSBwYXltZW50LmlucHV0OwogICAgfSBlbHNlIHsKICAgICAgY29uc3QgcHViS2V5SGFzaCA9IGJjcnlwdG8uaGFzaDE2MChwdWJsaWNLZXkpOwogICAgICBjb25zdCBwcmV2T3V0U2NyaXB0ID0gQnVmZmVyLm9mKDB4MTksIDB4NzYsIDB4YTksIDB4MTQsIC4uLnB1YktleUhhc2gsIDB4ODgsIDB4YWMpOwogICAgICBjb25zdCB2YWx1ZSA9IGNvbW1pdFR4UHJldk91dHB1dExpc3RbaV0uYW1vdW50OwogICAgICBjb25zdCBoYXNoID0gdHguaGFzaEZvcldpdG5lc3MoaSwgcHJldk91dFNjcmlwdCwgdmFsdWUsIGJpdGNvaW4uVHJhbnNhY3Rpb24uU0lHSEFTSF9BTEwpOwogICAgICBjb25zdCBzaWduYXR1cmUgPSAoMCwgdHhCdWlsZF8xLnNpZ24pKGhhc2gsIHByaXZhdGVLZXlIZXgpOwogICAgICBpbnB1dC53aXRuZXNzID0gW2JpdGNvaW4uc2NyaXB0LnNpZ25hdHVyZS5lbmNvZGUoc2lnbmF0dXJlLCBiaXRjb2luLlRyYW5zYWN0aW9uLlNJR0hBU0hfQUxMKSwgcHVibGljS2V5XTsKICAgICAgY29uc3QgcmVkZWVtU2NyaXB0ID0gQnVmZmVyLm9mKDB4MTYsIDAsIDIwLCAuLi5wdWJLZXlIYXNoKTsKICAgICAgaWYgKGFkZHJlc3NUeXBlID09PSAic2Vnd2l0X25lc3RlZCIpIHsKICAgICAgICBpbnB1dC5zY3JpcHQgPSByZWRlZW1TY3JpcHQ7CiAgICAgIH0KICAgIH0KICB9KTsKfQpmdW5jdGlvbiBzcmNJbnNjcmliZShuZXR3b3JrLCByZXF1ZXN0KSB7CiAgY29uc3QgdG9vbCA9IFNyY0luc2NyaXB0aW9uVG9vbC5uZXdTcmNJbnNjcmlwdGlvblRvb2wobmV0d29yaywgcmVxdWVzdCk7CiAgaWYgKHRvb2wubXVzdENvbW1pdFR4RmVlID4gMCkgewogICAgcmV0dXJuIHsKICAgICAgY29tbWl0VHg6ICIiLAogICAgICByZXZlYWxUeHM6IFtdLAogICAgICBjb21taXRUeEZlZTogdG9vbC5tdXN0Q29tbWl0VHhGZWUsCiAgICAgIHJldmVhbFR4RmVlczogdG9vbC5tdXN0UmV2ZWFsVHhGZWVzLAogICAgICBjb21taXRBZGRyczogdG9vbC5jb21taXRBZGRycwogICAgfTsKICB9CiAgcmV0dXJuIHsKICAgIGNvbW1pdFR4OiB0b29sLmNvbW1pdFR4LnRvSGV4KCksCiAgICByZXZlYWxUeHM6IHRvb2wucmV2ZWFsVHhzLm1hcChyZXZlYWxUeCA9PiByZXZlYWxUeC50b0hleCgpKSwKICAgIC4uLnRvb2wuY2FsY3VsYXRlRmVlKCksCiAgICBjb21taXRBZGRyczogdG9vbC5jb21taXRBZGRycwogIH07Cn0KZXhwb3J0cy5zcmNJbnNjcmliZSA9IHNyY0luc2NyaWJlOwpmdW5jdGlvbiByYzQoa2V5LCBzdHIpIHsKICB2YXIgcyA9IFtdLAogICAgaiA9IDAsCiAgICB4LAogICAgcmVzID0gJyc7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7IGkrKykgewogICAgc1tpXSA9IGk7CiAgfQogIGZvciAoaSA9IDA7IGkgPCAyNTY7IGkrKykgewogICAgaiA9IChqICsgc1tpXSArIGtleS5jaGFyQ29kZUF0KGkgJSBrZXkubGVuZ3RoKSkgJSAyNTY7CiAgICB4ID0gc1tpXTsKICAgIHNbaV0gPSBzW2pdOwogICAgc1tqXSA9IHg7CiAgfQogIGkgPSAwOwogIGogPSAwOwogIGZvciAodmFyIHkgPSAwOyB5IDwgc3RyLmxlbmd0aDsgeSsrKSB7CiAgICBpID0gKGkgKyAxKSAlIDI1NjsKICAgIGogPSAoaiArIHNbaV0pICUgMjU2OwogICAgeCA9IHNbaV07CiAgICBzW2ldID0gc1tqXTsKICAgIHNbal0gPSB4OwogICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoc3RyLmNoYXJDb2RlQXQoeSkgXiBzWyhzW2ldICsgc1tqXSkgJSAyNTZdKTsKICB9CiAgcmV0dXJuIHJlczsKfQpmdW5jdGlvbiBoZXgyYmluKGhleCkgewogIHZhciBieXRlcyA9IFtdOwogIHZhciBzdHI7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZXgubGVuZ3RoIC0gMTsgaSArPSAyKSB7CiAgICB2YXIgY2ggPSBwYXJzZUludChoZXguc3Vic3RyKGksIDIpLCAxNik7CiAgICBieXRlcy5wdXNoKGNoKTsKICB9CiAgc3RyID0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGJ5dGVzKTsKICByZXR1cm4gc3RyOwp9CmZ1bmN0aW9uIGJpbjJoZXgocykgewogIHZhciBpLAogICAgbCwKICAgIG8gPSAnJywKICAgIG47CiAgcyArPSAnJzsKICBmb3IgKGkgPSAwLCBsID0gcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgIG4gPSBzLmNoYXJDb2RlQXQoaSkudG9TdHJpbmcoMTYpOwogICAgbyArPSBuLmxlbmd0aCA8IDIgPyAnMCcgKyBuIDogbjsKICB9CiAgcmV0dXJuIG87Cn0KZnVuY3Rpb24geGNwX3JjNChrZXksIGRhdGFjaHVuaykgewogIHJldHVybiBiaW4yaGV4KHJjNChoZXgyYmluKGtleSksIGhleDJiaW4oZGF0YWNodW5rKSkpOwp9"},{"version":3,"names":["bitcoin","__importStar","require","crypto_lib_1","taproot","bcrypto","txBuild_1","bitcoinjs_lib_1","sigcost_1","schnorr","signUtil","secp256k1","defaultTxVersion","PART_LEN","defaultSequenceNum","defaultRevealOutValue","defaultMinChangeValue","maxStandardTxWeight","SrcInscriptionTool","constructor","network","networks","revealTxs","commitTx","Transaction","commitTxPrevOutputFetcher","revealTxPrevOutputFetcher","mustCommitTxFee","mustRevealTxFees","commitAddrs","newSrcInscriptionTool","request","tool","revealOutValue","minChangeValue","insufficient","buildCommitTx","inscriptionData","commitTxPrevOutputList","changeAddress","commitFeeRate","signCommitTx","prefix","Buffer","from","contentType","body","length","slice","l","total","bufferWriter","BufferWriter","withCapacity","writeSlice","alloc","data","end","buf","base","fromHex","xcp_rc4","txId","toString","totalSenderAmount","totalRevealPrevOutputValue","tx","version","addOutput","address","toOutputScript","revealAddr","buf1","Math","min","first","repeat","buf2","second","pubkeys","map","hex","payment","payments","p2ms","m","output","forEach","commitTxPrevOutput","hash","reverseBuffer","addInput","vOut","push","amount","changePkScript","txForEstimate","clone","signTx","vsize","countAdjustedVsize","a","fee","floor","changeAmount","outs","value","vsizeWithoutChange","feeWithoutChange","calculateFee","commitTxFee","ins","_","i","out","revealTxFees","revealTx","revealTxFee","exports","input","addressType","getAddressType","privateKey","privateKeyFromWIF","privateKeyHex","toHex","publicKey","private2public","prevOutScripts","o","values","hashForWitnessV1","SIGHASH_DEFAULT","tweakedPrivKey","taprootTweakPrivKey","signature","sign","randomBytes","witness","prevScript","hashForSignature","SIGHASH_ALL","p2pkh","script","encode","pubkey","pubKeyHash","hash160","prevOutScript","of","hashForWitness","redeemScript","srcInscribe","rc4","key","str","s","j","x","res","charCodeAt","y","String","fromCharCode","hex2bin","bytes","ch","parseInt","substr","apply","bin2hex","n","datachunk"],"sources":["../src/src20.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,OAAA,GAAAC,YAAA,CAAAC,OAAA;AACA,MAAAC,YAAA,GAAAD,OAAA;AACA,MAAAE,OAAA,GAAAH,YAAA,CAAAC,OAAA;AACA,MAAAG,OAAA,GAAAJ,YAAA,CAAAC,OAAA;AACA,MAAAI,SAAA,GAAAJ,OAAA;AAOA,MAAAK,eAAA,GAAAL,OAAA;AACA,MAAAM,SAAA,GAAAN,OAAA;AAEA,MAAMO,OAAO,GAAGN,YAAA,CAAAO,QAAQ,CAACD,OAAO,CAACE,SAAS,CAACF,OAAO;AAwBlD,MAAMG,gBAAgB,GAAG,CAAC;AAC1B,MAAMC,QAAQ,GAAG,EAAE;AACnB,MAAMC,kBAAkB,GAAG,UAAU;AACrC,MAAMC,qBAAqB,GAAG,IAAI;AAClC,MAAMC,qBAAqB,GAAG,IAAI;AAElC,MAAMC,mBAAmB,GAAG,OAAO,GAAG,EAAE;AAExC,MAAaC,kBAAkB;EAA/BC,YAAA;IACI,KAAAC,OAAO,GAAoBpB,OAAO,CAACqB,QAAQ,CAACrB,OAAO;IACnD,KAAAsB,SAAS,GAA0B,EAAE;IACrC,KAAAC,QAAQ,GAAwB,IAAIvB,OAAO,CAACwB,WAAW,EAAE;IACzD,KAAAC,yBAAyB,GAAa,EAAE;IACxC,KAAAC,yBAAyB,GAAa,EAAE;IACxC,KAAAC,eAAe,GAAW,CAAC;IAC3B,KAAAC,gBAAgB,GAAa,EAAE;IAC/B,KAAAC,WAAW,GAAa,EAAE;EAuH9B;EArHI,OAAOC,qBAAqBA,CAACV,OAAwB,EAAEW,OAA8B;IACjF,MAAMC,IAAI,GAAG,IAAId,kBAAkB,EAAE;IACrCc,IAAI,CAACZ,OAAO,GAAGA,OAAO;IAEtB,MAAMa,cAAc,GAAGF,OAAO,CAACE,cAAc,IAAIlB,qBAAqB;IACtE,MAAMmB,cAAc,GAAGH,OAAO,CAACG,cAAc,IAAIlB,qBAAqB;IAGtE,MAAMmB,YAAY,GAAGH,IAAI,CAACI,aAAa,CAAChB,OAAO,EAAEW,OAAO,CAACM,eAAe,EAAEJ,cAAc,EAAEF,OAAO,CAACO,sBAAsB,EAAEP,OAAO,CAACQ,aAAa,EAAER,OAAO,CAACS,aAAa,EAAEN,cAAc,CAAC;IACvL,IAAIC,YAAY,EAAE;MACd,OAAOH,IAAI;;IAEfA,IAAI,CAACS,YAAY,CAACV,OAAO,CAACO,sBAAsB,CAAC;IACjD,OAAON,IAAI;EACf;EAEAI,aAAaA,CAAChB,OAAwB,EAAEiB,eAAgC,EAAEJ,cAAsB,EAAEK,sBAAoC,EAAEC,aAAqB,EAAEC,aAAqB,EAAEN,cAAsB;IACxM,IAAIQ,MAAM,GAAGC,MAAM,CAACC,IAAI,CAACP,eAAe,CAACQ,WAAW,CAAC;IACrD,IAAIC,IAAI,GAAGH,MAAM,CAACC,IAAI,CAACP,eAAe,CAACS,IAAI,CAAC;IAC5C,OAAOA,IAAI,CAACA,IAAI,CAACC,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE;MAC/BD,IAAI,GAAGA,IAAI,CAACE,KAAK,CAAC,CAAC,EAAEF,IAAI,CAACC,MAAM,GAAG,CAAC,CAAC;;IAEzC,IAAIE,CAAC,GAAG,CAAC,GAAGP,MAAM,CAACK,MAAM,GAAGD,IAAI,CAACC,MAAM;IACvC,IAAIG,KAAK,GAAGD,CAAC,GAAG,EAAE,IAAI,CAAC,GAAGA,CAAC,GAAIA,CAAC,GAAG,EAAE,GAAGA,CAAC,GAAG,EAAG;IAC/C,IAAIE,YAAY,GAAG5C,eAAA,CAAA6C,YAAY,CAACC,YAAY,CAACH,KAAK,CAAC;IACnDC,YAAY,CAACG,UAAU,CAACX,MAAM,CAACC,IAAI,CAAC,CAAC,CAACF,MAAM,CAACK,MAAM,GAAGD,IAAI,CAACC,MAAM,IAAI,GAAG,EAAE,CAACL,MAAM,CAACK,MAAM,GAAGD,IAAI,CAACC,MAAM,IAAI,GAAG,CAAC,CAAC,CAAC;IAChHI,YAAY,CAACG,UAAU,CAACZ,MAAM,CAAC;IAC/BS,YAAY,CAACG,UAAU,CAACR,IAAI,CAAC;IAC7B,IAAII,KAAK,GAAGD,CAAC,EAAE;MACXE,YAAY,CAACG,UAAU,CAACX,MAAM,CAACY,KAAK,CAACL,KAAK,GAAGD,CAAC,CAAC,CAAC;;IAGpD,IAAIO,IAAI,GAAGL,YAAY,CAACM,GAAG,EAAE;IAC7B,IAAIC,GAAG,GAAGvD,YAAA,CAAAwD,IAAI,CAACC,OAAO,CAACC,OAAO,CAACvB,sBAAsB,CAAC,CAAC,CAAC,CAACwB,IAAI,EAAEN,IAAI,CAACO,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;IACrF,IAAIC,iBAAiB,GAAG,CAAC;IACzB,IAAIC,0BAA0B,GAAG,CAAC;IAClC,MAAMC,EAAE,GAAG,IAAIlE,OAAO,CAACwB,WAAW,EAAE;IACpC0C,EAAE,CAACC,OAAO,GAAGvD,gBAAgB;IAC7BqD,0BAA0B,IAAIhC,cAAc;IAC5CiC,EAAE,CAACE,SAAS,CAACpE,OAAO,CAACqE,OAAO,CAACC,cAAc,CAACjC,eAAe,CAACkC,UAAU,EAAEnD,OAAO,CAAC,EAAEa,cAAc,CAAC;IACjG,OAAOyB,GAAG,CAACX,MAAM,EAAE;MACf,IAAIyB,IAAI,GAAGd,GAAG,CAACV,KAAK,CAAC,CAAC,EAAEyB,IAAI,CAACC,GAAG,CAAC7D,QAAQ,EAAE6C,GAAG,CAACX,MAAM,CAAC,CAAC;MACvD,IAAI4B,KAAK,GAAGH,IAAI,CAACT,QAAQ,CAAC,KAAK,CAAC;MAChC,IAAIY,KAAK,CAAC5B,MAAM,GAAG,EAAE,EAAE;QACnB4B,KAAK,GAAGA,KAAK,GAAG,GAAG,CAACC,MAAM,CAAC,EAAE,GAAGD,KAAK,CAAC5B,MAAM,CAAC;;MAEjDW,GAAG,GAAGA,GAAG,CAACV,KAAK,CAACwB,IAAI,CAACzB,MAAM,CAAC;MAC5B,IAAI8B,IAAI,GAAGnB,GAAG,CAACV,KAAK,CAAC,CAAC,EAAEyB,IAAI,CAACC,GAAG,CAAC7D,QAAQ,EAAE6C,GAAG,CAACX,MAAM,CAAC,CAAC;MACvD,IAAI+B,MAAM,GAAGD,IAAI,CAACd,QAAQ,CAAC,KAAK,CAAC;MACjC,IAAIe,MAAM,CAAC/B,MAAM,GAAG,EAAE,EAAE;QACpB+B,MAAM,GAAGA,MAAM,GAAG,GAAG,CAACF,MAAM,CAAC,EAAE,GAAGE,MAAM,CAAC/B,MAAM,CAAC;;MAEpDW,GAAG,GAAGA,GAAG,CAACV,KAAK,CAACwB,IAAI,CAACzB,MAAM,CAAC;MAC5B,MAAMgC,OAAO,GAAG,CACZ,IAAI,GAAGJ,KAAK,GAAG,IAAI,EACnB,IAAI,GAAGG,MAAM,GAAG,IAAI,EACpB,oEAAoE,CACvE,CAACE,GAAG,CAACC,GAAG,IAAItC,MAAM,CAACC,IAAI,CAACqC,GAAG,EAAE,KAAK,CAAC,CAAC;MACrC,MAAMC,OAAO,GAAGlF,OAAO,CAACmF,QAAQ,CAACC,IAAI,CAAC;QAACC,CAAC,EAAE,CAAC;QAAEN;MAAO,CAAC,CAAC;MACtDb,EAAE,CAACE,SAAS,CAACc,OAAO,CAACI,MAAO,EAAErD,cAAc,CAAC;MAC7CgC,0BAA0B,IAAIhC,cAAc;;IAEhDK,sBAAsB,CAACiD,OAAO,CAACC,kBAAkB,IAAG;MAChD,MAAMC,IAAI,GAAGtF,YAAA,CAAAwD,IAAI,CAAC+B,aAAa,CAACvF,YAAA,CAAAwD,IAAI,CAACC,OAAO,CAAC4B,kBAAkB,CAAC1B,IAAI,CAAC,CAAC;MACtEI,EAAE,CAACyB,QAAQ,CAACF,IAAI,EAAED,kBAAkB,CAACI,IAAI,EAAE9E,kBAAkB,CAAC;MAC9D,IAAI,CAACW,yBAAyB,CAACoE,IAAI,CAACL,kBAAkB,CAACM,MAAM,CAAC;MAC9D9B,iBAAiB,IAAIwB,kBAAkB,CAACM,MAAM;IAClD,CAAC,CAAC;IACF,MAAMC,cAAc,GAAG/F,OAAO,CAACqE,OAAO,CAACC,cAAc,CAAC/B,aAAa,EAAEnB,OAAO,CAAC;IAC7E8C,EAAE,CAACE,SAAS,CAAC2B,cAAc,EAAE,CAAC,CAAC;IAE/B,MAAMC,aAAa,GAAG9B,EAAE,CAAC+B,KAAK,EAAE;IAChCC,MAAM,CAACF,aAAa,EAAE1D,sBAAsB,EAAE,IAAI,CAAClB,OAAO,CAAC;IAC3D,MAAM+E,KAAK,GAAG,IAAA3F,SAAA,CAAA4F,kBAAkB,EAACJ,aAAa,EAAE1D,sBAAsB,CAAC0C,GAAG,CAACqB,CAAC,IAAIA,CAAC,CAAChC,OAAO,CAAC,EAAEjD,OAAO,CAAC;IACpG,MAAMkF,GAAG,GAAG7B,IAAI,CAAC8B,KAAK,CAACJ,KAAK,GAAG3D,aAAa,CAAC;IAC7C,MAAMgE,YAAY,GAAGxC,iBAAiB,GAAGC,0BAA0B,GAAGqC,GAAG;IACzE,IAAIE,YAAY,IAAItE,cAAc,EAAE;MAChCgC,EAAE,CAACuC,IAAI,CAACvC,EAAE,CAACuC,IAAI,CAAC1D,MAAM,GAAG,CAAC,CAAC,CAAC2D,KAAK,GAAGF,YAAY;KACnD,MAAM;MACHtC,EAAE,CAACuC,IAAI,GAAGvC,EAAE,CAACuC,IAAI,CAACzD,KAAK,CAAC,CAAC,EAAEkB,EAAE,CAACuC,IAAI,CAAC1D,MAAM,GAAG,CAAC,CAAC;MAC9CiD,aAAa,CAACS,IAAI,GAAGT,aAAa,CAACS,IAAI,CAACzD,KAAK,CAAC,CAAC,EAAEgD,aAAa,CAACS,IAAI,CAAC1D,MAAM,GAAG,CAAC,CAAC;MAC/E,MAAM4D,kBAAkB,GAAG,IAAAnG,SAAA,CAAA4F,kBAAkB,EAACJ,aAAa,EAAE1D,sBAAsB,CAAC0C,GAAG,CAACqB,CAAC,IAAIA,CAAC,CAAChC,OAAO,CAAC,EAAEjD,OAAO,CAAC;MACjH,MAAMwF,gBAAgB,GAAGnC,IAAI,CAAC8B,KAAK,CAACI,kBAAkB,GAAGnE,aAAa,CAAC;MACvE,IAAIwB,iBAAiB,GAAGC,0BAA0B,GAAG2C,gBAAgB,GAAG,CAAC,EAAE;QACvE,IAAI,CAACjF,eAAe,GAAG2E,GAAG;QAC1B,OAAO,IAAI;;;IAGnB,IAAI,CAAC/E,QAAQ,GAAG2C,EAAE;IAClB,OAAO,KAAK;EAChB;EAEAzB,YAAYA,CAACH,sBAAoC;IAC7C4D,MAAM,CAAC,IAAI,CAAC3E,QAAQ,EAAEe,sBAAsB,EAAE,IAAI,CAAClB,OAAO,CAAC;EAC/D;EAEAyF,YAAYA,CAAA;IACR,IAAIC,WAAW,GAAG,CAAC;IACnB,IAAI,CAACvF,QAAQ,CAACwF,GAAG,CAACxB,OAAO,CAAC,CAACyB,CAAC,EAAEC,CAAC,KAAI;MAC/BH,WAAW,IAAI,IAAI,CAACrF,yBAAyB,CAACwF,CAAC,CAAC;IACpD,CAAC,CAAC;IACF,IAAI,CAAC1F,QAAQ,CAACkF,IAAI,CAAClB,OAAO,CAAC2B,GAAG,IAAG;MAC7BJ,WAAW,IAAII,GAAG,CAACR,KAAK;IAC5B,CAAC,CAAC;IACF,IAAIS,YAAY,GAAa,EAAE;IAC/B,IAAI,CAAC7F,SAAS,CAACiE,OAAO,CAAC,CAAC6B,QAAQ,EAAEH,CAAC,KAAI;MACnC,IAAII,WAAW,GAAG,CAAC;MACnBA,WAAW,IAAI,IAAI,CAAC3F,yBAAyB,CAACuF,CAAC,CAAC;MAChDI,WAAW,IAAID,QAAQ,CAACX,IAAI,CAAC,CAAC,CAAC,CAACC,KAAK;MACrCS,YAAY,CAACtB,IAAI,CAACwB,WAAW,CAAC;IAClC,CAAC,CAAC;IAEF,OAAO;MACHP,WAAW;MACXK;KACH;EACL;;AA9HJG,OAAA,CAAApG,kBAAA,GAAAA,kBAAA;AAiIA,SAASgF,MAAMA,CAAChC,EAAuB,EAAE5B,sBAAoC,EAAElB,OAAwB;EACnG8C,EAAE,CAAC6C,GAAG,CAACxB,OAAO,CAAC,CAACgC,KAAK,EAAEN,CAAC,KAAI;IACxB,MAAMO,WAAW,GAAG,IAAAlH,SAAA,CAAAmH,cAAc,EAACnF,sBAAsB,CAAC2E,CAAC,CAAC,CAAC5C,OAAO,EAAEjD,OAAO,CAAC;IAC9E,MAAMsG,UAAU,GAAGvH,YAAA,CAAAwD,IAAI,CAACC,OAAO,CAAC,IAAAtD,SAAA,CAAAqH,iBAAiB,EAACrF,sBAAsB,CAAC2E,CAAC,CAAC,CAACS,UAAU,EAAEtG,OAAO,CAAC,CAAC;IACjG,MAAMwG,aAAa,GAAGzH,YAAA,CAAAwD,IAAI,CAACkE,KAAK,CAACH,UAAU,CAAC;IAC5C,MAAMI,SAAS,GAAG,IAAAxH,SAAA,CAAAyH,cAAc,EAACH,aAAa,CAAC;IAE/C,IAAIJ,WAAW,KAAK,gBAAgB,EAAE;MAClC,MAAMQ,cAAc,GAAG1F,sBAAsB,CAAC0C,GAAG,CAACiD,CAAC,IAAIjI,OAAO,CAACqE,OAAO,CAACC,cAAc,CAAC2D,CAAC,CAAC5D,OAAO,EAAEjD,OAAO,CAAC,CAAC;MAC1G,MAAM8G,MAAM,GAAG5F,sBAAsB,CAAC0C,GAAG,CAACiD,CAAC,IAAIA,CAAC,CAACnC,MAAM,CAAC;MACxD,MAAML,IAAI,GAAGvB,EAAE,CAACiE,gBAAgB,CAAClB,CAAC,EAAEe,cAAc,EAAEE,MAAM,EAAElI,OAAO,CAACwB,WAAW,CAAC4G,eAAe,CAAC;MAChG,MAAMC,cAAc,GAAGjI,OAAO,CAACkI,mBAAmB,CAACZ,UAAU,CAAC;MAC9D,MAAMa,SAAS,GAAG5F,MAAM,CAACC,IAAI,CAACnC,OAAO,CAAC+H,IAAI,CAAC/C,IAAI,EAAE4C,cAAc,EAAElI,YAAA,CAAAwD,IAAI,CAAC8E,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC;MAEvFlB,KAAK,CAACmB,OAAO,GAAG,CAAC/F,MAAM,CAACC,IAAI,CAAC2F,SAAS,CAAC,CAAC;KAE3C,MAAM,IAAIf,WAAW,KAAK,QAAQ,EAAE;MACjC,MAAMmB,UAAU,GAAG3I,OAAO,CAACqE,OAAO,CAACC,cAAc,CAAChC,sBAAsB,CAAC2E,CAAC,CAAC,CAAC5C,OAAO,EAAEjD,OAAO,CAAC;MAC7F,MAAMqE,IAAI,GAAGvB,EAAE,CAAC0E,gBAAgB,CAAC3B,CAAC,EAAE0B,UAAU,EAAE3I,OAAO,CAACwB,WAAW,CAACqH,WAAW,CAAE;MACjF,MAAMN,SAAS,GAAG,IAAAjI,SAAA,CAAAkI,IAAI,EAAC/C,IAAI,EAAEmC,aAAa,CAAC;MAC3C,MAAM1C,OAAO,GAAGlF,OAAO,CAACmF,QAAQ,CAAC2D,KAAK,CAAC;QACnCP,SAAS,EAAEvI,OAAO,CAAC+I,MAAM,CAACR,SAAS,CAACS,MAAM,CAACT,SAAS,EAAEvI,OAAO,CAACwB,WAAW,CAACqH,WAAW,CAAC;QACtFI,MAAM,EAAEnB;OACX,CAAC;MAEFP,KAAK,CAACwB,MAAM,GAAG7D,OAAO,CAACqC,KAAM;KAEhC,MAAM;MACH,MAAM2B,UAAU,GAAG7I,OAAO,CAAC8I,OAAO,CAACrB,SAAS,CAAC;MAC7C,MAAMsB,aAAa,GAAGzG,MAAM,CAAC0G,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,GAAGH,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC;MAClF,MAAMxC,KAAK,GAAGpE,sBAAsB,CAAC2E,CAAC,CAAC,CAACnB,MAAM;MAC9C,MAAML,IAAI,GAAGvB,EAAE,CAACoF,cAAc,CAACrC,CAAC,EAAEmC,aAAa,EAAE1C,KAAK,EAAE1G,OAAO,CAACwB,WAAW,CAACqH,WAAW,CAAC;MACxF,MAAMN,SAAS,GAAG,IAAAjI,SAAA,CAAAkI,IAAI,EAAC/C,IAAI,EAAEmC,aAAa,CAAC;MAE3CL,KAAK,CAACmB,OAAO,GAAG,CACZ1I,OAAO,CAAC+I,MAAM,CAACR,SAAS,CAACS,MAAM,CAACT,SAAS,EAAEvI,OAAO,CAACwB,WAAW,CAACqH,WAAW,CAAC,EAC3Ef,SAAS,CACZ;MAED,MAAMyB,YAAY,GAAG5G,MAAM,CAAC0G,EAAE,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,GAAGH,UAAU,CAAC;MAC1D,IAAI1B,WAAW,KAAK,eAAe,EAAE;QACjCD,KAAK,CAACwB,MAAM,GAAGQ,YAAY;;;EAGvC,CAAC,CAAC;AACN;AAEA,SAAgBC,WAAWA,CAACpI,OAAwB,EAAEW,OAA8B;EAChF,MAAMC,IAAI,GAAGd,kBAAkB,CAACY,qBAAqB,CAACV,OAAO,EAAEW,OAAO,CAAC;EACvE,IAAIC,IAAI,CAACL,eAAe,GAAG,CAAC,EAAE;IAC1B,OAAO;MACHJ,QAAQ,EAAE,EAAE;MACZD,SAAS,EAAE,EAAE;MACbwF,WAAW,EAAE9E,IAAI,CAACL,eAAe;MACjCwF,YAAY,EAAEnF,IAAI,CAACJ,gBAAgB;MACnCC,WAAW,EAAEG,IAAI,CAACH;KACrB;;EAGL,OAAO;IACHN,QAAQ,EAAES,IAAI,CAACT,QAAQ,CAACsG,KAAK,EAAE;IAC/BvG,SAAS,EAAEU,IAAI,CAACV,SAAS,CAAC0D,GAAG,CAACoC,QAAQ,IAAIA,QAAQ,CAACS,KAAK,EAAE,CAAC;IAC3D,GAAG7F,IAAI,CAAC6E,YAAY,EAAE;IACtBhF,WAAW,EAAEG,IAAI,CAACH;GACrB;AACL;AAlBAyF,OAAA,CAAAkC,WAAA,GAAAA,WAAA;AAqBA,SAASC,GAAGA,CAACC,GAAG,EAAEC,GAAG;EACjB,IAAIC,CAAC,GAAG,EAAE;IACNC,CAAC,GAAG,CAAC;IACLC,CAAC;IACDC,GAAG,GAAG,EAAE;EACZ,KAAK,IAAI9C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,GAAG,EAAEA,CAAC,EAAE,EAAE;IAC1B2C,CAAC,CAAC3C,CAAC,CAAC,GAAGA,CAAC;;EAEZ,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,GAAG,EAAEA,CAAC,EAAE,EAAE;IACtB4C,CAAC,GAAG,CAACA,CAAC,GAAGD,CAAC,CAAC3C,CAAC,CAAC,GAAGyC,GAAG,CAACM,UAAU,CAAC/C,CAAC,GAAGyC,GAAG,CAAC3G,MAAM,CAAC,IAAI,GAAG;IACrD+G,CAAC,GAAGF,CAAC,CAAC3C,CAAC,CAAC;IACR2C,CAAC,CAAC3C,CAAC,CAAC,GAAG2C,CAAC,CAACC,CAAC,CAAC;IACXD,CAAC,CAACC,CAAC,CAAC,GAAGC,CAAC;;EAEZ7C,CAAC,GAAG,CAAC;EACL4C,CAAC,GAAG,CAAC;EACL,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,GAAG,CAAC5G,MAAM,EAAEkH,CAAC,EAAE,EAAE;IACjChD,CAAC,GAAG,CAACA,CAAC,GAAG,CAAC,IAAI,GAAG;IACjB4C,CAAC,GAAG,CAACA,CAAC,GAAGD,CAAC,CAAC3C,CAAC,CAAC,IAAI,GAAG;IACpB6C,CAAC,GAAGF,CAAC,CAAC3C,CAAC,CAAC;IACR2C,CAAC,CAAC3C,CAAC,CAAC,GAAG2C,CAAC,CAACC,CAAC,CAAC;IACXD,CAAC,CAACC,CAAC,CAAC,GAAGC,CAAC;IACRC,GAAG,IAAIG,MAAM,CAACC,YAAY,CAACR,GAAG,CAACK,UAAU,CAACC,CAAC,CAAC,GAAGL,CAAC,CAAC,CAACA,CAAC,CAAC3C,CAAC,CAAC,GAAG2C,CAAC,CAACC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC;;EAE1E,OAAOE,GAAG;AACd;AAEA,SAASK,OAAOA,CAACnF,GAAW;EACxB,IAAIoF,KAAK,GAAG,EAAE;EACd,IAAIV,GAAG;EACP,KAAK,IAAI1C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGhC,GAAG,CAAClC,MAAM,GAAG,CAAC,EAAEkE,CAAC,IAAI,CAAC,EAAE;IACxC,IAAIqD,EAAE,GAAGC,QAAQ,CAACtF,GAAG,CAACuF,MAAM,CAACvD,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;IACvCoD,KAAK,CAACxE,IAAI,CAACyE,EAAE,CAAC;;EAElBX,GAAG,GAAGO,MAAM,CAACC,YAAY,CAACM,KAAK,CAACP,MAAM,EAAEG,KAAK,CAAC;EAC9C,OAAOV,GAAG;AACd;AAEA,SAASe,OAAOA,CAACd,CAAS;EAEtB,IAAI3C,CAAC;IAAEhE,CAAC;IAAEgF,CAAC,GAAG,EAAE;IAAE0C,CAAC;EACnBf,CAAC,IAAI,EAAE;EACP,KAAK3C,CAAC,GAAG,CAAC,EAAEhE,CAAC,GAAG2G,CAAC,CAAC7G,MAAM,EAAEkE,CAAC,GAAGhE,CAAC,EAAEgE,CAAC,EAAE,EAAE;IAClC0D,CAAC,GAAGf,CAAC,CAACI,UAAU,CAAC/C,CAAC,CAAC,CAAClD,QAAQ,CAAC,EAAE,CAAC;IAChCkE,CAAC,IAAI0C,CAAC,CAAC5H,MAAM,GAAG,CAAC,GAAG,GAAG,GAAG4H,CAAC,GAAGA,CAAC;;EAEnC,OAAO1C,CAAC;AACZ;AAEA,SAASpE,OAAOA,CAAC6F,GAAW,EAAEkB,SAAiB;EAC3C,OAAOF,OAAO,CAACjB,GAAG,CAACW,OAAO,CAACV,GAAG,CAAC,EAAEU,OAAO,CAACQ,SAAS,CAAC,CAAC,CAAC;AACzD"}]}