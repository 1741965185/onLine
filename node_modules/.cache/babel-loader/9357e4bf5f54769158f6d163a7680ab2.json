{"remainingRequest":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js??ref--16!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/IdeaProjects/onLinePayMerchant/src/views/Other/downloadApi.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/src/views/Other/downloadApi.vue","mtime":1700047012983},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHBhZ2luYXRpb24gZnJvbSAiQC9jb21wb25lbnRzL1BhZ2luYXRpb24iOwppbXBvcnQgeyBkb3duQXBpV29yZCB9IGZyb20gIkAvYXBpL2Jhc2ljU2V0dGluZyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRG93bmxvYWRBcGkiLAogIGNvbXBvbmVudHM6IHsKICAgIHBhZ2luYXRpb24KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0OiBbCiAgICAgICAgLy8geyBCZWxvbmd0eXBlOiAi5paH5qGjIiwgZmlsZW5hbWU6ICLmlK/ku5jmjqXlj6PluK7liqnmlofmoaMiLCB1cGRhdGV0aW1lOiAiMjAyMS0wMy0yNiAxNzowMDowMCIsIHVybDonaHR0cHM6Ly9haXJjbGljay1vc3Mub3NzLWNuLWhvbmdrb25nLmFsaXl1bmNzLmNvbS9hcGkvdGFweHl6LWFwaS56aXAnIH0sCiAgICAgICAgLy8geyBCZWxvbmd0eXBlOiAi5paH5qGjIiwgZmlsZW5hbWU6ICJVbmlvbnBheSIsIHVwZGF0ZXRpbWU6ICIyMDIxLTA5LTEwIDExOjMwOjAwIiwgdXJsOidodHRwczovL2FpcmNsaWNrLW9zcy5vc3MtY24taG9uZ2tvbmcuYWxpeXVuY3MuY29tL2FwaS9VbmlvblBheS56aXAnIH0sCiAgICAgIF0sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICB0b3RhbDogMCwKICAgICAgcGFnZU51bTogMSwKICAgICAgcGFnZVNpemU6IDE1CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy/kuIvovb0KICAgIERvd25sb2FkKHJvdykgewogICAgICBjb25zdCBkYXRhID0gewogICAgICAgIGZpbGU6IHJvdy5maWxlbmFtZQogICAgICB9OwogICAgICBkb3duQXBpV29yZChkYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKCFyZXMuc2l6ZSkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoImRvd25sb2FkYXBpLmRvd25sb2FkaW5nIiksCiAgICAgICAgICAgIHR5cGU6ICIiCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtyZXNdLCB7CiAgICAgICAgICB0eXBlOiAiYXBwbGljYXRpb24vemlwIgogICAgICAgIH0pOwogICAgICAgIGlmICgiZG93bmxvYWQiIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSkgewogICAgICAgICAgY29uc3QgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgICAgbGluay5ocmVmID0gdXJsOwogICAgICAgICAgbGluay5kb3dubG9hZCA9IHJvdy5maWxlbmFtZTsKICAgICAgICAgIGxpbmsuY2xpY2soKTsKICAgICAgICAgIC8vIOmHiuaUvuWGheWtmAogICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBpZTEw5LiL6L29CiAgICAgICAgICBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYihibG9iLCByb3cuZmlsZW5hbWUpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXJyID0+IHt9KTsKICAgIH0sCiAgICBnZXRMaXN0KCkge30KICB9Cn07"},{"version":3,"names":["pagination","downApiWord","name","components","data","list","loading","total","pageNum","pageSize","methods","Download","row","file","filename","then","res","size","$message","message","$t","type","blob","Blob","document","createElement","url","window","URL","createObjectURL","link","href","download","click","revokeObjectURL","navigator","msSaveOrOpenBlob","catch","err","getList"],"sources":["src/views/Other/downloadApi.vue"],"sourcesContent":["<template>\n\t<div class=\"app-container\">\n\t\t<h3 class=\"page-title mb28\">{{$t('downloadapi.interfaceDownload')}}</h3>\n\t\t<el-tabs>\n\t\t\t<el-tab-pane name=\"0\">\n\t\t\t\t<span slot=\"label\"><svg-icon icon-class=\"bg\" /> {{$t(\"downloadapi.apiinnterface\")}}</span>\n\t\t\t</el-tab-pane>\n\t\t\t<el-table :data=\"list\" tooltip-effect=\"dark\" style=\"width: 100%\" v-loading=\"loading\">\n\t\t\t\t<el-table-column prop=\"a\" :label=\"$t('downloadapi.allTypes')\" min-width=\"100\" align=\"\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t{{ scope.row.Belongtype }}\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column :label=\"$t('downloadapi.fileName')\" min-width=\"350\" align=\"\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t{{ scope.row.filename }}\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column :label=\"$t('downloadapi.updateTime')\" min-width=\"170\" align=\"\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t{{ scope.row.updatetime }}\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column :label=\"$t('downloadapi.download')\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<a :href=\"scope.row.url\" class=\"icon-hover-effect\">\n\t\t\t\t\t\t\t<svg-icon icon-class=\"download\" />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t</el-table>\n\t\t\t<pagination :total=\"total\" :page.sync=\"pageNum\" :limit.sync=\"pageSize\" @pagination=\"getList\"></pagination>\n\t\t</el-tabs>\n\t</div>\n</template>\n\n<script>\nimport pagination from \"@/components/Pagination\";\nimport { downApiWord } from \"@/api/basicSetting\";\n\nexport default {\n\tname: \"DownloadApi\",\n\tcomponents: {\n\t\tpagination,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tlist: [\n\t\t\t\t// { Belongtype: \"文档\", filename: \"支付接口帮助文档\", updatetime: \"2021-03-26 17:00:00\", url:'https://airclick-oss.oss-cn-hongkong.aliyuncs.com/api/tapxyz-api.zip' },\n\t\t\t\t// { Belongtype: \"文档\", filename: \"Unionpay\", updatetime: \"2021-09-10 11:30:00\", url:'https://airclick-oss.oss-cn-hongkong.aliyuncs.com/api/UnionPay.zip' },\n\t\t\t],\n\t\t\tloading: false,\n\t\t\ttotal: 0,\n\t\t\tpageNum: 1,\n\t\t\tpageSize: 15,\n\t\t};\n\t},\n\n\tmethods: {\n\t\t//下载\n\t\tDownload(row) {\n\t\t\tconst data = {\n\t\t\t\tfile: row.filename,\n\t\t\t};\n\t\t\tdownApiWord(data)\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (!res.size) {\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\tmessage: this.$t(\"downloadapi.downloading\"),\n\t\t\t\t\t\t\ttype: \"\",\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst blob = new Blob([res], { type: \"application/zip\" });\n\t\t\t\t\tif (\"download\" in document.createElement(\"a\")) {\n\t\t\t\t\t\tconst url = window.URL.createObjectURL(blob);\n\t\t\t\t\t\tconst link = document.createElement(\"a\");\n\t\t\t\t\t\tlink.href = url;\n\t\t\t\t\t\tlink.download = row.filename;\n\t\t\t\t\t\tlink.click();\n\t\t\t\t\t\t// 释放内存\n\t\t\t\t\t\tURL.revokeObjectURL(url);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// ie10下载\n\t\t\t\t\t\tnavigator.msSaveOrOpenBlob(blob, row.filename);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {});\n\t\t},\n\t\tgetList() {},\n\t},\n};\n</script>\n\n<style scoped lang=\"less\">\n@import \"../../assets/styles/template\";\n</style>\n"],"mappings":"AAqCA,OAAAA,UAAA;AACA,SAAAC,WAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAH;EACA;EACAI,KAAA;IACA;MACAC,IAAA;QACA;QACA;MAAA,CACA;MACAC,OAAA;MACAC,KAAA;MACAC,OAAA;MACAC,QAAA;IACA;EACA;EAEAC,OAAA;IACA;IACAC,SAAAC,GAAA;MACA,MAAAR,IAAA;QACAS,IAAA,EAAAD,GAAA,CAAAE;MACA;MACAb,WAAA,CAAAG,IAAA,EACAW,IAAA,CAAAC,GAAA;QACA,KAAAA,GAAA,CAAAC,IAAA;UACA,KAAAC,QAAA;YACAC,OAAA,OAAAC,EAAA;YACAC,IAAA;UACA;UACA;QACA;QAEA,MAAAC,IAAA,OAAAC,IAAA,EAAAP,GAAA;UAAAK,IAAA;QAAA;QACA,kBAAAG,QAAA,CAAAC,aAAA;UACA,MAAAC,GAAA,GAAAC,MAAA,CAAAC,GAAA,CAAAC,eAAA,CAAAP,IAAA;UACA,MAAAQ,IAAA,GAAAN,QAAA,CAAAC,aAAA;UACAK,IAAA,CAAAC,IAAA,GAAAL,GAAA;UACAI,IAAA,CAAAE,QAAA,GAAApB,GAAA,CAAAE,QAAA;UACAgB,IAAA,CAAAG,KAAA;UACA;UACAL,GAAA,CAAAM,eAAA,CAAAR,GAAA;QACA;UACA;UACAS,SAAA,CAAAC,gBAAA,CAAAd,IAAA,EAAAV,GAAA,CAAAE,QAAA;QACA;MACA,GACAuB,KAAA,CAAAC,GAAA;IACA;IACAC,QAAA;EACA;AACA"}]}