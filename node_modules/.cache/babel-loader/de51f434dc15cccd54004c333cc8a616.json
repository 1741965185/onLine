{"remainingRequest":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js??ref--17!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/@okxweb3/coin-bitcoin/dist/wallet/RuneMainWallet.js","dependencies":[{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/@okxweb3/coin-bitcoin/dist/wallet/RuneMainWallet.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyIpOwp2YXIgX19jcmVhdGVCaW5kaW5nID0gdGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZyB8fCAoT2JqZWN0LmNyZWF0ZSA/IGZ1bmN0aW9uIChvLCBtLCBrLCBrMikgewogIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7CiAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspOwogIGlmICghZGVzYyB8fCAoImdldCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkgewogICAgZGVzYyA9IHsKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIG1ba107CiAgICAgIH0KICAgIH07CiAgfQogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7Cn0gOiBmdW5jdGlvbiAobywgbSwgaywgazIpIHsKICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrOwogIG9bazJdID0gbVtrXTsKfSk7CnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSB0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0IHx8IChPYmplY3QuY3JlYXRlID8gZnVuY3Rpb24gKG8sIHYpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgImRlZmF1bHQiLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHYKICB9KTsKfSA6IGZ1bmN0aW9uIChvLCB2KSB7CiAgb1siZGVmYXVsdCJdID0gdjsKfSk7CnZhciBfX2ltcG9ydFN0YXIgPSB0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyIHx8IGZ1bmN0aW9uIChtb2QpIHsKICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kOwogIHZhciByZXN1bHQgPSB7fTsKICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gImRlZmF1bHQiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspOwogIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7CiAgcmV0dXJuIHJlc3VsdDsKfTsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLlJ1bmVNYWluVGVzdFdhbGxldCA9IGV4cG9ydHMuUnVuZU1haW5XYWxsZXQgPSBleHBvcnRzLkVyckNvZGVNdWx0aXBsZVJ1bmVJZCA9IGV4cG9ydHMuRXJyQ29kZVJ1bmVJZE5vdFN0YW5kYXJkID0gZXhwb3J0cy5FcnJDb2RlT3ByZXR1cm5FeGNlZWRzID0gZXhwb3J0cy5FcnJDb2RlTGVzc1J1bmVzTWFpbkFtdCA9IHZvaWQgMDsKY29uc3QgY29pbl9iYXNlXzEgPSByZXF1aXJlKCJAb2t4d2ViMy9jb2luLWJhc2UiKTsKY29uc3QgQnRjV2FsbGV0XzEgPSByZXF1aXJlKCIuL0J0Y1dhbGxldCIpOwpjb25zdCBiaXRjb2luID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoIi4uL2luZGV4IikpOwpjb25zdCBpbmRleF8xID0gcmVxdWlyZSgiLi4vaW5kZXgiKTsKY29uc3QgcnVuZV8xID0gcmVxdWlyZSgiLi4vcnVuZSIpOwpjb25zdCBjcnlwdG9fbGliXzEgPSByZXF1aXJlKCJAb2t4d2ViMy9jcnlwdG8tbGliIik7CmNvbnN0IHJ1bmVzTWFpbl8xID0gcmVxdWlyZSgiLi4vcnVuZXNNYWluIik7CmV4cG9ydHMuRXJyQ29kZUxlc3NSdW5lc01haW5BbXQgPSAyMDEwMzAwOwpleHBvcnRzLkVyckNvZGVPcHJldHVybkV4Y2VlZHMgPSAyMDEwMzAxOwpleHBvcnRzLkVyckNvZGVSdW5lSWROb3RTdGFuZGFyZCA9IDIwMTAzMDI7CmV4cG9ydHMuRXJyQ29kZU11bHRpcGxlUnVuZUlkID0gMjAxMDMwMzsKY2xhc3MgUnVuZU1haW5XYWxsZXQgZXh0ZW5kcyBCdGNXYWxsZXRfMS5CdGNXYWxsZXQgewogIGNvbnZlcnQyUnVuZVR4KHBhcmFtRGF0YSkgewogICAgY29uc3QgY2xvbmVkUGFyYW1EYXRhID0gKDAsIGNvaW5fYmFzZV8xLmNsb25lT2JqZWN0KShwYXJhbURhdGEpOwogICAgaWYgKGNsb25lZFBhcmFtRGF0YS5ydW5lRGF0YS51c2VEZWZhdWx0T3V0cHV0ID09IHRydWUgJiYgY2xvbmVkUGFyYW1EYXRhLnJ1bmVEYXRhLmRlZmF1bHRPdXRwdXQgPT0gdW5kZWZpbmVkKSB7CiAgICAgIGNsb25lZFBhcmFtRGF0YS5ydW5lRGF0YS5kZWZhdWx0T3V0cHV0ID0gMDsKICAgIH0KICAgIGlmIChjbG9uZWRQYXJhbURhdGEucnVuZURhdGEubWludCA9PSB0cnVlICYmIGNsb25lZFBhcmFtRGF0YS5ydW5lRGF0YS5taW50TnVtID09IHVuZGVmaW5lZCkgewogICAgICBjbG9uZWRQYXJhbURhdGEucnVuZURhdGEubWludE5VbSA9IDE7CiAgICB9CiAgICBmb3IgKGxldCBpbnB1dCBvZiBjbG9uZWRQYXJhbURhdGEuaW5wdXRzKSB7CiAgICAgIGxldCBkYXRhQXJyYXkgPSBpbnB1dC5kYXRhOwogICAgICBpZiAoZGF0YUFycmF5ICE9IG51bGwgJiYgZGF0YUFycmF5IGluc3RhbmNlb2YgQXJyYXkpIHsKICAgICAgICBmb3IgKGxldCBkYXRhIG9mIGRhdGFBcnJheSkgewogICAgICAgICAgaWYgKHR5cGVvZiBkYXRhWyJhbW91bnQiXSA9PT0gInN0cmluZyIpIHsKICAgICAgICAgICAgaWYgKGNsb25lZFBhcmFtRGF0YS5ydW5lRGF0YS5taW50KSB7CiAgICAgICAgICAgICAgZGF0YVsiYW1vdW50Il0gPSBCaWdJbnQoMSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZGF0YVsiYW1vdW50Il0gPSBCaWdJbnQoZGF0YVsiYW1vdW50Il0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBmb3IgKGxldCBvdXRwdXQgb2YgY2xvbmVkUGFyYW1EYXRhLm91dHB1dHMpIHsKICAgICAgbGV0IGRhdGFBcnJheSA9IG91dHB1dC5kYXRhOwogICAgICBpZiAoZGF0YUFycmF5ICE9IG51bGwgJiYgZGF0YUFycmF5IGluc3RhbmNlb2YgQXJyYXkpIHsKICAgICAgICBmb3IgKGxldCBkYXRhIG9mIGRhdGFBcnJheSkgewogICAgICAgICAgaWYgKHR5cGVvZiBkYXRhWyJhbW91bnQiXSA9PT0gInN0cmluZyIpIHsKICAgICAgICAgICAgaWYgKGNsb25lZFBhcmFtRGF0YS5ydW5lRGF0YS5taW50KSB7CiAgICAgICAgICAgICAgZGF0YVsiYW1vdW50Il0gPSBCaWdJbnQoMSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZGF0YVsiYW1vdW50Il0gPSBCaWdJbnQoZGF0YVsiYW1vdW50Il0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBsZXQgaW5wdXRzID0gY2xvbmVkUGFyYW1EYXRhLmlucHV0czsKICAgIGNvbnN0IHJ1bmVJbnB1dE1hcCA9IG5ldyBNYXAoKTsKICAgIGZvciAoY29uc3QgaW5wdXQgb2YgaW5wdXRzKSB7CiAgICAgIGxldCBkYXRhQXJyYXkgPSBpbnB1dC5kYXRhOwogICAgICBpZiAoZGF0YUFycmF5ICE9IG51bGwgJiYgZGF0YUFycmF5IGluc3RhbmNlb2YgQXJyYXkpIHsKICAgICAgICBmb3IgKGNvbnN0IGRhdGEgb2YgZGF0YUFycmF5KSB7CiAgICAgICAgICBsZXQgcnVuZUlkID0gZGF0YVsiaWQiXTsKICAgICAgICAgIGxldCBydW5lQW1vdW50ID0gQmlnSW50KDEpOwogICAgICAgICAgaWYgKCFjbG9uZWRQYXJhbURhdGEucnVuZURhdGEubWludCkgewogICAgICAgICAgICBydW5lQW1vdW50ID0gQmlnSW50KGRhdGFbImFtb3VudCJdKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChydW5lSWQgPT0gbnVsbCB8fCBydW5lQW1vdW50ID09IG51bGwpIHsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAocnVuZUlkLnNwbGl0KCI6IikubGVuZ3RoIDw9IDEpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICBlcnJDb2RlOiBleHBvcnRzLkVyckNvZGVSdW5lSWROb3RTdGFuZGFyZCwKICAgICAgICAgICAgICBkYXRlOiB7CiAgICAgICAgICAgICAgICBydW5lSWQ6IHJ1bmVJZAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkpOwogICAgICAgICAgfQogICAgICAgICAgbGV0IGJlZm9yZUFtb3VudCA9IHJ1bmVJbnB1dE1hcC5nZXQocnVuZUlkKTsKICAgICAgICAgIGlmIChiZWZvcmVBbW91bnQgPT0gbnVsbCkgewogICAgICAgICAgICBydW5lSW5wdXRNYXAuc2V0KHJ1bmVJZCwgcnVuZUFtb3VudCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBydW5lSW5wdXRNYXAuc2V0KHJ1bmVJZCwgQmlnSW50KGJlZm9yZUFtb3VudCkgKyBCaWdJbnQocnVuZUFtb3VudCkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogICAgaWYgKHJ1bmVJbnB1dE1hcC5zaXplID4gMSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoSlNPTi5zdHJpbmdpZnkoewogICAgICAgIGVyckNvZGU6IGV4cG9ydHMuRXJyQ29kZU11bHRpcGxlUnVuZUlkLAogICAgICAgIGRhdGU6IHsKICAgICAgICAgIHJ1bmVJbnB1dE1hcFNpemU6IHJ1bmVJbnB1dE1hcC5zaXplCiAgICAgICAgfQogICAgICB9KSk7CiAgICB9CiAgICBsZXQgb3V0cHV0cyA9IGNsb25lZFBhcmFtRGF0YS5vdXRwdXRzOwogICAgY29uc3QgcnVuZVNlbmRNYXAgPSBuZXcgTWFwKCk7CiAgICBmb3IgKGNvbnN0IG91dHB1dCBvZiBvdXRwdXRzKSB7CiAgICAgIGxldCBkYXRhID0gb3V0cHV0LmRhdGE7CiAgICAgIGlmIChkYXRhICE9IG51bGwpIHsKICAgICAgICBsZXQgcnVuZUlkID0gZGF0YVsiaWQiXTsKICAgICAgICBsZXQgcnVuZUFtb3VudCA9IEJpZ0ludCgxKTsKICAgICAgICBpZiAoIWNsb25lZFBhcmFtRGF0YS5ydW5lRGF0YS5taW50KSB7CiAgICAgICAgICBydW5lQW1vdW50ID0gQmlnSW50KGRhdGFbImFtb3VudCJdKTsKICAgICAgICB9CiAgICAgICAgaWYgKHJ1bmVJZCA9PSBudWxsIHx8IHJ1bmVBbW91bnQgPT0gbnVsbCkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQogICAgICAgIGxldCBiZWZvcmVBbW91bnQgPSBydW5lU2VuZE1hcC5nZXQocnVuZUlkKTsKICAgICAgICBpZiAoYmVmb3JlQW1vdW50ID09IG51bGwpIHsKICAgICAgICAgIHJ1bmVTZW5kTWFwLnNldChydW5lSWQsIHJ1bmVBbW91bnQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBydW5lU2VuZE1hcC5zZXQocnVuZUlkLCBCaWdJbnQoYmVmb3JlQW1vdW50KSArIEJpZ0ludChydW5lQW1vdW50KSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBsZXQgaXNSdW5lQ2hhbmdlID0gZmFsc2U7CiAgICBmb3IgKGNvbnN0IGlkIG9mIHJ1bmVJbnB1dE1hcC5rZXlzKCkpIHsKICAgICAgbGV0IGlucHV0QW1vdW50ID0gcnVuZUlucHV0TWFwLmdldChpZCk7CiAgICAgIGxldCBzZW5kQW1vdW50ID0gcnVuZVNlbmRNYXAuZ2V0KGlkKTsKICAgICAgaWYgKGlucHV0QW1vdW50ICE9IG51bGwgJiYgc2VuZEFtb3VudCAhPSBudWxsICYmIGlucHV0QW1vdW50ID4gc2VuZEFtb3VudCB8fCBpbnB1dEFtb3VudCAhPSBudWxsICYmIHNlbmRBbW91bnQgPT0gbnVsbCkgewogICAgICAgIGlmIChjbG9uZWRQYXJhbURhdGEucnVuZURhdGEudXNlRGVmYXVsdE91dHB1dCA9PSBmYWxzZSkgewogICAgICAgICAgaXNSdW5lQ2hhbmdlID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIGxldCBvdXRwdXRJbmRleCA9IDA7CiAgICBsZXQgdXBkYXRlT3V0cHV0cyA9IFtdOwogICAgaWYgKGlzUnVuZUNoYW5nZSkgewogICAgICBsZXQgcnVuZUNoYW5nZSA9IHsKICAgICAgICBhZGRyZXNzOiBjbG9uZWRQYXJhbURhdGEuYWRkcmVzcywKICAgICAgICBhbW91bnQ6IDU0NgogICAgICB9OwogICAgICB1cGRhdGVPdXRwdXRzLnB1c2gocnVuZUNoYW5nZSk7CiAgICAgIG91dHB1dEluZGV4Kys7CiAgICB9CiAgICBjb25zdCB0eXBlZEVkaWN0cyA9IFtdOwogICAgZm9yIChjb25zdCBvdXRwdXQgb2Ygb3V0cHV0cykgewogICAgICBsZXQgZGF0YSA9IG91dHB1dC5kYXRhOwogICAgICBpZiAoZGF0YSAhPSBudWxsKSB7CiAgICAgICAgbGV0IHJ1bmVJZCA9IGRhdGFbImlkIl07CiAgICAgICAgbGV0IHJ1bmVBbW91bnQgPSBCaWdJbnQoMSk7CiAgICAgICAgaWYgKCFjbG9uZWRQYXJhbURhdGEucnVuZURhdGEubWludCkgewogICAgICAgICAgcnVuZUFtb3VudCA9IEJpZ0ludChkYXRhWyJhbW91bnQiXSk7CiAgICAgICAgfQogICAgICAgIGlmIChydW5lSWQgPT0gbnVsbCB8fCBydW5lQW1vdW50ID09IG51bGwpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgICAgICBjb25zdCB0eXBlZEVkaWN0ID0gewogICAgICAgICAgYmxvY2s6IHBhcnNlSW50KHJ1bmVJZC5zcGxpdCgiOiIpWzBdKSwKICAgICAgICAgIGlkOiBwYXJzZUludChydW5lSWQuc3BsaXQoIjoiKVsxXSksCiAgICAgICAgICBhbW91bnQ6IEJpZ0ludChydW5lQW1vdW50KSwKICAgICAgICAgIG91dHB1dDogb3V0cHV0SW5kZXgKICAgICAgICB9OwogICAgICAgIHR5cGVkRWRpY3RzLnB1c2godHlwZWRFZGljdCk7CiAgICAgIH0KICAgICAgb3V0cHV0LmRhdGEgPSBudWxsOwogICAgICB1cGRhdGVPdXRwdXRzLnB1c2gob3V0cHV0KTsKICAgICAgb3V0cHV0SW5kZXgrKzsKICAgIH0KICAgIGlmIChjbG9uZWRQYXJhbURhdGEucnVuZURhdGEudXNlRGVmYXVsdE91dHB1dCA9PSB0cnVlICYmIGNsb25lZFBhcmFtRGF0YS5ydW5lRGF0YS5kZWZhdWx0T3V0cHV0ID4gdXBkYXRlT3V0cHV0cy5sZW5ndGggLSAxKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgZXJyQ29kZTogZXhwb3J0cy5FcnJDb2RlTGVzc1J1bmVzTWFpbkFtdCwKICAgICAgICBkYXRlOiB7CiAgICAgICAgICBkZWZhdWx0T3V0cHV0OiBjbG9uZWRQYXJhbURhdGEucnVuZURhdGEuZGVmYXVsdE91dHB1dCwKICAgICAgICAgIG91cHV0TGVudGg6IHVwZGF0ZU91dHB1dHMubGVuZ3RoCiAgICAgICAgfQogICAgICB9KSk7CiAgICB9CiAgICByZXR1cm4gewogICAgICBpbnB1dHM6IGNsb25lZFBhcmFtRGF0YS5pbnB1dHMsCiAgICAgIG91dHB1dHM6IHVwZGF0ZU91dHB1dHMsCiAgICAgIGFkZHJlc3M6IGNsb25lZFBhcmFtRGF0YS5hZGRyZXNzLAogICAgICBmZWVQZXJCOiBjbG9uZWRQYXJhbURhdGEuZmVlUGVyQiwKICAgICAgcnVuZURhdGE6IHsKICAgICAgICBlZGljdHM6IHR5cGVkRWRpY3RzLAogICAgICAgIGV0Y2hpbmc6IGNsb25lZFBhcmFtRGF0YS5ydW5lRGF0YS5ldGNoaW5nLAogICAgICAgIGJ1cm46IGNsb25lZFBhcmFtRGF0YS5ydW5lRGF0YS5idXJuLAogICAgICAgIGRlZmF1bHRPdXRwdXQ6IGNsb25lZFBhcmFtRGF0YS5ydW5lRGF0YS5kZWZhdWx0T3V0cHV0LAogICAgICAgIG1pbnQ6IGNsb25lZFBhcmFtRGF0YS5ydW5lRGF0YS5taW50LAogICAgICAgIG1pbnROdW06IGNsb25lZFBhcmFtRGF0YS5ydW5lRGF0YS5taW50TnVtLAogICAgICAgIHJldmVhbEFkZHI6IGNsb25lZFBhcmFtRGF0YS5ydW5lRGF0YS5yZXZlYWxBZGRyCiAgICAgIH0KICAgIH07CiAgfQogIGdldE1vY2tNaW5SdW5lVHgocGFyYW1EYXRhLCBjdXJSdW5lSW5mbykgewogICAgY29uc3QgY2xvbmVkUGFyYW1EYXRhID0gKDAsIGNvaW5fYmFzZV8xLmNsb25lT2JqZWN0KShwYXJhbURhdGEpOwogICAgY29uc3QgdHlwZWRFZGljdHMgPSBbXTsKICAgIGNvbnN0IHR5cGVkRWRpY3QgPSB7CiAgICAgIGJsb2NrOiBwYXJzZUludChjdXJSdW5lSW5mby5pZC5zcGxpdCgiOiIpWzBdKSwKICAgICAgaWQ6IHBhcnNlSW50KGN1clJ1bmVJbmZvLmlkLnNwbGl0KCI6IilbMV0pLAogICAgICBhbW91bnQ6IEJpZ0ludCgxKSwKICAgICAgb3V0cHV0OiAwCiAgICB9OwogICAgdHlwZWRFZGljdHMucHVzaCh0eXBlZEVkaWN0KTsKICAgIHJldHVybiB7CiAgICAgIGlucHV0czogW3sKICAgICAgICB0eElkOiBjbG9uZWRQYXJhbURhdGEuaW5wdXRzWzBdLnR4SWQsCiAgICAgICAgdk91dDogMCwKICAgICAgICBhbW91bnQ6IDYwMCwKICAgICAgICBkYXRhOiBbY3VyUnVuZUluZm9dCiAgICAgIH1dLAogICAgICBvdXRwdXRzOiBbewogICAgICAgIGFkZHJlc3M6IGNsb25lZFBhcmFtRGF0YS5hZGRyZXNzLAogICAgICAgIGFtb3VudDogNTQ2LAogICAgICAgIGRhdGE6IGN1clJ1bmVJbmZvCiAgICAgIH1dLAogICAgICBhZGRyZXNzOiBjbG9uZWRQYXJhbURhdGEuYWRkcmVzcywKICAgICAgZmVlUGVyQjogY2xvbmVkUGFyYW1EYXRhLmZlZVBlckIsCiAgICAgIHJ1bmVEYXRhOiB7CiAgICAgICAgZWRpY3RzOiB0eXBlZEVkaWN0cywKICAgICAgICBldGNoaW5nOiBjbG9uZWRQYXJhbURhdGEucnVuZURhdGEuZXRjaGluZywKICAgICAgICBidXJuOiBjbG9uZWRQYXJhbURhdGEucnVuZURhdGEuYnVybiwKICAgICAgICBkZWZhdWx0T3V0cHV0OiBjbG9uZWRQYXJhbURhdGEucnVuZURhdGEuZGVmYXVsdE91dHB1dCwKICAgICAgICBtaW50OiBjbG9uZWRQYXJhbURhdGEucnVuZURhdGEubWludCwKICAgICAgICBtaW50TnVtOiBjbG9uZWRQYXJhbURhdGEucnVuZURhdGEubWludE51bSwKICAgICAgICByZXZlYWxBZGRyOiBjbG9uZWRQYXJhbURhdGEucnVuZURhdGEucmV2ZWFsQWRkcgogICAgICB9CiAgICB9OwogIH0KICBnZXRNaW5SdW5lVHgocGFyYW1EYXRhLCBjdXJSdW5lSW5mbywgY3VySW5wdXQsIGN1ck91dHB1dCkgewogICAgY29uc3QgY2xvbmVkUGFyYW1EYXRhID0gKDAsIGNvaW5fYmFzZV8xLmNsb25lT2JqZWN0KShwYXJhbURhdGEpOwogICAgcmV0dXJuIHsKICAgICAgaW5wdXRzOiBbY3VySW5wdXRdLAogICAgICBvdXRwdXRzOiBbY3VyT3V0cHV0XSwKICAgICAgYWRkcmVzczogY2xvbmVkUGFyYW1EYXRhLmFkZHJlc3MsCiAgICAgIGZlZVBlckI6IGNsb25lZFBhcmFtRGF0YS5mZWVQZXJCLAogICAgICBSdW5lRGF0YTogY2xvbmVkUGFyYW1EYXRhLnJ1bmVEYXRhCiAgICB9OwogIH0KICBhc3luYyBzaWduVHJhbnNhY3Rpb24ocGFyYW0pIHsKICAgIGNvbnN0IG5ldHdvcmsgPSB0aGlzLm5ldHdvcmsoKTsKICAgIGxldCB0eEhleCA9IG51bGw7CiAgICBpZiAocGFyYW0uZGF0YS5ydW5lRGF0YS5ldGNoaW5nKSB7CiAgICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgoMCwgcnVuZXNNYWluXzEucnVuZXNNYWluSW5zY3JpYmUpKG5ldHdvcmssIHBhcmFtLmRhdGEpKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChjb2luX2Jhc2VfMS5TaWduVHhFcnJvcik7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAocGFyYW0uZGF0YS5ydW5lRGF0YS5taW50TnVtID09IHVuZGVmaW5lZCB8fCBwYXJhbS5kYXRhLnJ1bmVEYXRhLm1pbnROdW0gPD0gMSkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHByaXZhdGVLZXkgPSBwYXJhbS5wcml2YXRlS2V5OwogICAgICAgIGlmICghcGFyYW0uZGF0YS5ydW5lRGF0YSkgewogICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCJtaXNzaW5nIHJ1bmVEYXRhIik7CiAgICAgICAgfQogICAgICAgIGNvbnN0IHJ1bmVUeCA9IHRoaXMuY29udmVydDJSdW5lVHgocGFyYW0uZGF0YSk7CiAgICAgICAgY29uc3Qgb3BSZXR1cm5PdXRwdXQgPSB0aGlzLmdldFJ1bmVNYWluT3BSZXR1cm5PdXRwdXQobmV0d29yaywgcnVuZVR4LnJ1bmVEYXRhKTsKICAgICAgICBydW5lVHgub3V0cHV0cy5wdXNoKG9wUmV0dXJuT3V0cHV0KTsKICAgICAgICB0eEhleCA9ICgwLCBpbmRleF8xLnNpZ25CdGMpKHJ1bmVUeCwgcHJpdmF0ZUtleSwgbmV0d29yayk7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0eEhleCk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAocGFyYW0uZGF0YS5ydW5lRGF0YS5taW50ICYmICFwYXJhbS5kYXRhLnJ1bmVEYXRhLnNlcmlhbE1pbnQpIHsKICAgICAgdHJ5IHsKICAgICAgICBsZXQgdHhIZXhzID0gW107CiAgICAgICAgY29uc3QgcHJpdmF0ZUtleSA9IHBhcmFtLnByaXZhdGVLZXk7CiAgICAgICAgaWYgKCFwYXJhbS5kYXRhLnJ1bmVEYXRhKSB7CiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoIm1pc3NpbmcgcnVuZURhdGEiKTsKICAgICAgICB9CiAgICAgICAgbGV0IG1pbnREYXRhID0gewogICAgICAgICAgaWQ6IHBhcmFtLmRhdGEub3V0cHV0c1swXS5kYXRhLmlkLAogICAgICAgICAgYW1vdW50OiBwYXJhbS5kYXRhLm91dHB1dHNbMF0uZGF0YS5hbW91bnQsCiAgICAgICAgICBtaW50TnVtOiBwYXJhbS5kYXRhLnJ1bmVEYXRhLm1pbnROdW0KICAgICAgICB9OwogICAgICAgIGxldCBiYXNlTWludFR4ID0gdGhpcy5nZXRNb2NrTWluUnVuZVR4KHBhcmFtLmRhdGEsIG1pbnREYXRhKTsKICAgICAgICBjb25zdCBvcE1pbnRSZXR1cm5PdXRwdXQgPSB0aGlzLmdldFJ1bmVNYWluT3BSZXR1cm5PdXRwdXQobmV0d29yaywgYmFzZU1pbnRUeC5ydW5lRGF0YSk7CiAgICAgICAgYmFzZU1pbnRUeC5vdXRwdXRzLnB1c2gob3BNaW50UmV0dXJuT3V0cHV0KTsKICAgICAgICB0eEhleCA9ICgwLCBpbmRleF8xLnNpZ25CdGMpKGJhc2VNaW50VHgsIHByaXZhdGVLZXksIG5ldHdvcmspOwogICAgICAgIGNvbnN0IGJhc2VNaW50ZmVlID0gYml0Y29pbi5lc3RpbWF0ZUJ0Y0ZlZShiYXNlTWludFR4LCB0aGlzLm5ldHdvcmsoKSkgKyA1NDY7CiAgICAgICAgY29uc3QgcnVuZVR4ID0gdGhpcy5jb252ZXJ0MlJ1bmVUeChwYXJhbS5kYXRhKTsKICAgICAgICBsZXQgYmF0Y2hNaW50U3RhdE51bSA9IHJ1bmVUeC5vdXRwdXRzLmxlbmd0aDsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1pbnREYXRhLm1pbnROdW0gLSAxOyBpKyspIHsKICAgICAgICAgIHJ1bmVUeC5vdXRwdXRzLnB1c2goewogICAgICAgICAgICBhZGRyZXNzOiBwYXJhbS5kYXRhLmFkZHJlc3MsCiAgICAgICAgICAgIGFtb3VudDogYmFzZU1pbnRmZWUKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBjb25zdCBvcFJldHVybk91dHB1dCA9IHRoaXMuZ2V0UnVuZU1haW5PcFJldHVybk91dHB1dChuZXR3b3JrLCBydW5lVHgucnVuZURhdGEpOwogICAgICAgIHJ1bmVUeC5vdXRwdXRzLnB1c2gob3BSZXR1cm5PdXRwdXQpOwogICAgICAgIHR4SGV4ID0gKDAsIGluZGV4XzEuc2lnbkJ0YykocnVuZVR4LCBwcml2YXRlS2V5LCBuZXR3b3JrKTsKICAgICAgICBjb25zdCBwYXJlbnRUeElkID0gaW5kZXhfMS5UcmFuc2FjdGlvbi5mcm9tSGV4KHR4SGV4KS5nZXRJZCgpOwogICAgICAgIHR4SGV4cy5wdXNoKHR4SGV4KTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1pbnREYXRhLm1pbnROdW0gLSAxOyBpKyspIHsKICAgICAgICAgIGxldCBjdXJJbnB1dCA9IHsKICAgICAgICAgICAgdHhJZDogcGFyZW50VHhJZCwKICAgICAgICAgICAgdk91dDogYmF0Y2hNaW50U3RhdE51bSwKICAgICAgICAgICAgYWRkcmVzczogcGFyYW0uZGF0YS5hZGRyZXNzLAogICAgICAgICAgICBhbW91bnQ6IGJhc2VNaW50ZmVlLAogICAgICAgICAgICBkYXRhOiBbbWludERhdGFdCiAgICAgICAgICB9OwogICAgICAgICAgbGV0IGN1ck91dHB1dCA9IHsKICAgICAgICAgICAgYWRkcmVzczogcGFyYW0uZGF0YS5hZGRyZXNzLAogICAgICAgICAgICBhbW91bnQ6IDU0NgogICAgICAgICAgfTsKICAgICAgICAgIGJhdGNoTWludFN0YXROdW0gKz0gMTsKICAgICAgICAgIGxldCBjdXJTdWJUeCA9IHRoaXMuZ2V0TWluUnVuZVR4KHBhcmFtLmRhdGEsIG1pbnREYXRhLCBjdXJJbnB1dCwgY3VyT3V0cHV0KTsKICAgICAgICAgIGN1clN1YlR4Lm91dHB1dHMucHVzaChvcFJldHVybk91dHB1dCk7CiAgICAgICAgICBsZXQgY3VyU3ViVHhIZXggPSAoMCwgaW5kZXhfMS5zaWduQnRjKShjdXJTdWJUeCwgcHJpdmF0ZUtleSwgbmV0d29yayk7CiAgICAgICAgICB0eEhleHMucHVzaChjdXJTdWJUeEhleCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHhIZXhzKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdHJ5IHsKICAgICAgICBsZXQgdHhIZXhzID0gW107CiAgICAgICAgY29uc3QgcHJpdmF0ZUtleSA9IHBhcmFtLnByaXZhdGVLZXk7CiAgICAgICAgaWYgKCFwYXJhbS5kYXRhLnJ1bmVEYXRhKSB7CiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoIm1pc3NpbmcgcnVuZURhdGEiKTsKICAgICAgICB9CiAgICAgICAgbGV0IG1pbnREYXRhID0gewogICAgICAgICAgaWQ6IHBhcmFtLmRhdGEub3V0cHV0c1swXS5kYXRhLmlkLAogICAgICAgICAgYW1vdW50OiAxLAogICAgICAgICAgbWludE51bTogcGFyYW0uZGF0YS5ydW5lRGF0YS5taW50TnVtCiAgICAgICAgfTsKICAgICAgICBsZXQgYmFzZU1pbnRUeCA9IHRoaXMuZ2V0TW9ja01pblJ1bmVUeChwYXJhbS5kYXRhLCBtaW50RGF0YSk7CiAgICAgICAgY29uc3Qgb3BNaW50UmV0dXJuT3V0cHV0ID0gKDAsIHJ1bmVfMS5idWlsZFJ1bmVNYWluTWludE9wKShtaW50RGF0YS5pZCwgZmFsc2UsIDAsIHRydWUpOwogICAgICAgIGJhc2VNaW50VHgub3V0cHV0cy5wdXNoKG9wTWludFJldHVybk91dHB1dCk7CiAgICAgICAgY29uc3QgYmFzZU1pbnRmZWUgPSBiaXRjb2luLmVzdGltYXRlQnRjRmVlKGJhc2VNaW50VHgsIHRoaXMubmV0d29yaygpKTsKICAgICAgICBsZXQgY3VyQW1vdW50ID0gKG1pbnREYXRhLm1pbnROdW0gLSAxKSAqIGJhc2VNaW50ZmVlICsgNTQ2OwogICAgICAgIGNvbnN0IHJ1bmVUeCA9IHRoaXMuY29udmVydDJSdW5lVHhTZXJpYWxNaW50KHBhcmFtLmRhdGEsIGN1ckFtb3VudCk7CiAgICAgICAgcnVuZVR4Lm91dHB1dHMucHVzaChvcE1pbnRSZXR1cm5PdXRwdXQpOwogICAgICAgIHR4SGV4ID0gKDAsIGluZGV4XzEuc2lnbkJ0YykocnVuZVR4LCBwcml2YXRlS2V5LCBuZXR3b3JrKTsKICAgICAgICBsZXQgcGFyZW50VHhJZCA9IGluZGV4XzEuVHJhbnNhY3Rpb24uZnJvbUhleCh0eEhleCkuZ2V0SWQoKTsKICAgICAgICB0eEhleHMucHVzaCh0eEhleCk7CiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBtaW50RGF0YS5taW50TnVtOyBpKyspIHsKICAgICAgICAgIGxldCBjdXJJbnB1dCA9IHsKICAgICAgICAgICAgdHhJZDogcGFyZW50VHhJZCwKICAgICAgICAgICAgdk91dDogMCwKICAgICAgICAgICAgYWRkcmVzczogcGFyYW0uZGF0YS5hZGRyZXNzLAogICAgICAgICAgICBhbW91bnQ6IGN1ckFtb3VudAogICAgICAgICAgfTsKICAgICAgICAgIGN1ckFtb3VudCA9IGN1ckFtb3VudCAtIGJhc2VNaW50ZmVlOwogICAgICAgICAgbGV0IGN1ck91dHB1dCA9IHsKICAgICAgICAgICAgYWRkcmVzczogcGFyYW0uZGF0YS5hZGRyZXNzLAogICAgICAgICAgICBhbW91bnQ6IGN1ckFtb3VudAogICAgICAgICAgfTsKICAgICAgICAgIGxldCBjdXJTdWJUeCA9IHRoaXMuZ2V0TWluUnVuZVR4KHBhcmFtLmRhdGEsIG1pbnREYXRhLCBjdXJJbnB1dCwgY3VyT3V0cHV0KTsKICAgICAgICAgIGN1clN1YlR4Lm91dHB1dHMucHVzaChvcE1pbnRSZXR1cm5PdXRwdXQpOwogICAgICAgICAgbGV0IGN1clN1YlR4SGV4ID0gKDAsIGluZGV4XzEuc2lnbkJ0YykoY3VyU3ViVHgsIHByaXZhdGVLZXksIG5ldHdvcmspOwogICAgICAgICAgcGFyZW50VHhJZCA9IGluZGV4XzEuVHJhbnNhY3Rpb24uZnJvbUhleChjdXJTdWJUeEhleCkuZ2V0SWQoKTsKICAgICAgICAgIHR4SGV4cy5wdXNoKGN1clN1YlR4SGV4KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHR4SGV4czsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTsKICAgICAgfQogICAgfQogIH0KICBnZXRSdW5lTWFpbk9wUmV0dXJuT3V0cHV0KG5ldHdvcmssIHJ1bmVEYXRhKSB7CiAgICBsZXQgaXNNYWlubmV0ID0gZmFsc2U7CiAgICBpZiAoaW5kZXhfMS5uZXR3b3Jrcy5iaXRjb2luID09PSBuZXR3b3JrKSB7CiAgICAgIGlzTWFpbm5ldCA9IHRydWU7CiAgICB9CiAgICBpZiAocnVuZURhdGEudXNlRGVmYXVsdE91dHB1dCA9PSB1bmRlZmluZWQpIHsKICAgICAgcnVuZURhdGEudXNlRGVmYXVsdE91dHB1dCA9IGZhbHNlOwogICAgfQogICAgaWYgKHJ1bmVEYXRhLmRlZmF1bHRPdXRwdXQgPT0gdW5kZWZpbmVkKSB7CiAgICAgIHJ1bmVEYXRhLmRlZmF1bHRPdXRwdXQgPSAwOwogICAgfQogICAgaWYgKHJ1bmVEYXRhLm1pbnQgPT0gdW5kZWZpbmVkKSB7CiAgICAgIHJ1bmVEYXRhLm1pbnQgPSBmYWxzZTsKICAgIH0KICAgIGlmIChydW5lRGF0YS5taW50TnVtID09IHVuZGVmaW5lZCkgewogICAgICBydW5lRGF0YS5taW50TnVtID0gMDsKICAgIH0KICAgIGNvbnN0IG9wUmV0dXJuU2NyaXB0ID0gKDAsIHJ1bmVfMS5idWlsZFJ1bmVNYWluTWludERhdGEpKGlzTWFpbm5ldCwgcnVuZURhdGEuZWRpY3RzLCBydW5lRGF0YS51c2VEZWZhdWx0T3V0cHV0LCBydW5lRGF0YS5kZWZhdWx0T3V0cHV0LCBydW5lRGF0YS5taW50LCBydW5lRGF0YS5taW50TnVtKTsKICAgIHJldHVybiB7CiAgICAgIGFkZHJlc3M6ICcnLAogICAgICBhbW91bnQ6IDAsCiAgICAgIG9tbmlTY3JpcHQ6IGNyeXB0b19saWJfMS5iYXNlLnRvSGV4KG9wUmV0dXJuU2NyaXB0KQogICAgfTsKICB9CiAgYXN5bmMgZXN0aW1hdGVGZWUocGFyYW0pIHsKICAgIHRyeSB7CiAgICAgIGNvbnN0IG5ldHdvcmsgPSB0aGlzLm5ldHdvcmsoKTsKICAgICAgaWYgKCFwYXJhbS5kYXRhLnJ1bmVEYXRhKSB7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCJtaXNzaW5nIHJ1bmVEYXRhIik7CiAgICAgIH0KICAgICAgY29uc3QgcnVuZVR4ID0gdGhpcy5jb252ZXJ0MlJ1bmVUeChwYXJhbS5kYXRhKTsKICAgICAgY29uc3Qgb3BSZXR1cm5PdXRwdXQgPSB0aGlzLmdldFJ1bmVNYWluT3BSZXR1cm5PdXRwdXQodGhpcy5uZXR3b3JrKCksIHJ1bmVUeC5ydW5lRGF0YSk7CiAgICAgIHJ1bmVUeC5vdXRwdXRzLnB1c2gob3BSZXR1cm5PdXRwdXQpOwogICAgICBsZXQgbWludERhdGEgPSB7CiAgICAgICAgaWQ6IHBhcmFtLmRhdGEub3V0cHV0c1swXS5kYXRhLmlkLAogICAgICAgIGFtb3VudDogcGFyYW0uZGF0YS5vdXRwdXRzWzBdLmRhdGEuYW1vdW50LAogICAgICAgIG1pbnROdW06IHBhcmFtLmRhdGEucnVuZURhdGEubWludE51bQogICAgICB9OwogICAgICBsZXQgYmF0Y2hNaW50U3RhdE51bSA9IHJ1bmVUeC5vdXRwdXRzLmxlbmd0aDsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtaW50RGF0YS5taW50TnVtIC0gMTsgaSsrKSB7CiAgICAgICAgcnVuZVR4Lm91dHB1dHMucHVzaCh7CiAgICAgICAgICBhZGRyZXNzOiBwYXJhbS5kYXRhLmFkZHJlc3MsCiAgICAgICAgICBhbW91bnQ6IDgwMDAKICAgICAgICB9KTsKICAgICAgfQogICAgICBjb25zdCBmZWUgPSBiaXRjb2luLmVzdGltYXRlQnRjRmVlKHJ1bmVUeCwgdGhpcy5uZXR3b3JrKCkpOwogICAgICBpZiAocGFyYW0uZGF0YS5ydW5lRGF0YS5taW50TnVtID09IHVuZGVmaW5lZCB8fCBwYXJhbS5kYXRhLnJ1bmVEYXRhLm1pbnROdW0gPD0gMSkgewogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmVlKTsKICAgICAgfSBlbHNlIGlmIChwYXJhbS5kYXRhLnJ1bmVEYXRhLm1pbnQgJiYgIXBhcmFtLmRhdGEucnVuZURhdGEuc2VyaWFsTWludCkgewogICAgICAgIGxldCBmZWVzID0gW107CiAgICAgICAgZmVlcy5wdXNoKGZlZSk7CiAgICAgICAgbGV0IG1pbnREYXRhID0gewogICAgICAgICAgaWQ6IHBhcmFtLmRhdGEub3V0cHV0c1swXS5kYXRhLmlkLAogICAgICAgICAgYW1vdW50OiBwYXJhbS5kYXRhLm91dHB1dHNbMF0uZGF0YS5hbW91bnQsCiAgICAgICAgICBtaW50TnVtOiBwYXJhbS5kYXRhLnJ1bmVEYXRhLm1pbnROdW0KICAgICAgICB9OwogICAgICAgIGxldCBiYXNlTWludFR4ID0gdGhpcy5nZXRNb2NrTWluUnVuZVR4KHBhcmFtLmRhdGEsIG1pbnREYXRhKTsKICAgICAgICBjb25zdCBvcE1pbnRSZXR1cm5PdXRwdXQgPSB0aGlzLmdldFJ1bmVNYWluT3BSZXR1cm5PdXRwdXQodGhpcy5uZXR3b3JrKCksIGJhc2VNaW50VHgucnVuZURhdGEpOwogICAgICAgIGJhc2VNaW50VHgub3V0cHV0cy5wdXNoKG9wTWludFJldHVybk91dHB1dCk7CiAgICAgICAgY29uc3QgYmFzZU1pbnRmZWUgPSBiaXRjb2luLmVzdGltYXRlQnRjRmVlKGJhc2VNaW50VHgsIHRoaXMubmV0d29yaygpKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtLmRhdGEucnVuZURhdGEubWludE51bSAtIDE7IGkrKykgewogICAgICAgICAgZmVlcy5wdXNoKGJhc2VNaW50ZmVlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmZWVzKTsKICAgICAgfSBlbHNlIGlmIChwYXJhbS5kYXRhLnJ1bmVEYXRhLm1pbnQgJiYgcGFyYW0uZGF0YS5ydW5lRGF0YS5zZXJpYWxNaW50KSB7CiAgICAgICAgbGV0IGZlZXMgPSBbXTsKICAgICAgICBpZiAoIXBhcmFtLmRhdGEucnVuZURhdGEpIHsKICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgibWlzc2luZyBydW5lRGF0YSIpOwogICAgICAgIH0KICAgICAgICBsZXQgbWludERhdGEgPSB7CiAgICAgICAgICBpZDogcGFyYW0uZGF0YS5vdXRwdXRzWzBdLmRhdGEuaWQsCiAgICAgICAgICBhbW91bnQ6IDEsCiAgICAgICAgICBtaW50TnVtOiBwYXJhbS5kYXRhLnJ1bmVEYXRhLm1pbnROdW0KICAgICAgICB9OwogICAgICAgIGxldCBiYXNlTWludFR4ID0gdGhpcy5nZXRNb2NrTWluUnVuZVR4KHBhcmFtLmRhdGEsIG1pbnREYXRhKTsKICAgICAgICBjb25zdCBvcE1pbnRSZXR1cm5PdXRwdXQgPSAoMCwgcnVuZV8xLmJ1aWxkUnVuZU1haW5NaW50T3ApKG1pbnREYXRhLmlkLCBmYWxzZSwgMCwgdHJ1ZSk7CiAgICAgICAgYmFzZU1pbnRUeC5vdXRwdXRzLnB1c2gob3BNaW50UmV0dXJuT3V0cHV0KTsKICAgICAgICBjb25zdCBiYXNlTWludGZlZSA9IGJpdGNvaW4uZXN0aW1hdGVCdGNGZWUoYmFzZU1pbnRUeCwgdGhpcy5uZXR3b3JrKCkpOwogICAgICAgIGxldCBjdXJBbW91bnQgPSAobWludERhdGEubWludE51bSAtIDEpICogYmFzZU1pbnRmZWUgKyA1NDY7CiAgICAgICAgY29uc3QgcnVuZVR4ID0gdGhpcy5jb252ZXJ0MlJ1bmVUeFNlcmlhbE1pbnQocGFyYW0uZGF0YSwgY3VyQW1vdW50KTsKICAgICAgICBydW5lVHgub3V0cHV0cy5wdXNoKG9wTWludFJldHVybk91dHB1dCk7CiAgICAgICAgbGV0IGZlZSA9IGJpdGNvaW4uZXN0aW1hdGVCdGNGZWUocnVuZVR4LCBuZXR3b3JrKTsKICAgICAgICBmZWVzLnB1c2goZmVlKTsKICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IG1pbnREYXRhLm1pbnROdW07IGkrKykgewogICAgICAgICAgZmVlcy5wdXNoKGJhc2VNaW50ZmVlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmZWVzKTsKICAgICAgfQogICAgfSBjYXRjaCAoZSkgewogICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7CiAgICB9CiAgfQogIGNvbnZlcnQyUnVuZVR4U2VyaWFsTWludChwYXJhbURhdGEsIG91dHB1dEFtb3VudCkgewogICAgY29uc3QgY2xvbmVkUGFyYW1EYXRhID0gKDAsIGNvaW5fYmFzZV8xLmNsb25lT2JqZWN0KShwYXJhbURhdGEpOwogICAgbGV0IGN1ck91dHB1dHMgPSBbewogICAgICBhZGRyZXNzOiBjbG9uZWRQYXJhbURhdGEuYWRkcmVzcywKICAgICAgYW1vdW50OiBvdXRwdXRBbW91bnQKICAgIH1dOwogICAgcmV0dXJuIHsKICAgICAgaW5wdXRzOiBjbG9uZWRQYXJhbURhdGEuaW5wdXRzLAogICAgICBvdXRwdXRzOiBjdXJPdXRwdXRzLAogICAgICBhZGRyZXNzOiBjbG9uZWRQYXJhbURhdGEuYWRkcmVzcywKICAgICAgZmVlUGVyQjogY2xvbmVkUGFyYW1EYXRhLmZlZVBlckIsCiAgICAgIHJ1bmVEYXRhOiB7CiAgICAgICAgZWRpY3RzOiBjbG9uZWRQYXJhbURhdGEucnVuZURhdGEuZWRpY3RzLAogICAgICAgIGV0Y2hpbmc6IGNsb25lZFBhcmFtRGF0YS5ydW5lRGF0YS5ldGNoaW5nLAogICAgICAgIGJ1cm46IGNsb25lZFBhcmFtRGF0YS5ydW5lRGF0YS5idXJuLAogICAgICAgIGRlZmF1bHRPdXRwdXQ6IGNsb25lZFBhcmFtRGF0YS5ydW5lRGF0YS5kZWZhdWx0T3V0cHV0LAogICAgICAgIG1pbnQ6IGNsb25lZFBhcmFtRGF0YS5ydW5lRGF0YS5taW50LAogICAgICAgIG1pbnROdW06IGNsb25lZFBhcmFtRGF0YS5ydW5lRGF0YS5taW50TnVtLAogICAgICAgIHJldmVhbEFkZHI6IGNsb25lZFBhcmFtRGF0YS5ydW5lRGF0YS5yZXZlYWxBZGRyCiAgICAgIH0KICAgIH07CiAgfQogIGNvbnZlcnQyUnVuZVR4UHNidChwYXJhbURhdGEpIHsKICAgIGNvbnN0IGNsb25lZFBhcmFtRGF0YSA9ICgwLCBjb2luX2Jhc2VfMS5jbG9uZU9iamVjdCkocGFyYW1EYXRhKTsKICAgIHJldHVybiB7CiAgICAgIGlucHV0czogY2xvbmVkUGFyYW1EYXRhLmlucHV0cywKICAgICAgb3V0cHV0czogY2xvbmVkUGFyYW1EYXRhLm91dHB1dHMsCiAgICAgIGFkZHJlc3M6IGNsb25lZFBhcmFtRGF0YS5hZGRyZXNzLAogICAgICBmZWVQZXJCOiBjbG9uZWRQYXJhbURhdGEuZmVlUGVyQiwKICAgICAgcnVuZURhdGE6IHsKICAgICAgICBlZGljdHM6IGNsb25lZFBhcmFtRGF0YS5ydW5lRGF0YS5lZGljdHMsCiAgICAgICAgZXRjaGluZzogY2xvbmVkUGFyYW1EYXRhLnJ1bmVEYXRhLmV0Y2hpbmcsCiAgICAgICAgYnVybjogY2xvbmVkUGFyYW1EYXRhLnJ1bmVEYXRhLmJ1cm4sCiAgICAgICAgZGVmYXVsdE91dHB1dDogY2xvbmVkUGFyYW1EYXRhLnJ1bmVEYXRhLmRlZmF1bHRPdXRwdXQsCiAgICAgICAgbWludDogY2xvbmVkUGFyYW1EYXRhLnJ1bmVEYXRhLm1pbnQsCiAgICAgICAgbWludE51bTogY2xvbmVkUGFyYW1EYXRhLnJ1bmVEYXRhLm1pbnROdW0sCiAgICAgICAgcmV2ZWFsQWRkcjogY2xvbmVkUGFyYW1EYXRhLnJ1bmVEYXRhLnJldmVhbEFkZHIKICAgICAgfQogICAgfTsKICB9CiAgYXN5bmMgYnVpbGRQc2J0KHBhcmFtKSB7CiAgICBjb25zdCBuZXR3b3JrID0gdGhpcy5uZXR3b3JrKCk7CiAgICBsZXQgdHhIZXggPSBudWxsOwogICAgdHJ5IHsKICAgICAgY29uc3QgcHJpdmF0ZUtleSA9IHBhcmFtLnByaXZhdGVLZXk7CiAgICAgIGlmICghcGFyYW0uZGF0YS5ydW5lRGF0YSkgewogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgibWlzc2luZyBydW5lRGF0YSIpOwogICAgICB9CiAgICAgIGNvbnN0IHJ1bmVUeCA9IHRoaXMuY29udmVydDJSdW5lVHhQc2J0KHBhcmFtLmRhdGEpOwogICAgICBjb25zdCBvcFJldHVybk91dHB1dCA9IHRoaXMuZ2V0UnVuZU1haW5PcFJldHVybk91dHB1dChuZXR3b3JrLCBydW5lVHgucnVuZURhdGEpOwogICAgICBydW5lVHgub3V0cHV0cy5wdXNoKG9wUmV0dXJuT3V0cHV0KTsKICAgICAgbGV0IGZha2VBZGRyID0gIkt3ZGtmWE1WMnd4RFZETVBQdUZac2lvM05lQ3NrQVVkNE4yVTRQcmlUZ3BqMk1xQUdtbWMiOwogICAgICBpZiAocnVuZVR4LmR1c3RTaXplID09IHVuZGVmaW5lZCkgewogICAgICAgIHJ1bmVUeC5kdXN0U2l6ZSA9IDU0NjsKICAgICAgfQogICAgICBsZXQgewogICAgICAgIGlucHV0QW1vdW50LAogICAgICAgIG91dHB1dEFtb3VudCwKICAgICAgICB2aXJ0dWFsU2l6ZQogICAgICB9ID0gKDAsIGluZGV4XzEuY2FsY3VsYXRlVHhTaXplKShydW5lVHguaW5wdXRzLCBydW5lVHgub3V0cHV0cywgcnVuZVR4LmFkZHJlc3MsIGZha2VBZGRyLCBuZXR3b3JrLCBydW5lVHguZHVzdFNpemUpOwogICAgICBsZXQgY2hhbmdlQW1vdW50ID0gaW5wdXRBbW91bnQgLSBvdXRwdXRBbW91bnQgLSB2aXJ0dWFsU2l6ZSAqIHJ1bmVUeC5mZWVQZXJCOwogICAgICBpZiAoY2hhbmdlQW1vdW50ID4gcnVuZVR4LmR1c3RTaXplKSB7CiAgICAgICAgcnVuZVR4Lm91dHB1dHMucHVzaCh7CiAgICAgICAgICBhZGRyZXNzOiBydW5lVHguYWRkcmVzcywKICAgICAgICAgIGFtb3VudDogY2hhbmdlQW1vdW50CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgY29uc3QgdHhIZXggPSAoMCwgaW5kZXhfMS5idWlsZFBzYnQpKHJ1bmVUeCwgbmV0d29yayk7CiAgICAgIGNvbnN0IHJlcyA9IFt0eEhleCwgY2hhbmdlQW1vdW50XTsKICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXMpOwogICAgfSBjYXRjaCAoZSkgewogICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7CiAgICB9CiAgfQp9CmV4cG9ydHMuUnVuZU1haW5XYWxsZXQgPSBSdW5lTWFpbldhbGxldDsKY2xhc3MgUnVuZU1haW5UZXN0V2FsbGV0IGV4dGVuZHMgUnVuZU1haW5XYWxsZXQgewogIG5ldHdvcmsoKSB7CiAgICByZXR1cm4gYml0Y29pbi5uZXR3b3Jrcy50ZXN0bmV0OwogIH0KfQpleHBvcnRzLlJ1bmVNYWluVGVzdFdhbGxldCA9IFJ1bmVNYWluVGVzdFdhbGxldDs="},{"version":3,"names":["coin_base_1","require","BtcWallet_1","bitcoin","__importStar","index_1","rune_1","crypto_lib_1","runesMain_1","exports","ErrCodeLessRunesMainAmt","ErrCodeOpreturnExceeds","ErrCodeRuneIdNotStandard","ErrCodeMultipleRuneId","RuneMainWallet","BtcWallet","convert2RuneTx","paramData","clonedParamData","cloneObject","runeData","useDefaultOutput","defaultOutput","undefined","mint","mintNum","mintNUm","input","inputs","dataArray","data","Array","BigInt","output","outputs","runeInputMap","Map","runeId","runeAmount","split","length","Error","JSON","stringify","errCode","date","beforeAmount","get","set","size","runeInputMapSize","runeSendMap","isRuneChange","id","keys","inputAmount","sendAmount","outputIndex","updateOutputs","runeChange","address","amount","push","typedEdicts","typedEdict","block","parseInt","ouputLenth","feePerB","edicts","etching","burn","revealAddr","getMockMinRuneTx","curRuneInfo","txId","vOut","getMinRuneTx","curInput","curOutput","RuneData","signTransaction","param","network","txHex","Promise","resolve","runesMainInscribe","e","reject","SignTxError","privateKey","runeTx","opReturnOutput","getRuneMainOpReturnOutput","signBtc","serialMint","txHexs","mintData","baseMintTx","opMintReturnOutput","baseMintfee","estimateBtcFee","batchMintStatNum","i","parentTxId","Transaction","fromHex","getId","curSubTx","curSubTxHex","buildRuneMainMintOp","curAmount","convert2RuneTxSerialMint","isMainnet","networks","opReturnScript","buildRuneMainMintData","omniScript","base","toHex","estimateFee","fee","fees","outputAmount","curOutputs","convert2RuneTxPsbt","buildPsbt","fakeAddr","dustSize","virtualSize","calculateTxSize","changeAmount","res","RuneMainTestWallet","testnet"],"sources":["../../src/wallet/RuneMainWallet.ts"],"sourcesContent":[null],"mappings":"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"}]}