{"remainingRequest":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js??ref--17!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/@okxweb3/coin-ethereum/node_modules/@okxweb3/crypto-lib/dist/signutil/schnorr/abstract/weierstrass.js","dependencies":[{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/@okxweb3/coin-ethereum/node_modules/@okxweb3/crypto-lib/dist/signutil/schnorr/abstract/weierstrass.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKLyohIG5vYmxlLWN1cnZlcyAtIE1JVCBMaWNlbnNlIChjKSAyMDIyIFBhdWwgTWlsbGVyIChwYXVsbWlsbHIuY29tKSAqLwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmF0LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWxhc3QuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQtbGFzdC1pbmRleC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2V0LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lc25leHQudHlwZWQtYXJyYXkudG8tcmV2ZXJzZWQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC50eXBlZC1hcnJheS50by1zb3J0ZWQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC50eXBlZC1hcnJheS53aXRoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuYXQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQtbGFzdC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC1sYXN0LWluZGV4LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zZXQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC50eXBlZC1hcnJheS50by1yZXZlcnNlZC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnR5cGVkLWFycmF5LnRvLXNvcnRlZC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnR5cGVkLWFycmF5LndpdGguanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiKTsKdmFyIF9fY3JlYXRlQmluZGluZyA9IHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcgfHwgKE9iamVjdC5jcmVhdGUgPyBmdW5jdGlvbiAobywgbSwgaywgazIpIHsKICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrOwogIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTsKICBpZiAoIWRlc2MgfHwgKCJnZXQiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHsKICAgIGRlc2MgPSB7CiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBtW2tdOwogICAgICB9CiAgICB9OwogIH0KICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpOwp9IDogZnVuY3Rpb24gKG8sIG0sIGssIGsyKSB7CiAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gazsKICBvW2syXSA9IG1ba107Cn0pOwp2YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gdGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCB8fCAoT2JqZWN0LmNyZWF0ZSA/IGZ1bmN0aW9uIChvLCB2KSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sICJkZWZhdWx0IiwgewogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIHZhbHVlOiB2CiAgfSk7Cn0gOiBmdW5jdGlvbiAobywgdikgewogIG9bImRlZmF1bHQiXSA9IHY7Cn0pOwp2YXIgX19pbXBvcnRTdGFyID0gdGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhciB8fCBmdW5jdGlvbiAobW9kKSB7CiAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDsKICB2YXIgcmVzdWx0ID0ge307CiAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09ICJkZWZhdWx0IiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTsKICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpOwogIHJldHVybiByZXN1bHQ7Cn07Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5tYXBUb0N1cnZlU2ltcGxlU1dVID0gZXhwb3J0cy5TV1VGcFNxcnRSYXRpbyA9IGV4cG9ydHMud2VpZXJzdHJhc3MgPSBleHBvcnRzLndlaWVyc3RyYXNzUG9pbnRzID0gZXhwb3J0cy5ERVIgPSB2b2lkIDA7CmNvbnN0IG1vZCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKCIuL21vZHVsYXIiKSk7CmNvbnN0IHV0ID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoIi4vdXRpbHMiKSk7CmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKCIuL3V0aWxzIik7CmNvbnN0IGN1cnZlXzEgPSByZXF1aXJlKCIuL2N1cnZlIik7CmZ1bmN0aW9uIHZhbGlkYXRlUG9pbnRPcHRzKGN1cnZlKSB7CiAgY29uc3Qgb3B0cyA9ICgwLCBjdXJ2ZV8xLnZhbGlkYXRlQmFzaWMpKGN1cnZlKTsKICB1dC52YWxpZGF0ZU9iamVjdChvcHRzLCB7CiAgICBhOiAnZmllbGQnLAogICAgYjogJ2ZpZWxkJwogIH0sIHsKICAgIGFsbG93ZWRQcml2YXRlS2V5TGVuZ3RoczogJ2FycmF5JywKICAgIHdyYXBQcml2YXRlS2V5OiAnYm9vbGVhbicsCiAgICBpc1RvcnNpb25GcmVlOiAnZnVuY3Rpb24nLAogICAgY2xlYXJDb2ZhY3RvcjogJ2Z1bmN0aW9uJywKICAgIGFsbG93SW5maW5pdHlQb2ludDogJ2Jvb2xlYW4nLAogICAgZnJvbUJ5dGVzOiAnZnVuY3Rpb24nLAogICAgdG9CeXRlczogJ2Z1bmN0aW9uJwogIH0pOwogIGNvbnN0IHsKICAgIGVuZG8sCiAgICBGcCwKICAgIGEKICB9ID0gb3B0czsKICBpZiAoZW5kbykgewogICAgaWYgKCFGcC5lcWwoYSwgRnAuWkVSTykpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbmRvbW9ycGhpc20gY2FuIG9ubHkgYmUgZGVmaW5lZCBmb3IgS29ibGl0eiBjdXJ2ZXMgdGhhdCBoYXZlIGE9MCcpOwogICAgfQogICAgaWYgKHR5cGVvZiBlbmRvICE9PSAnb2JqZWN0JyB8fCB0eXBlb2YgZW5kby5iZXRhICE9PSAnYmlnaW50JyB8fCB0eXBlb2YgZW5kby5zcGxpdFNjYWxhciAhPT0gJ2Z1bmN0aW9uJykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGVuZG9tb3JwaGlzbSB3aXRoIGJldGE6IGJpZ2ludCBhbmQgc3BsaXRTY2FsYXI6IGZ1bmN0aW9uJyk7CiAgICB9CiAgfQogIHJldHVybiBPYmplY3QuZnJlZXplKHsKICAgIC4uLm9wdHMKICB9KTsKfQpjb25zdCB7CiAgYnl0ZXNUb051bWJlckJFOiBiMm4sCiAgaGV4VG9CeXRlczogaDJiCn0gPSB1dDsKZXhwb3J0cy5ERVIgPSB7CiAgRXJyOiBjbGFzcyBERVJFcnIgZXh0ZW5kcyBFcnJvciB7CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgbGV0IG0gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnOwogICAgICBzdXBlcihtKTsKICAgIH0KICB9LAogIF9wYXJzZUludChkYXRhKSB7CiAgICBjb25zdCB7CiAgICAgIEVycjogRQogICAgfSA9IGV4cG9ydHMuREVSOwogICAgaWYgKGRhdGEubGVuZ3RoIDwgMiB8fCBkYXRhWzBdICE9PSAweDAyKSB0aHJvdyBuZXcgRSgnSW52YWxpZCBzaWduYXR1cmUgaW50ZWdlciB0YWcnKTsKICAgIGNvbnN0IGxlbiA9IGRhdGFbMV07CiAgICBjb25zdCByZXMgPSBkYXRhLnN1YmFycmF5KDIsIGxlbiArIDIpOwogICAgaWYgKCFsZW4gfHwgcmVzLmxlbmd0aCAhPT0gbGVuKSB0aHJvdyBuZXcgRSgnSW52YWxpZCBzaWduYXR1cmUgaW50ZWdlcjogd3JvbmcgbGVuZ3RoJyk7CiAgICBpZiAocmVzWzBdICYgMGIxMDAwMDAwMCkgdGhyb3cgbmV3IEUoJ0ludmFsaWQgc2lnbmF0dXJlIGludGVnZXI6IG5lZ2F0aXZlJyk7CiAgICBpZiAocmVzWzBdID09PSAweDAwICYmICEocmVzWzFdICYgMGIxMDAwMDAwMCkpIHRocm93IG5ldyBFKCdJbnZhbGlkIHNpZ25hdHVyZSBpbnRlZ2VyOiB1bm5lY2Vzc2FyeSBsZWFkaW5nIHplcm8nKTsKICAgIHJldHVybiB7CiAgICAgIGQ6IGIybihyZXMpLAogICAgICBsOiBkYXRhLnN1YmFycmF5KGxlbiArIDIpCiAgICB9OwogIH0sCiAgdG9TaWcoaGV4KSB7CiAgICBjb25zdCB7CiAgICAgIEVycjogRQogICAgfSA9IGV4cG9ydHMuREVSOwogICAgY29uc3QgZGF0YSA9IHR5cGVvZiBoZXggPT09ICdzdHJpbmcnID8gaDJiKGhleCkgOiBoZXg7CiAgICBpZiAoIShkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSkpIHRocm93IG5ldyBFcnJvcigndWk4YSBleHBlY3RlZCcpOwogICAgbGV0IGwgPSBkYXRhLmxlbmd0aDsKICAgIGlmIChsIDwgMiB8fCBkYXRhWzBdICE9IDB4MzApIHRocm93IG5ldyBFKCdJbnZhbGlkIHNpZ25hdHVyZSB0YWcnKTsKICAgIGlmIChkYXRhWzFdICE9PSBsIC0gMikgdGhyb3cgbmV3IEUoJ0ludmFsaWQgc2lnbmF0dXJlOiBpbmNvcnJlY3QgbGVuZ3RoJyk7CiAgICBjb25zdCB7CiAgICAgIGQ6IHIsCiAgICAgIGw6IHNCeXRlcwogICAgfSA9IGV4cG9ydHMuREVSLl9wYXJzZUludChkYXRhLnN1YmFycmF5KDIpKTsKICAgIGNvbnN0IHsKICAgICAgZDogcywKICAgICAgbDogckJ5dGVzTGVmdAogICAgfSA9IGV4cG9ydHMuREVSLl9wYXJzZUludChzQnl0ZXMpOwogICAgaWYgKHJCeXRlc0xlZnQubGVuZ3RoKSB0aHJvdyBuZXcgRSgnSW52YWxpZCBzaWduYXR1cmU6IGxlZnQgYnl0ZXMgYWZ0ZXIgcGFyc2luZycpOwogICAgcmV0dXJuIHsKICAgICAgciwKICAgICAgcwogICAgfTsKICB9LAogIGhleEZyb21TaWcoc2lnKSB7CiAgICBjb25zdCBzbGljZSA9IHMgPT4gTnVtYmVyLnBhcnNlSW50KHNbMF0sIDE2KSAmIDBiMTAwMCA/ICcwMCcgKyBzIDogczsKICAgIGNvbnN0IGggPSBudW0gPT4gewogICAgICBjb25zdCBoZXggPSBudW0udG9TdHJpbmcoMTYpOwogICAgICByZXR1cm4gaGV4Lmxlbmd0aCAmIDEgPyBgMCR7aGV4fWAgOiBoZXg7CiAgICB9OwogICAgY29uc3QgcyA9IHNsaWNlKGgoc2lnLnMpKTsKICAgIGNvbnN0IHIgPSBzbGljZShoKHNpZy5yKSk7CiAgICBjb25zdCBzaGwgPSBzLmxlbmd0aCAvIDI7CiAgICBjb25zdCByaGwgPSByLmxlbmd0aCAvIDI7CiAgICBjb25zdCBzbCA9IGgoc2hsKTsKICAgIGNvbnN0IHJsID0gaChyaGwpOwogICAgcmV0dXJuIGAzMCR7aChyaGwgKyBzaGwgKyA0KX0wMiR7cmx9JHtyfTAyJHtzbH0ke3N9YDsKICB9Cn07CmNvbnN0IF8wbiA9IEJpZ0ludCgwKSwKICBfMW4gPSBCaWdJbnQoMSksCiAgXzJuID0gQmlnSW50KDIpLAogIF8zbiA9IEJpZ0ludCgzKSwKICBfNG4gPSBCaWdJbnQoNCk7CmZ1bmN0aW9uIHdlaWVyc3RyYXNzUG9pbnRzKG9wdHMpIHsKICBjb25zdCBDVVJWRSA9IHZhbGlkYXRlUG9pbnRPcHRzKG9wdHMpOwogIGNvbnN0IHsKICAgIEZwCiAgfSA9IENVUlZFOwogIGNvbnN0IHRvQnl0ZXMgPSBDVVJWRS50b0J5dGVzIHx8ICgoYywgcG9pbnQsIGlzQ29tcHJlc3NlZCkgPT4gewogICAgY29uc3QgYSA9IHBvaW50LnRvQWZmaW5lKCk7CiAgICByZXR1cm4gdXQuY29uY2F0Qnl0ZXMoVWludDhBcnJheS5mcm9tKFsweDA0XSksIEZwLnRvQnl0ZXMoYS54KSwgRnAudG9CeXRlcyhhLnkpKTsKICB9KTsKICBjb25zdCBmcm9tQnl0ZXMgPSBDVVJWRS5mcm9tQnl0ZXMgfHwgKGJ5dGVzID0+IHsKICAgIGNvbnN0IHRhaWwgPSBieXRlcy5zdWJhcnJheSgxKTsKICAgIGNvbnN0IHggPSBGcC5mcm9tQnl0ZXModGFpbC5zdWJhcnJheSgwLCBGcC5CWVRFUykpOwogICAgY29uc3QgeSA9IEZwLmZyb21CeXRlcyh0YWlsLnN1YmFycmF5KEZwLkJZVEVTLCAyICogRnAuQllURVMpKTsKICAgIHJldHVybiB7CiAgICAgIHgsCiAgICAgIHkKICAgIH07CiAgfSk7CiAgZnVuY3Rpb24gd2VpZXJzdHJhc3NFcXVhdGlvbih4KSB7CiAgICBjb25zdCB7CiAgICAgIGEsCiAgICAgIGIKICAgIH0gPSBDVVJWRTsKICAgIGNvbnN0IHgyID0gRnAuc3FyKHgpOwogICAgY29uc3QgeDMgPSBGcC5tdWwoeDIsIHgpOwogICAgcmV0dXJuIEZwLmFkZChGcC5hZGQoeDMsIEZwLm11bCh4LCBhKSksIGIpOwogIH0KICBpZiAoIUZwLmVxbChGcC5zcXIoQ1VSVkUuR3kpLCB3ZWllcnN0cmFzc0VxdWF0aW9uKENVUlZFLkd4KSkpIHRocm93IG5ldyBFcnJvcignYmFkIGdlbmVyYXRvciBwb2ludDogZXF1YXRpb24gbGVmdCAhPSByaWdodCcpOwogIGZ1bmN0aW9uIGlzV2l0aGluQ3VydmVPcmRlcihudW0pIHsKICAgIHJldHVybiB0eXBlb2YgbnVtID09PSAnYmlnaW50JyAmJiBfMG4gPCBudW0gJiYgbnVtIDwgQ1VSVkUubjsKICB9CiAgZnVuY3Rpb24gYXNzZXJ0R0UobnVtKSB7CiAgICBpZiAoIWlzV2l0aGluQ3VydmVPcmRlcihudW0pKSB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHZhbGlkIGJpZ2ludDogMCA8IGJpZ2ludCA8IGN1cnZlLm4nKTsKICB9CiAgZnVuY3Rpb24gbm9ybVByaXZhdGVLZXlUb1NjYWxhcihrZXkpIHsKICAgIGNvbnN0IHsKICAgICAgYWxsb3dlZFByaXZhdGVLZXlMZW5ndGhzOiBsZW5ndGhzLAogICAgICBuQnl0ZUxlbmd0aCwKICAgICAgd3JhcFByaXZhdGVLZXksCiAgICAgIG4KICAgIH0gPSBDVVJWRTsKICAgIGlmIChsZW5ndGhzICYmIHR5cGVvZiBrZXkgIT09ICdiaWdpbnQnKSB7CiAgICAgIGlmIChrZXkgaW5zdGFuY2VvZiBVaW50OEFycmF5KSBrZXkgPSB1dC5ieXRlc1RvSGV4KGtleSk7CiAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJyB8fCAhbGVuZ3Rocy5pbmNsdWRlcyhrZXkubGVuZ3RoKSkgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGtleScpOwogICAgICBrZXkgPSBrZXkucGFkU3RhcnQobkJ5dGVMZW5ndGggKiAyLCAnMCcpOwogICAgfQogICAgbGV0IG51bTsKICAgIHRyeSB7CiAgICAgIG51bSA9IHR5cGVvZiBrZXkgPT09ICdiaWdpbnQnID8ga2V5IDogdXQuYnl0ZXNUb051bWJlckJFKCgwLCB1dGlsc18xLmVuc3VyZUJ5dGVzKSgncHJpdmF0ZSBrZXknLCBrZXksIG5CeXRlTGVuZ3RoKSk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoYHByaXZhdGUga2V5IG11c3QgYmUgJHtuQnl0ZUxlbmd0aH0gYnl0ZXMsIGhleCBvciBiaWdpbnQsIG5vdCAke3R5cGVvZiBrZXl9YCk7CiAgICB9CiAgICBpZiAod3JhcFByaXZhdGVLZXkpIG51bSA9IG1vZC5tb2QobnVtLCBuKTsKICAgIGFzc2VydEdFKG51bSk7CiAgICByZXR1cm4gbnVtOwogIH0KICBjb25zdCBwb2ludFByZWNvbXB1dGVzID0gbmV3IE1hcCgpOwogIGZ1bmN0aW9uIGFzc2VydFByalBvaW50KG90aGVyKSB7CiAgICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIFBvaW50KSkgdGhyb3cgbmV3IEVycm9yKCdQcm9qZWN0aXZlUG9pbnQgZXhwZWN0ZWQnKTsKICB9CiAgY2xhc3MgUG9pbnQgewogICAgY29uc3RydWN0b3IocHgsIHB5LCBweikgewogICAgICB0aGlzLnB4ID0gcHg7CiAgICAgIHRoaXMucHkgPSBweTsKICAgICAgdGhpcy5weiA9IHB6OwogICAgICBpZiAocHggPT0gbnVsbCB8fCAhRnAuaXNWYWxpZChweCkpIHRocm93IG5ldyBFcnJvcigneCByZXF1aXJlZCcpOwogICAgICBpZiAocHkgPT0gbnVsbCB8fCAhRnAuaXNWYWxpZChweSkpIHRocm93IG5ldyBFcnJvcigneSByZXF1aXJlZCcpOwogICAgICBpZiAocHogPT0gbnVsbCB8fCAhRnAuaXNWYWxpZChweikpIHRocm93IG5ldyBFcnJvcigneiByZXF1aXJlZCcpOwogICAgfQogICAgc3RhdGljIGZyb21BZmZpbmUocCkgewogICAgICBjb25zdCB7CiAgICAgICAgeCwKICAgICAgICB5CiAgICAgIH0gPSBwIHx8IHt9OwogICAgICBpZiAoIXAgfHwgIUZwLmlzVmFsaWQoeCkgfHwgIUZwLmlzVmFsaWQoeSkpIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBhZmZpbmUgcG9pbnQnKTsKICAgICAgaWYgKHAgaW5zdGFuY2VvZiBQb2ludCkgdGhyb3cgbmV3IEVycm9yKCdwcm9qZWN0aXZlIHBvaW50IG5vdCBhbGxvd2VkJyk7CiAgICAgIGNvbnN0IGlzMCA9IGkgPT4gRnAuZXFsKGksIEZwLlpFUk8pOwogICAgICBpZiAoaXMwKHgpICYmIGlzMCh5KSkgcmV0dXJuIFBvaW50LlpFUk87CiAgICAgIHJldHVybiBuZXcgUG9pbnQoeCwgeSwgRnAuT05FKTsKICAgIH0KICAgIGdldCB4KCkgewogICAgICByZXR1cm4gdGhpcy50b0FmZmluZSgpLng7CiAgICB9CiAgICBnZXQgeSgpIHsKICAgICAgcmV0dXJuIHRoaXMudG9BZmZpbmUoKS55OwogICAgfQogICAgc3RhdGljIG5vcm1hbGl6ZVoocG9pbnRzKSB7CiAgICAgIGNvbnN0IHRvSW52ID0gRnAuaW52ZXJ0QmF0Y2gocG9pbnRzLm1hcChwID0+IHAucHopKTsKICAgICAgcmV0dXJuIHBvaW50cy5tYXAoKHAsIGkpID0+IHAudG9BZmZpbmUodG9JbnZbaV0pKS5tYXAoUG9pbnQuZnJvbUFmZmluZSk7CiAgICB9CiAgICBzdGF0aWMgZnJvbUhleChoZXgpIHsKICAgICAgY29uc3QgUCA9IFBvaW50LmZyb21BZmZpbmUoZnJvbUJ5dGVzKCgwLCB1dGlsc18xLmVuc3VyZUJ5dGVzKSgncG9pbnRIZXgnLCBoZXgpKSk7CiAgICAgIFAuYXNzZXJ0VmFsaWRpdHkoKTsKICAgICAgcmV0dXJuIFA7CiAgICB9CiAgICBzdGF0aWMgZnJvbVByaXZhdGVLZXkocHJpdmF0ZUtleSkgewogICAgICByZXR1cm4gUG9pbnQuQkFTRS5tdWx0aXBseShub3JtUHJpdmF0ZUtleVRvU2NhbGFyKHByaXZhdGVLZXkpKTsKICAgIH0KICAgIF9zZXRXaW5kb3dTaXplKHdpbmRvd1NpemUpIHsKICAgICAgdGhpcy5fV0lORE9XX1NJWkUgPSB3aW5kb3dTaXplOwogICAgICBwb2ludFByZWNvbXB1dGVzLmRlbGV0ZSh0aGlzKTsKICAgIH0KICAgIGFzc2VydFZhbGlkaXR5KCkgewogICAgICBpZiAodGhpcy5pczAoKSkgewogICAgICAgIGlmIChDVVJWRS5hbGxvd0luZmluaXR5UG9pbnQpIHJldHVybjsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBwb2ludDogWkVSTycpOwogICAgICB9CiAgICAgIGNvbnN0IHsKICAgICAgICB4LAogICAgICAgIHkKICAgICAgfSA9IHRoaXMudG9BZmZpbmUoKTsKICAgICAgaWYgKCFGcC5pc1ZhbGlkKHgpIHx8ICFGcC5pc1ZhbGlkKHkpKSB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBwb2ludDogeCBvciB5IG5vdCBGRScpOwogICAgICBjb25zdCBsZWZ0ID0gRnAuc3FyKHkpOwogICAgICBjb25zdCByaWdodCA9IHdlaWVyc3RyYXNzRXF1YXRpb24oeCk7CiAgICAgIGlmICghRnAuZXFsKGxlZnQsIHJpZ2h0KSkgdGhyb3cgbmV3IEVycm9yKCdiYWQgcG9pbnQ6IGVxdWF0aW9uIGxlZnQgIT0gcmlnaHQnKTsKICAgICAgaWYgKCF0aGlzLmlzVG9yc2lvbkZyZWUoKSkgdGhyb3cgbmV3IEVycm9yKCdiYWQgcG9pbnQ6IG5vdCBpbiBwcmltZS1vcmRlciBzdWJncm91cCcpOwogICAgfQogICAgaGFzRXZlblkoKSB7CiAgICAgIGNvbnN0IHsKICAgICAgICB5CiAgICAgIH0gPSB0aGlzLnRvQWZmaW5lKCk7CiAgICAgIGlmIChGcC5pc09kZCkgcmV0dXJuICFGcC5pc09kZCh5KTsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJGaWVsZCBkb2Vzbid0IHN1cHBvcnQgaXNPZGQiKTsKICAgIH0KICAgIGVxdWFscyhvdGhlcikgewogICAgICBhc3NlcnRQcmpQb2ludChvdGhlcik7CiAgICAgIGNvbnN0IHsKICAgICAgICBweDogWDEsCiAgICAgICAgcHk6IFkxLAogICAgICAgIHB6OiBaMQogICAgICB9ID0gdGhpczsKICAgICAgY29uc3QgewogICAgICAgIHB4OiBYMiwKICAgICAgICBweTogWTIsCiAgICAgICAgcHo6IFoyCiAgICAgIH0gPSBvdGhlcjsKICAgICAgY29uc3QgVTEgPSBGcC5lcWwoRnAubXVsKFgxLCBaMiksIEZwLm11bChYMiwgWjEpKTsKICAgICAgY29uc3QgVTIgPSBGcC5lcWwoRnAubXVsKFkxLCBaMiksIEZwLm11bChZMiwgWjEpKTsKICAgICAgcmV0dXJuIFUxICYmIFUyOwogICAgfQogICAgbmVnYXRlKCkgewogICAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMucHgsIEZwLm5lZyh0aGlzLnB5KSwgdGhpcy5weik7CiAgICB9CiAgICBkb3VibGUoKSB7CiAgICAgIGNvbnN0IHsKICAgICAgICBhLAogICAgICAgIGIKICAgICAgfSA9IENVUlZFOwogICAgICBjb25zdCBiMyA9IEZwLm11bChiLCBfM24pOwogICAgICBjb25zdCB7CiAgICAgICAgcHg6IFgxLAogICAgICAgIHB5OiBZMSwKICAgICAgICBwejogWjEKICAgICAgfSA9IHRoaXM7CiAgICAgIGxldCBYMyA9IEZwLlpFUk8sCiAgICAgICAgWTMgPSBGcC5aRVJPLAogICAgICAgIFozID0gRnAuWkVSTzsKICAgICAgbGV0IHQwID0gRnAubXVsKFgxLCBYMSk7CiAgICAgIGxldCB0MSA9IEZwLm11bChZMSwgWTEpOwogICAgICBsZXQgdDIgPSBGcC5tdWwoWjEsIFoxKTsKICAgICAgbGV0IHQzID0gRnAubXVsKFgxLCBZMSk7CiAgICAgIHQzID0gRnAuYWRkKHQzLCB0Myk7CiAgICAgIFozID0gRnAubXVsKFgxLCBaMSk7CiAgICAgIFozID0gRnAuYWRkKFozLCBaMyk7CiAgICAgIFgzID0gRnAubXVsKGEsIFozKTsKICAgICAgWTMgPSBGcC5tdWwoYjMsIHQyKTsKICAgICAgWTMgPSBGcC5hZGQoWDMsIFkzKTsKICAgICAgWDMgPSBGcC5zdWIodDEsIFkzKTsKICAgICAgWTMgPSBGcC5hZGQodDEsIFkzKTsKICAgICAgWTMgPSBGcC5tdWwoWDMsIFkzKTsKICAgICAgWDMgPSBGcC5tdWwodDMsIFgzKTsKICAgICAgWjMgPSBGcC5tdWwoYjMsIFozKTsKICAgICAgdDIgPSBGcC5tdWwoYSwgdDIpOwogICAgICB0MyA9IEZwLnN1Yih0MCwgdDIpOwogICAgICB0MyA9IEZwLm11bChhLCB0Myk7CiAgICAgIHQzID0gRnAuYWRkKHQzLCBaMyk7CiAgICAgIFozID0gRnAuYWRkKHQwLCB0MCk7CiAgICAgIHQwID0gRnAuYWRkKFozLCB0MCk7CiAgICAgIHQwID0gRnAuYWRkKHQwLCB0Mik7CiAgICAgIHQwID0gRnAubXVsKHQwLCB0Myk7CiAgICAgIFkzID0gRnAuYWRkKFkzLCB0MCk7CiAgICAgIHQyID0gRnAubXVsKFkxLCBaMSk7CiAgICAgIHQyID0gRnAuYWRkKHQyLCB0Mik7CiAgICAgIHQwID0gRnAubXVsKHQyLCB0Myk7CiAgICAgIFgzID0gRnAuc3ViKFgzLCB0MCk7CiAgICAgIFozID0gRnAubXVsKHQyLCB0MSk7CiAgICAgIFozID0gRnAuYWRkKFozLCBaMyk7CiAgICAgIFozID0gRnAuYWRkKFozLCBaMyk7CiAgICAgIHJldHVybiBuZXcgUG9pbnQoWDMsIFkzLCBaMyk7CiAgICB9CiAgICBhZGQob3RoZXIpIHsKICAgICAgYXNzZXJ0UHJqUG9pbnQob3RoZXIpOwogICAgICBjb25zdCB7CiAgICAgICAgcHg6IFgxLAogICAgICAgIHB5OiBZMSwKICAgICAgICBwejogWjEKICAgICAgfSA9IHRoaXM7CiAgICAgIGNvbnN0IHsKICAgICAgICBweDogWDIsCiAgICAgICAgcHk6IFkyLAogICAgICAgIHB6OiBaMgogICAgICB9ID0gb3RoZXI7CiAgICAgIGxldCBYMyA9IEZwLlpFUk8sCiAgICAgICAgWTMgPSBGcC5aRVJPLAogICAgICAgIFozID0gRnAuWkVSTzsKICAgICAgY29uc3QgYSA9IENVUlZFLmE7CiAgICAgIGNvbnN0IGIzID0gRnAubXVsKENVUlZFLmIsIF8zbik7CiAgICAgIGxldCB0MCA9IEZwLm11bChYMSwgWDIpOwogICAgICBsZXQgdDEgPSBGcC5tdWwoWTEsIFkyKTsKICAgICAgbGV0IHQyID0gRnAubXVsKFoxLCBaMik7CiAgICAgIGxldCB0MyA9IEZwLmFkZChYMSwgWTEpOwogICAgICBsZXQgdDQgPSBGcC5hZGQoWDIsIFkyKTsKICAgICAgdDMgPSBGcC5tdWwodDMsIHQ0KTsKICAgICAgdDQgPSBGcC5hZGQodDAsIHQxKTsKICAgICAgdDMgPSBGcC5zdWIodDMsIHQ0KTsKICAgICAgdDQgPSBGcC5hZGQoWDEsIFoxKTsKICAgICAgbGV0IHQ1ID0gRnAuYWRkKFgyLCBaMik7CiAgICAgIHQ0ID0gRnAubXVsKHQ0LCB0NSk7CiAgICAgIHQ1ID0gRnAuYWRkKHQwLCB0Mik7CiAgICAgIHQ0ID0gRnAuc3ViKHQ0LCB0NSk7CiAgICAgIHQ1ID0gRnAuYWRkKFkxLCBaMSk7CiAgICAgIFgzID0gRnAuYWRkKFkyLCBaMik7CiAgICAgIHQ1ID0gRnAubXVsKHQ1LCBYMyk7CiAgICAgIFgzID0gRnAuYWRkKHQxLCB0Mik7CiAgICAgIHQ1ID0gRnAuc3ViKHQ1LCBYMyk7CiAgICAgIFozID0gRnAubXVsKGEsIHQ0KTsKICAgICAgWDMgPSBGcC5tdWwoYjMsIHQyKTsKICAgICAgWjMgPSBGcC5hZGQoWDMsIFozKTsKICAgICAgWDMgPSBGcC5zdWIodDEsIFozKTsKICAgICAgWjMgPSBGcC5hZGQodDEsIFozKTsKICAgICAgWTMgPSBGcC5tdWwoWDMsIFozKTsKICAgICAgdDEgPSBGcC5hZGQodDAsIHQwKTsKICAgICAgdDEgPSBGcC5hZGQodDEsIHQwKTsKICAgICAgdDIgPSBGcC5tdWwoYSwgdDIpOwogICAgICB0NCA9IEZwLm11bChiMywgdDQpOwogICAgICB0MSA9IEZwLmFkZCh0MSwgdDIpOwogICAgICB0MiA9IEZwLnN1Yih0MCwgdDIpOwogICAgICB0MiA9IEZwLm11bChhLCB0Mik7CiAgICAgIHQ0ID0gRnAuYWRkKHQ0LCB0Mik7CiAgICAgIHQwID0gRnAubXVsKHQxLCB0NCk7CiAgICAgIFkzID0gRnAuYWRkKFkzLCB0MCk7CiAgICAgIHQwID0gRnAubXVsKHQ1LCB0NCk7CiAgICAgIFgzID0gRnAubXVsKHQzLCBYMyk7CiAgICAgIFgzID0gRnAuc3ViKFgzLCB0MCk7CiAgICAgIHQwID0gRnAubXVsKHQzLCB0MSk7CiAgICAgIFozID0gRnAubXVsKHQ1LCBaMyk7CiAgICAgIFozID0gRnAuYWRkKFozLCB0MCk7CiAgICAgIHJldHVybiBuZXcgUG9pbnQoWDMsIFkzLCBaMyk7CiAgICB9CiAgICBzdWJ0cmFjdChvdGhlcikgewogICAgICByZXR1cm4gdGhpcy5hZGQob3RoZXIubmVnYXRlKCkpOwogICAgfQogICAgaXMwKCkgewogICAgICByZXR1cm4gdGhpcy5lcXVhbHMoUG9pbnQuWkVSTyk7CiAgICB9CiAgICB3TkFGKG4pIHsKICAgICAgcmV0dXJuIHduYWYud05BRkNhY2hlZCh0aGlzLCBwb2ludFByZWNvbXB1dGVzLCBuLCBjb21wID0+IHsKICAgICAgICBjb25zdCB0b0ludiA9IEZwLmludmVydEJhdGNoKGNvbXAubWFwKHAgPT4gcC5weikpOwogICAgICAgIHJldHVybiBjb21wLm1hcCgocCwgaSkgPT4gcC50b0FmZmluZSh0b0ludltpXSkpLm1hcChQb2ludC5mcm9tQWZmaW5lKTsKICAgICAgfSk7CiAgICB9CiAgICBtdWx0aXBseVVuc2FmZShuKSB7CiAgICAgIGNvbnN0IEkgPSBQb2ludC5aRVJPOwogICAgICBpZiAobiA9PT0gXzBuKSByZXR1cm4gSTsKICAgICAgYXNzZXJ0R0Uobik7CiAgICAgIGlmIChuID09PSBfMW4pIHJldHVybiB0aGlzOwogICAgICBjb25zdCB7CiAgICAgICAgZW5kbwogICAgICB9ID0gQ1VSVkU7CiAgICAgIGlmICghZW5kbykgcmV0dXJuIHduYWYudW5zYWZlTGFkZGVyKHRoaXMsIG4pOwogICAgICBsZXQgewogICAgICAgIGsxbmVnLAogICAgICAgIGsxLAogICAgICAgIGsybmVnLAogICAgICAgIGsyCiAgICAgIH0gPSBlbmRvLnNwbGl0U2NhbGFyKG4pOwogICAgICBsZXQgazFwID0gSTsKICAgICAgbGV0IGsycCA9IEk7CiAgICAgIGxldCBkID0gdGhpczsKICAgICAgd2hpbGUgKGsxID4gXzBuIHx8IGsyID4gXzBuKSB7CiAgICAgICAgaWYgKGsxICYgXzFuKSBrMXAgPSBrMXAuYWRkKGQpOwogICAgICAgIGlmIChrMiAmIF8xbikgazJwID0gazJwLmFkZChkKTsKICAgICAgICBkID0gZC5kb3VibGUoKTsKICAgICAgICBrMSA+Pj0gXzFuOwogICAgICAgIGsyID4+PSBfMW47CiAgICAgIH0KICAgICAgaWYgKGsxbmVnKSBrMXAgPSBrMXAubmVnYXRlKCk7CiAgICAgIGlmIChrMm5lZykgazJwID0gazJwLm5lZ2F0ZSgpOwogICAgICBrMnAgPSBuZXcgUG9pbnQoRnAubXVsKGsycC5weCwgZW5kby5iZXRhKSwgazJwLnB5LCBrMnAucHopOwogICAgICByZXR1cm4gazFwLmFkZChrMnApOwogICAgfQogICAgbXVsdGlwbHkoc2NhbGFyKSB7CiAgICAgIGFzc2VydEdFKHNjYWxhcik7CiAgICAgIGxldCBuID0gc2NhbGFyOwogICAgICBsZXQgcG9pbnQsIGZha2U7CiAgICAgIGNvbnN0IHsKICAgICAgICBlbmRvCiAgICAgIH0gPSBDVVJWRTsKICAgICAgaWYgKGVuZG8pIHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICBrMW5lZywKICAgICAgICAgIGsxLAogICAgICAgICAgazJuZWcsCiAgICAgICAgICBrMgogICAgICAgIH0gPSBlbmRvLnNwbGl0U2NhbGFyKG4pOwogICAgICAgIGxldCB7CiAgICAgICAgICBwOiBrMXAsCiAgICAgICAgICBmOiBmMXAKICAgICAgICB9ID0gdGhpcy53TkFGKGsxKTsKICAgICAgICBsZXQgewogICAgICAgICAgcDogazJwLAogICAgICAgICAgZjogZjJwCiAgICAgICAgfSA9IHRoaXMud05BRihrMik7CiAgICAgICAgazFwID0gd25hZi5jb25zdFRpbWVOZWdhdGUoazFuZWcsIGsxcCk7CiAgICAgICAgazJwID0gd25hZi5jb25zdFRpbWVOZWdhdGUoazJuZWcsIGsycCk7CiAgICAgICAgazJwID0gbmV3IFBvaW50KEZwLm11bChrMnAucHgsIGVuZG8uYmV0YSksIGsycC5weSwgazJwLnB6KTsKICAgICAgICBwb2ludCA9IGsxcC5hZGQoazJwKTsKICAgICAgICBmYWtlID0gZjFwLmFkZChmMnApOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IHsKICAgICAgICAgIHAsCiAgICAgICAgICBmCiAgICAgICAgfSA9IHRoaXMud05BRihuKTsKICAgICAgICBwb2ludCA9IHA7CiAgICAgICAgZmFrZSA9IGY7CiAgICAgIH0KICAgICAgcmV0dXJuIFBvaW50Lm5vcm1hbGl6ZVooW3BvaW50LCBmYWtlXSlbMF07CiAgICB9CiAgICBtdWx0aXBseUFuZEFkZFVuc2FmZShRLCBhLCBiKSB7CiAgICAgIGNvbnN0IEcgPSBQb2ludC5CQVNFOwogICAgICBjb25zdCBtdWwgPSAoUCwgYSkgPT4gYSA9PT0gXzBuIHx8IGEgPT09IF8xbiB8fCAhUC5lcXVhbHMoRykgPyBQLm11bHRpcGx5VW5zYWZlKGEpIDogUC5tdWx0aXBseShhKTsKICAgICAgY29uc3Qgc3VtID0gbXVsKHRoaXMsIGEpLmFkZChtdWwoUSwgYikpOwogICAgICByZXR1cm4gc3VtLmlzMCgpID8gdW5kZWZpbmVkIDogc3VtOwogICAgfQogICAgdG9BZmZpbmUoaXopIHsKICAgICAgY29uc3QgewogICAgICAgIHB4OiB4LAogICAgICAgIHB5OiB5LAogICAgICAgIHB6OiB6CiAgICAgIH0gPSB0aGlzOwogICAgICBjb25zdCBpczAgPSB0aGlzLmlzMCgpOwogICAgICBpZiAoaXogPT0gbnVsbCkgaXogPSBpczAgPyBGcC5PTkUgOiBGcC5pbnYoeik7CiAgICAgIGNvbnN0IGF4ID0gRnAubXVsKHgsIGl6KTsKICAgICAgY29uc3QgYXkgPSBGcC5tdWwoeSwgaXopOwogICAgICBjb25zdCB6eiA9IEZwLm11bCh6LCBpeik7CiAgICAgIGlmIChpczApIHJldHVybiB7CiAgICAgICAgeDogRnAuWkVSTywKICAgICAgICB5OiBGcC5aRVJPCiAgICAgIH07CiAgICAgIGlmICghRnAuZXFsKHp6LCBGcC5PTkUpKSB0aHJvdyBuZXcgRXJyb3IoJ2ludlogd2FzIGludmFsaWQnKTsKICAgICAgcmV0dXJuIHsKICAgICAgICB4OiBheCwKICAgICAgICB5OiBheQogICAgICB9OwogICAgfQogICAgaXNUb3JzaW9uRnJlZSgpIHsKICAgICAgY29uc3QgewogICAgICAgIGg6IGNvZmFjdG9yLAogICAgICAgIGlzVG9yc2lvbkZyZWUKICAgICAgfSA9IENVUlZFOwogICAgICBpZiAoY29mYWN0b3IgPT09IF8xbikgcmV0dXJuIHRydWU7CiAgICAgIGlmIChpc1RvcnNpb25GcmVlKSByZXR1cm4gaXNUb3JzaW9uRnJlZShQb2ludCwgdGhpcyk7CiAgICAgIHRocm93IG5ldyBFcnJvcignaXNUb3JzaW9uRnJlZSgpIGhhcyBub3QgYmVlbiBkZWNsYXJlZCBmb3IgdGhlIGVsbGlwdGljIGN1cnZlJyk7CiAgICB9CiAgICBjbGVhckNvZmFjdG9yKCkgewogICAgICBjb25zdCB7CiAgICAgICAgaDogY29mYWN0b3IsCiAgICAgICAgY2xlYXJDb2ZhY3RvcgogICAgICB9ID0gQ1VSVkU7CiAgICAgIGlmIChjb2ZhY3RvciA9PT0gXzFuKSByZXR1cm4gdGhpczsKICAgICAgaWYgKGNsZWFyQ29mYWN0b3IpIHJldHVybiBjbGVhckNvZmFjdG9yKFBvaW50LCB0aGlzKTsKICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHlVbnNhZmUoQ1VSVkUuaCk7CiAgICB9CiAgICB0b1Jhd0J5dGVzKCkgewogICAgICBsZXQgaXNDb21wcmVzc2VkID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0cnVlOwogICAgICB0aGlzLmFzc2VydFZhbGlkaXR5KCk7CiAgICAgIHJldHVybiB0b0J5dGVzKFBvaW50LCB0aGlzLCBpc0NvbXByZXNzZWQpOwogICAgfQogICAgdG9IZXgoKSB7CiAgICAgIGxldCBpc0NvbXByZXNzZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRydWU7CiAgICAgIHJldHVybiB1dC5ieXRlc1RvSGV4KHRoaXMudG9SYXdCeXRlcyhpc0NvbXByZXNzZWQpKTsKICAgIH0KICB9CiAgUG9pbnQuQkFTRSA9IG5ldyBQb2ludChDVVJWRS5HeCwgQ1VSVkUuR3ksIEZwLk9ORSk7CiAgUG9pbnQuWkVSTyA9IG5ldyBQb2ludChGcC5aRVJPLCBGcC5PTkUsIEZwLlpFUk8pOwogIGNvbnN0IF9iaXRzID0gQ1VSVkUubkJpdExlbmd0aDsKICBjb25zdCB3bmFmID0gKDAsIGN1cnZlXzEud05BRikoUG9pbnQsIENVUlZFLmVuZG8gPyBNYXRoLmNlaWwoX2JpdHMgLyAyKSA6IF9iaXRzKTsKICByZXR1cm4gewogICAgQ1VSVkUsCiAgICBQcm9qZWN0aXZlUG9pbnQ6IFBvaW50LAogICAgbm9ybVByaXZhdGVLZXlUb1NjYWxhciwKICAgIHdlaWVyc3RyYXNzRXF1YXRpb24sCiAgICBpc1dpdGhpbkN1cnZlT3JkZXIKICB9Owp9CmV4cG9ydHMud2VpZXJzdHJhc3NQb2ludHMgPSB3ZWllcnN0cmFzc1BvaW50czsKZnVuY3Rpb24gdmFsaWRhdGVPcHRzKGN1cnZlKSB7CiAgY29uc3Qgb3B0cyA9ICgwLCBjdXJ2ZV8xLnZhbGlkYXRlQmFzaWMpKGN1cnZlKTsKICB1dC52YWxpZGF0ZU9iamVjdChvcHRzLCB7CiAgICBoYXNoOiAnaGFzaCcsCiAgICBobWFjOiAnZnVuY3Rpb24nLAogICAgcmFuZG9tQnl0ZXM6ICdmdW5jdGlvbicKICB9LCB7CiAgICBiaXRzMmludDogJ2Z1bmN0aW9uJywKICAgIGJpdHMyaW50X21vZE46ICdmdW5jdGlvbicsCiAgICBsb3dTOiAnYm9vbGVhbicKICB9KTsKICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7CiAgICBsb3dTOiB0cnVlLAogICAgLi4ub3B0cwogIH0pOwp9CmZ1bmN0aW9uIHdlaWVyc3RyYXNzKGN1cnZlRGVmKSB7CiAgY29uc3QgQ1VSVkUgPSB2YWxpZGF0ZU9wdHMoY3VydmVEZWYpOwogIGNvbnN0IHsKICAgIEZwLAogICAgbjogQ1VSVkVfT1JERVIKICB9ID0gQ1VSVkU7CiAgY29uc3QgY29tcHJlc3NlZExlbiA9IEZwLkJZVEVTICsgMTsKICBjb25zdCB1bmNvbXByZXNzZWRMZW4gPSAyICogRnAuQllURVMgKyAxOwogIGZ1bmN0aW9uIGlzVmFsaWRGaWVsZEVsZW1lbnQobnVtKSB7CiAgICByZXR1cm4gXzBuIDwgbnVtICYmIG51bSA8IEZwLk9SREVSOwogIH0KICBmdW5jdGlvbiBtb2ROKGEpIHsKICAgIHJldHVybiBtb2QubW9kKGEsIENVUlZFX09SREVSKTsKICB9CiAgZnVuY3Rpb24gaW52TihhKSB7CiAgICByZXR1cm4gbW9kLmludmVydChhLCBDVVJWRV9PUkRFUik7CiAgfQogIGNvbnN0IHsKICAgIFByb2plY3RpdmVQb2ludDogUG9pbnQsCiAgICBub3JtUHJpdmF0ZUtleVRvU2NhbGFyLAogICAgd2VpZXJzdHJhc3NFcXVhdGlvbiwKICAgIGlzV2l0aGluQ3VydmVPcmRlcgogIH0gPSB3ZWllcnN0cmFzc1BvaW50cyh7CiAgICAuLi5DVVJWRSwKICAgIHRvQnl0ZXMoYywgcG9pbnQsIGlzQ29tcHJlc3NlZCkgewogICAgICBjb25zdCBhID0gcG9pbnQudG9BZmZpbmUoKTsKICAgICAgY29uc3QgeCA9IEZwLnRvQnl0ZXMoYS54KTsKICAgICAgY29uc3QgY2F0ID0gdXQuY29uY2F0Qnl0ZXM7CiAgICAgIGlmIChpc0NvbXByZXNzZWQpIHsKICAgICAgICByZXR1cm4gY2F0KFVpbnQ4QXJyYXkuZnJvbShbcG9pbnQuaGFzRXZlblkoKSA/IDB4MDIgOiAweDAzXSksIHgpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBjYXQoVWludDhBcnJheS5mcm9tKFsweDA0XSksIHgsIEZwLnRvQnl0ZXMoYS55KSk7CiAgICAgIH0KICAgIH0sCiAgICBmcm9tQnl0ZXMoYnl0ZXMpIHsKICAgICAgY29uc3QgbGVuID0gYnl0ZXMubGVuZ3RoOwogICAgICBjb25zdCBoZWFkID0gYnl0ZXNbMF07CiAgICAgIGNvbnN0IHRhaWwgPSBieXRlcy5zdWJhcnJheSgxKTsKICAgICAgaWYgKGxlbiA9PT0gY29tcHJlc3NlZExlbiAmJiAoaGVhZCA9PT0gMHgwMiB8fCBoZWFkID09PSAweDAzKSkgewogICAgICAgIGNvbnN0IHggPSB1dC5ieXRlc1RvTnVtYmVyQkUodGFpbCk7CiAgICAgICAgaWYgKCFpc1ZhbGlkRmllbGRFbGVtZW50KHgpKSB0aHJvdyBuZXcgRXJyb3IoJ1BvaW50IGlzIG5vdCBvbiBjdXJ2ZScpOwogICAgICAgIGNvbnN0IHkyID0gd2VpZXJzdHJhc3NFcXVhdGlvbih4KTsKICAgICAgICBsZXQgeSA9IEZwLnNxcnQoeTIpOwogICAgICAgIGNvbnN0IGlzWU9kZCA9ICh5ICYgXzFuKSA9PT0gXzFuOwogICAgICAgIGNvbnN0IGlzSGVhZE9kZCA9IChoZWFkICYgMSkgPT09IDE7CiAgICAgICAgaWYgKGlzSGVhZE9kZCAhPT0gaXNZT2RkKSB5ID0gRnAubmVnKHkpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICB4LAogICAgICAgICAgeQogICAgICAgIH07CiAgICAgIH0gZWxzZSBpZiAobGVuID09PSB1bmNvbXByZXNzZWRMZW4gJiYgaGVhZCA9PT0gMHgwNCkgewogICAgICAgIGNvbnN0IHggPSBGcC5mcm9tQnl0ZXModGFpbC5zdWJhcnJheSgwLCBGcC5CWVRFUykpOwogICAgICAgIGNvbnN0IHkgPSBGcC5mcm9tQnl0ZXModGFpbC5zdWJhcnJheShGcC5CWVRFUywgMiAqIEZwLkJZVEVTKSk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHgsCiAgICAgICAgICB5CiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFBvaW50IG9mIGxlbmd0aCAke2xlbn0gd2FzIGludmFsaWQuIEV4cGVjdGVkICR7Y29tcHJlc3NlZExlbn0gY29tcHJlc3NlZCBieXRlcyBvciAke3VuY29tcHJlc3NlZExlbn0gdW5jb21wcmVzc2VkIGJ5dGVzYCk7CiAgICAgIH0KICAgIH0KICB9KTsKICBjb25zdCBudW1Ub05CeXRlU3RyID0gbnVtID0+IHV0LmJ5dGVzVG9IZXgodXQubnVtYmVyVG9CeXRlc0JFKG51bSwgQ1VSVkUubkJ5dGVMZW5ndGgpKTsKICBmdW5jdGlvbiBpc0JpZ2dlclRoYW5IYWxmT3JkZXIobnVtYmVyKSB7CiAgICBjb25zdCBIQUxGID0gQ1VSVkVfT1JERVIgPj4gXzFuOwogICAgcmV0dXJuIG51bWJlciA+IEhBTEY7CiAgfQogIGZ1bmN0aW9uIG5vcm1hbGl6ZVMocykgewogICAgcmV0dXJuIGlzQmlnZ2VyVGhhbkhhbGZPcmRlcihzKSA/IG1vZE4oLXMpIDogczsKICB9CiAgY29uc3Qgc2xjTnVtID0gKGIsIGZyb20sIHRvKSA9PiB1dC5ieXRlc1RvTnVtYmVyQkUoYi5zbGljZShmcm9tLCB0bykpOwogIGNsYXNzIFNpZ25hdHVyZSB7CiAgICBjb25zdHJ1Y3RvcihyLCBzLCByZWNvdmVyeSkgewogICAgICB0aGlzLnIgPSByOwogICAgICB0aGlzLnMgPSBzOwogICAgICB0aGlzLnJlY292ZXJ5ID0gcmVjb3Zlcnk7CiAgICAgIHRoaXMuYXNzZXJ0VmFsaWRpdHkoKTsKICAgIH0KICAgIHN0YXRpYyBmcm9tQ29tcGFjdChoZXgpIHsKICAgICAgY29uc3QgbCA9IENVUlZFLm5CeXRlTGVuZ3RoOwogICAgICBoZXggPSAoMCwgdXRpbHNfMS5lbnN1cmVCeXRlcykoJ2NvbXBhY3RTaWduYXR1cmUnLCBoZXgsIGwgKiAyKTsKICAgICAgcmV0dXJuIG5ldyBTaWduYXR1cmUoc2xjTnVtKGhleCwgMCwgbCksIHNsY051bShoZXgsIGwsIDIgKiBsKSk7CiAgICB9CiAgICBzdGF0aWMgZnJvbURFUihoZXgpIHsKICAgICAgY29uc3QgewogICAgICAgIHIsCiAgICAgICAgcwogICAgICB9ID0gZXhwb3J0cy5ERVIudG9TaWcoKDAsIHV0aWxzXzEuZW5zdXJlQnl0ZXMpKCdERVInLCBoZXgpKTsKICAgICAgcmV0dXJuIG5ldyBTaWduYXR1cmUociwgcyk7CiAgICB9CiAgICBhc3NlcnRWYWxpZGl0eSgpIHsKICAgICAgaWYgKCFpc1dpdGhpbkN1cnZlT3JkZXIodGhpcy5yKSkgdGhyb3cgbmV3IEVycm9yKCdyIG11c3QgYmUgMCA8IHIgPCBDVVJWRS5uJyk7CiAgICAgIGlmICghaXNXaXRoaW5DdXJ2ZU9yZGVyKHRoaXMucykpIHRocm93IG5ldyBFcnJvcigncyBtdXN0IGJlIDAgPCBzIDwgQ1VSVkUubicpOwogICAgfQogICAgYWRkUmVjb3ZlcnlCaXQocmVjb3ZlcnkpIHsKICAgICAgcmV0dXJuIG5ldyBTaWduYXR1cmUodGhpcy5yLCB0aGlzLnMsIHJlY292ZXJ5KTsKICAgIH0KICAgIHJlY292ZXJQdWJsaWNLZXkobXNnSGFzaCkgewogICAgICBjb25zdCB7CiAgICAgICAgciwKICAgICAgICBzLAogICAgICAgIHJlY292ZXJ5OiByZWMKICAgICAgfSA9IHRoaXM7CiAgICAgIGNvbnN0IGggPSBiaXRzMmludF9tb2ROKCgwLCB1dGlsc18xLmVuc3VyZUJ5dGVzKSgnbXNnSGFzaCcsIG1zZ0hhc2gpKTsKICAgICAgaWYgKHJlYyA9PSBudWxsIHx8ICFbMCwgMSwgMiwgM10uaW5jbHVkZXMocmVjKSkgdGhyb3cgbmV3IEVycm9yKCdyZWNvdmVyeSBpZCBpbnZhbGlkJyk7CiAgICAgIGNvbnN0IHJhZGogPSByZWMgPT09IDIgfHwgcmVjID09PSAzID8gciArIENVUlZFLm4gOiByOwogICAgICBpZiAocmFkaiA+PSBGcC5PUkRFUikgdGhyb3cgbmV3IEVycm9yKCdyZWNvdmVyeSBpZCAyIG9yIDMgaW52YWxpZCcpOwogICAgICBjb25zdCBwcmVmaXggPSAocmVjICYgMSkgPT09IDAgPyAnMDInIDogJzAzJzsKICAgICAgY29uc3QgUiA9IFBvaW50LmZyb21IZXgocHJlZml4ICsgbnVtVG9OQnl0ZVN0cihyYWRqKSk7CiAgICAgIGNvbnN0IGlyID0gaW52TihyYWRqKTsKICAgICAgY29uc3QgdTEgPSBtb2ROKC1oICogaXIpOwogICAgICBjb25zdCB1MiA9IG1vZE4ocyAqIGlyKTsKICAgICAgY29uc3QgUSA9IFBvaW50LkJBU0UubXVsdGlwbHlBbmRBZGRVbnNhZmUoUiwgdTEsIHUyKTsKICAgICAgaWYgKCFRKSB0aHJvdyBuZXcgRXJyb3IoJ3BvaW50IGF0IGluZmluaWZ5Jyk7CiAgICAgIFEuYXNzZXJ0VmFsaWRpdHkoKTsKICAgICAgcmV0dXJuIFE7CiAgICB9CiAgICBoYXNIaWdoUygpIHsKICAgICAgcmV0dXJuIGlzQmlnZ2VyVGhhbkhhbGZPcmRlcih0aGlzLnMpOwogICAgfQogICAgbm9ybWFsaXplUygpIHsKICAgICAgcmV0dXJuIHRoaXMuaGFzSGlnaFMoKSA/IG5ldyBTaWduYXR1cmUodGhpcy5yLCBtb2ROKC10aGlzLnMpLCB0aGlzLnJlY292ZXJ5KSA6IHRoaXM7CiAgICB9CiAgICB0b0RFUlJhd0J5dGVzKCkgewogICAgICByZXR1cm4gdXQuaGV4VG9CeXRlcyh0aGlzLnRvREVSSGV4KCkpOwogICAgfQogICAgdG9ERVJIZXgoKSB7CiAgICAgIHJldHVybiBleHBvcnRzLkRFUi5oZXhGcm9tU2lnKHsKICAgICAgICByOiB0aGlzLnIsCiAgICAgICAgczogdGhpcy5zCiAgICAgIH0pOwogICAgfQogICAgdG9Db21wYWN0UmF3Qnl0ZXMoKSB7CiAgICAgIHJldHVybiB1dC5oZXhUb0J5dGVzKHRoaXMudG9Db21wYWN0SGV4KCkpOwogICAgfQogICAgdG9Db21wYWN0SGV4KCkgewogICAgICByZXR1cm4gbnVtVG9OQnl0ZVN0cih0aGlzLnIpICsgbnVtVG9OQnl0ZVN0cih0aGlzLnMpOwogICAgfQogIH0KICBjb25zdCB1dGlscyA9IHsKICAgIGlzVmFsaWRQcml2YXRlS2V5KHByaXZhdGVLZXkpIHsKICAgICAgdHJ5IHsKICAgICAgICBub3JtUHJpdmF0ZUtleVRvU2NhbGFyKHByaXZhdGVLZXkpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIG5vcm1Qcml2YXRlS2V5VG9TY2FsYXI6IG5vcm1Qcml2YXRlS2V5VG9TY2FsYXIsCiAgICByYW5kb21Qcml2YXRlS2V5OiAoKSA9PiB7CiAgICAgIGNvbnN0IHJhbmQgPSBDVVJWRS5yYW5kb21CeXRlcyhGcC5CWVRFUyArIDgpOwogICAgICBjb25zdCBudW0gPSBtb2QuaGFzaFRvUHJpdmF0ZVNjYWxhcihyYW5kLCBDVVJWRV9PUkRFUik7CiAgICAgIHJldHVybiB1dC5udW1iZXJUb0J5dGVzQkUobnVtLCBDVVJWRS5uQnl0ZUxlbmd0aCk7CiAgICB9LAogICAgcHJlY29tcHV0ZSgpIHsKICAgICAgbGV0IHdpbmRvd1NpemUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDg7CiAgICAgIGxldCBwb2ludCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogUG9pbnQuQkFTRTsKICAgICAgcG9pbnQuX3NldFdpbmRvd1NpemUod2luZG93U2l6ZSk7CiAgICAgIHBvaW50Lm11bHRpcGx5KEJpZ0ludCgzKSk7CiAgICAgIHJldHVybiBwb2ludDsKICAgIH0KICB9OwogIGZ1bmN0aW9uIGdldFB1YmxpY0tleShwcml2YXRlS2V5KSB7CiAgICBsZXQgaXNDb21wcmVzc2VkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlOwogICAgcmV0dXJuIFBvaW50LmZyb21Qcml2YXRlS2V5KHByaXZhdGVLZXkpLnRvUmF3Qnl0ZXMoaXNDb21wcmVzc2VkKTsKICB9CiAgZnVuY3Rpb24gaXNQcm9iUHViKGl0ZW0pIHsKICAgIGNvbnN0IGFyciA9IGl0ZW0gaW5zdGFuY2VvZiBVaW50OEFycmF5OwogICAgY29uc3Qgc3RyID0gdHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnOwogICAgY29uc3QgbGVuID0gKGFyciB8fCBzdHIpICYmIGl0ZW0ubGVuZ3RoOwogICAgaWYgKGFycikgcmV0dXJuIGxlbiA9PT0gY29tcHJlc3NlZExlbiB8fCBsZW4gPT09IHVuY29tcHJlc3NlZExlbjsKICAgIGlmIChzdHIpIHJldHVybiBsZW4gPT09IDIgKiBjb21wcmVzc2VkTGVuIHx8IGxlbiA9PT0gMiAqIHVuY29tcHJlc3NlZExlbjsKICAgIGlmIChpdGVtIGluc3RhbmNlb2YgUG9pbnQpIHJldHVybiB0cnVlOwogICAgcmV0dXJuIGZhbHNlOwogIH0KICBmdW5jdGlvbiBnZXRTaGFyZWRTZWNyZXQocHJpdmF0ZUEsIHB1YmxpY0IpIHsKICAgIGxldCBpc0NvbXByZXNzZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHRydWU7CiAgICBpZiAoaXNQcm9iUHViKHByaXZhdGVBKSkgdGhyb3cgbmV3IEVycm9yKCdmaXJzdCBhcmcgbXVzdCBiZSBwcml2YXRlIGtleScpOwogICAgaWYgKCFpc1Byb2JQdWIocHVibGljQikpIHRocm93IG5ldyBFcnJvcignc2Vjb25kIGFyZyBtdXN0IGJlIHB1YmxpYyBrZXknKTsKICAgIGNvbnN0IGIgPSBQb2ludC5mcm9tSGV4KHB1YmxpY0IpOwogICAgcmV0dXJuIGIubXVsdGlwbHkobm9ybVByaXZhdGVLZXlUb1NjYWxhcihwcml2YXRlQSkpLnRvUmF3Qnl0ZXMoaXNDb21wcmVzc2VkKTsKICB9CiAgY29uc3QgYml0czJpbnQgPSBDVVJWRS5iaXRzMmludCB8fCBmdW5jdGlvbiAoYnl0ZXMpIHsKICAgIGNvbnN0IG51bSA9IHV0LmJ5dGVzVG9OdW1iZXJCRShieXRlcyk7CiAgICBjb25zdCBkZWx0YSA9IGJ5dGVzLmxlbmd0aCAqIDggLSBDVVJWRS5uQml0TGVuZ3RoOwogICAgcmV0dXJuIGRlbHRhID4gMCA/IG51bSA+PiBCaWdJbnQoZGVsdGEpIDogbnVtOwogIH07CiAgY29uc3QgYml0czJpbnRfbW9kTiA9IENVUlZFLmJpdHMyaW50X21vZE4gfHwgZnVuY3Rpb24gKGJ5dGVzKSB7CiAgICByZXR1cm4gbW9kTihiaXRzMmludChieXRlcykpOwogIH07CiAgY29uc3QgT1JERVJfTUFTSyA9IHV0LmJpdE1hc2soQ1VSVkUubkJpdExlbmd0aCk7CiAgZnVuY3Rpb24gaW50Mm9jdGV0cyhudW0pIHsKICAgIGlmICh0eXBlb2YgbnVtICE9PSAnYmlnaW50JykgdGhyb3cgbmV3IEVycm9yKCdiaWdpbnQgZXhwZWN0ZWQnKTsKICAgIGlmICghKF8wbiA8PSBudW0gJiYgbnVtIDwgT1JERVJfTUFTSykpIHRocm93IG5ldyBFcnJvcihgYmlnaW50IGV4cGVjdGVkIDwgMl4ke0NVUlZFLm5CaXRMZW5ndGh9YCk7CiAgICByZXR1cm4gdXQubnVtYmVyVG9CeXRlc0JFKG51bSwgQ1VSVkUubkJ5dGVMZW5ndGgpOwogIH0KICBmdW5jdGlvbiBwcmVwU2lnKG1zZ0hhc2gsIHByaXZhdGVLZXkpIHsKICAgIGxldCBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBkZWZhdWx0U2lnT3B0czsKICAgIGlmIChbJ3JlY292ZXJlZCcsICdjYW5vbmljYWwnXS5zb21lKGsgPT4gayBpbiBvcHRzKSkgdGhyb3cgbmV3IEVycm9yKCdzaWduKCkgbGVnYWN5IG9wdGlvbnMgbm90IHN1cHBvcnRlZCcpOwogICAgY29uc3QgewogICAgICBoYXNoLAogICAgICByYW5kb21CeXRlcwogICAgfSA9IENVUlZFOwogICAgbGV0IHsKICAgICAgbG93UywKICAgICAgcHJlaGFzaCwKICAgICAgZXh0cmFFbnRyb3B5OiBlbnQKICAgIH0gPSBvcHRzOwogICAgaWYgKGxvd1MgPT0gbnVsbCkgbG93UyA9IHRydWU7CiAgICBtc2dIYXNoID0gKDAsIHV0aWxzXzEuZW5zdXJlQnl0ZXMpKCdtc2dIYXNoJywgbXNnSGFzaCk7CiAgICBpZiAocHJlaGFzaCkgbXNnSGFzaCA9ICgwLCB1dGlsc18xLmVuc3VyZUJ5dGVzKSgncHJlaGFzaGVkIG1zZ0hhc2gnLCBoYXNoKG1zZ0hhc2gpKTsKICAgIGNvbnN0IGgxaW50ID0gYml0czJpbnRfbW9kTihtc2dIYXNoKTsKICAgIGNvbnN0IGQgPSBub3JtUHJpdmF0ZUtleVRvU2NhbGFyKHByaXZhdGVLZXkpOwogICAgY29uc3Qgc2VlZEFyZ3MgPSBbaW50Mm9jdGV0cyhkKSwgaW50Mm9jdGV0cyhoMWludCldOwogICAgaWYgKGVudCAhPSBudWxsKSB7CiAgICAgIGNvbnN0IGUgPSBlbnQgPT09IHRydWUgPyByYW5kb21CeXRlcyhGcC5CWVRFUykgOiBlbnQ7CiAgICAgIHNlZWRBcmdzLnB1c2goKDAsIHV0aWxzXzEuZW5zdXJlQnl0ZXMpKCdleHRyYUVudHJvcHknLCBlLCBGcC5CWVRFUykpOwogICAgfQogICAgY29uc3Qgc2VlZCA9IHV0LmNvbmNhdEJ5dGVzKC4uLnNlZWRBcmdzKTsKICAgIGNvbnN0IG0gPSBoMWludDsKICAgIGZ1bmN0aW9uIGsyc2lnKGtCeXRlcykgewogICAgICBjb25zdCBrID0gYml0czJpbnQoa0J5dGVzKTsKICAgICAgaWYgKCFpc1dpdGhpbkN1cnZlT3JkZXIoaykpIHJldHVybjsKICAgICAgY29uc3QgaWsgPSBpbnZOKGspOwogICAgICBjb25zdCBxID0gUG9pbnQuQkFTRS5tdWx0aXBseShrKS50b0FmZmluZSgpOwogICAgICBjb25zdCByID0gbW9kTihxLngpOwogICAgICBpZiAociA9PT0gXzBuKSByZXR1cm47CiAgICAgIGNvbnN0IHMgPSBtb2ROKGlrICogbW9kTihtICsgciAqIGQpKTsKICAgICAgaWYgKHMgPT09IF8wbikgcmV0dXJuOwogICAgICBsZXQgcmVjb3ZlcnkgPSAocS54ID09PSByID8gMCA6IDIpIHwgTnVtYmVyKHEueSAmIF8xbik7CiAgICAgIGxldCBub3JtUyA9IHM7CiAgICAgIGlmIChsb3dTICYmIGlzQmlnZ2VyVGhhbkhhbGZPcmRlcihzKSkgewogICAgICAgIG5vcm1TID0gbm9ybWFsaXplUyhzKTsKICAgICAgICByZWNvdmVyeSBePSAxOwogICAgICB9CiAgICAgIHJldHVybiBuZXcgU2lnbmF0dXJlKHIsIG5vcm1TLCByZWNvdmVyeSk7CiAgICB9CiAgICByZXR1cm4gewogICAgICBzZWVkLAogICAgICBrMnNpZwogICAgfTsKICB9CiAgY29uc3QgZGVmYXVsdFNpZ09wdHMgPSB7CiAgICBsb3dTOiBDVVJWRS5sb3dTLAogICAgcHJlaGFzaDogZmFsc2UKICB9OwogIGNvbnN0IGRlZmF1bHRWZXJPcHRzID0gewogICAgbG93UzogQ1VSVkUubG93UywKICAgIHByZWhhc2g6IGZhbHNlCiAgfTsKICBmdW5jdGlvbiBzaWduKG1zZ0hhc2gsIHByaXZLZXkpIHsKICAgIGxldCBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBkZWZhdWx0U2lnT3B0czsKICAgIGNvbnN0IHsKICAgICAgc2VlZCwKICAgICAgazJzaWcKICAgIH0gPSBwcmVwU2lnKG1zZ0hhc2gsIHByaXZLZXksIG9wdHMpOwogICAgY29uc3QgQyA9IENVUlZFOwogICAgY29uc3QgZHJiZyA9IHV0LmNyZWF0ZUhtYWNEcmJnKEMuaGFzaC5vdXRwdXRMZW4sIEMubkJ5dGVMZW5ndGgsIEMuaG1hYyk7CiAgICByZXR1cm4gZHJiZyhzZWVkLCBrMnNpZyk7CiAgfQogIFBvaW50LkJBU0UuX3NldFdpbmRvd1NpemUoOCk7CiAgZnVuY3Rpb24gdmVyaWZ5KHNpZ25hdHVyZSwgbXNnSGFzaCwgcHVibGljS2V5KSB7CiAgICB2YXIgX1BvaW50JEJBU0UkbXVsdGlwbHlBOwogICAgbGV0IG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGRlZmF1bHRWZXJPcHRzOwogICAgY29uc3Qgc2cgPSBzaWduYXR1cmU7CiAgICBtc2dIYXNoID0gKDAsIHV0aWxzXzEuZW5zdXJlQnl0ZXMpKCdtc2dIYXNoJywgbXNnSGFzaCk7CiAgICBwdWJsaWNLZXkgPSAoMCwgdXRpbHNfMS5lbnN1cmVCeXRlcykoJ3B1YmxpY0tleScsIHB1YmxpY0tleSk7CiAgICBpZiAoJ3N0cmljdCcgaW4gb3B0cykgdGhyb3cgbmV3IEVycm9yKCdvcHRpb25zLnN0cmljdCB3YXMgcmVuYW1lZCB0byBsb3dTJyk7CiAgICBjb25zdCB7CiAgICAgIGxvd1MsCiAgICAgIHByZWhhc2gKICAgIH0gPSBvcHRzOwogICAgbGV0IF9zaWcgPSB1bmRlZmluZWQ7CiAgICBsZXQgUDsKICAgIHRyeSB7CiAgICAgIGlmICh0eXBlb2Ygc2cgPT09ICdzdHJpbmcnIHx8IHNnIGluc3RhbmNlb2YgVWludDhBcnJheSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBfc2lnID0gU2lnbmF0dXJlLmZyb21ERVIoc2cpOwogICAgICAgIH0gY2F0Y2ggKGRlckVycm9yKSB7CiAgICAgICAgICBpZiAoIShkZXJFcnJvciBpbnN0YW5jZW9mIGV4cG9ydHMuREVSLkVycikpIHRocm93IGRlckVycm9yOwogICAgICAgICAgX3NpZyA9IFNpZ25hdHVyZS5mcm9tQ29tcGFjdChzZyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzZyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHNnLnIgPT09ICdiaWdpbnQnICYmIHR5cGVvZiBzZy5zID09PSAnYmlnaW50JykgewogICAgICAgIGNvbnN0IHsKICAgICAgICAgIHIsCiAgICAgICAgICBzCiAgICAgICAgfSA9IHNnOwogICAgICAgIF9zaWcgPSBuZXcgU2lnbmF0dXJlKHIsIHMpOwogICAgICB9IGVsc2UgewogICAgICAgIHRocm93IG5ldyBFcnJvcignUEFSU0UnKTsKICAgICAgfQogICAgICBQID0gUG9pbnQuZnJvbUhleChwdWJsaWNLZXkpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgaWYgKGVycm9yLm1lc3NhZ2UgPT09ICdQQVJTRScpIHRocm93IG5ldyBFcnJvcihgc2lnbmF0dXJlIG11c3QgYmUgU2lnbmF0dXJlIGluc3RhbmNlLCBVaW50OEFycmF5IG9yIGhleCBzdHJpbmdgKTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgaWYgKGxvd1MgJiYgX3NpZy5oYXNIaWdoUygpKSByZXR1cm4gZmFsc2U7CiAgICBpZiAocHJlaGFzaCkgbXNnSGFzaCA9IENVUlZFLmhhc2gobXNnSGFzaCk7CiAgICBjb25zdCB7CiAgICAgIHIsCiAgICAgIHMKICAgIH0gPSBfc2lnOwogICAgY29uc3QgaCA9IGJpdHMyaW50X21vZE4obXNnSGFzaCk7CiAgICBjb25zdCBpcyA9IGludk4ocyk7CiAgICBjb25zdCB1MSA9IG1vZE4oaCAqIGlzKTsKICAgIGNvbnN0IHUyID0gbW9kTihyICogaXMpOwogICAgY29uc3QgUiA9IChfUG9pbnQkQkFTRSRtdWx0aXBseUEgPSBQb2ludC5CQVNFLm11bHRpcGx5QW5kQWRkVW5zYWZlKFAsIHUxLCB1MikpID09PSBudWxsIHx8IF9Qb2ludCRCQVNFJG11bHRpcGx5QSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX1BvaW50JEJBU0UkbXVsdGlwbHlBLnRvQWZmaW5lKCk7CiAgICBpZiAoIVIpIHJldHVybiBmYWxzZTsKICAgIGNvbnN0IHYgPSBtb2ROKFIueCk7CiAgICByZXR1cm4gdiA9PT0gcjsKICB9CiAgcmV0dXJuIHsKICAgIENVUlZFLAogICAgZ2V0UHVibGljS2V5LAogICAgZ2V0U2hhcmVkU2VjcmV0LAogICAgc2lnbiwKICAgIHZlcmlmeSwKICAgIFByb2plY3RpdmVQb2ludDogUG9pbnQsCiAgICBTaWduYXR1cmUsCiAgICB1dGlscwogIH07Cn0KZXhwb3J0cy53ZWllcnN0cmFzcyA9IHdlaWVyc3RyYXNzOwpmdW5jdGlvbiBTV1VGcFNxcnRSYXRpbyhGcCwgWikgewogIGNvbnN0IHEgPSBGcC5PUkRFUjsKICBsZXQgbCA9IF8wbjsKICBmb3IgKGxldCBvID0gcSAtIF8xbjsgbyAlIF8ybiA9PT0gXzBuOyBvIC89IF8ybikgbCArPSBfMW47CiAgY29uc3QgYzEgPSBsOwogIGNvbnN0IF8ybl9wb3dfYzFfMSA9IF8ybiA8PCBjMSAtIF8xbiAtIF8xbjsKICBjb25zdCBfMm5fcG93X2MxID0gXzJuX3Bvd19jMV8xICogXzJuOwogIGNvbnN0IGMyID0gKHEgLSBfMW4pIC8gXzJuX3Bvd19jMTsKICBjb25zdCBjMyA9IChjMiAtIF8xbikgLyBfMm47CiAgY29uc3QgYzQgPSBfMm5fcG93X2MxIC0gXzFuOwogIGNvbnN0IGM1ID0gXzJuX3Bvd19jMV8xOwogIGNvbnN0IGM2ID0gRnAucG93KFosIGMyKTsKICBjb25zdCBjNyA9IEZwLnBvdyhaLCAoYzIgKyBfMW4pIC8gXzJuKTsKICBsZXQgc3FydFJhdGlvID0gKHUsIHYpID0+IHsKICAgIGxldCB0djEgPSBjNjsKICAgIGxldCB0djIgPSBGcC5wb3codiwgYzQpOwogICAgbGV0IHR2MyA9IEZwLnNxcih0djIpOwogICAgdHYzID0gRnAubXVsKHR2Mywgdik7CiAgICBsZXQgdHY1ID0gRnAubXVsKHUsIHR2Myk7CiAgICB0djUgPSBGcC5wb3codHY1LCBjMyk7CiAgICB0djUgPSBGcC5tdWwodHY1LCB0djIpOwogICAgdHYyID0gRnAubXVsKHR2NSwgdik7CiAgICB0djMgPSBGcC5tdWwodHY1LCB1KTsKICAgIGxldCB0djQgPSBGcC5tdWwodHYzLCB0djIpOwogICAgdHY1ID0gRnAucG93KHR2NCwgYzUpOwogICAgbGV0IGlzUVIgPSBGcC5lcWwodHY1LCBGcC5PTkUpOwogICAgdHYyID0gRnAubXVsKHR2MywgYzcpOwogICAgdHY1ID0gRnAubXVsKHR2NCwgdHYxKTsKICAgIHR2MyA9IEZwLmNtb3YodHYyLCB0djMsIGlzUVIpOwogICAgdHY0ID0gRnAuY21vdih0djUsIHR2NCwgaXNRUik7CiAgICBmb3IgKGxldCBpID0gYzE7IGkgPiBfMW47IGktLSkgewogICAgICBsZXQgdHY1ID0gaSAtIF8ybjsKICAgICAgdHY1ID0gXzJuIDw8IHR2NSAtIF8xbjsKICAgICAgbGV0IHR2djUgPSBGcC5wb3codHY0LCB0djUpOwogICAgICBjb25zdCBlMSA9IEZwLmVxbCh0dnY1LCBGcC5PTkUpOwogICAgICB0djIgPSBGcC5tdWwodHYzLCB0djEpOwogICAgICB0djEgPSBGcC5tdWwodHYxLCB0djEpOwogICAgICB0dnY1ID0gRnAubXVsKHR2NCwgdHYxKTsKICAgICAgdHYzID0gRnAuY21vdih0djIsIHR2MywgZTEpOwogICAgICB0djQgPSBGcC5jbW92KHR2djUsIHR2NCwgZTEpOwogICAgfQogICAgcmV0dXJuIHsKICAgICAgaXNWYWxpZDogaXNRUiwKICAgICAgdmFsdWU6IHR2MwogICAgfTsKICB9OwogIGlmIChGcC5PUkRFUiAlIF80biA9PT0gXzNuKSB7CiAgICBjb25zdCBjMSA9IChGcC5PUkRFUiAtIF8zbikgLyBfNG47CiAgICBjb25zdCBjMiA9IEZwLnNxcnQoRnAubmVnKFopKTsKICAgIHNxcnRSYXRpbyA9ICh1LCB2KSA9PiB7CiAgICAgIGxldCB0djEgPSBGcC5zcXIodik7CiAgICAgIGNvbnN0IHR2MiA9IEZwLm11bCh1LCB2KTsKICAgICAgdHYxID0gRnAubXVsKHR2MSwgdHYyKTsKICAgICAgbGV0IHkxID0gRnAucG93KHR2MSwgYzEpOwogICAgICB5MSA9IEZwLm11bCh5MSwgdHYyKTsKICAgICAgY29uc3QgeTIgPSBGcC5tdWwoeTEsIGMyKTsKICAgICAgY29uc3QgdHYzID0gRnAubXVsKEZwLnNxcih5MSksIHYpOwogICAgICBjb25zdCBpc1FSID0gRnAuZXFsKHR2MywgdSk7CiAgICAgIGxldCB5ID0gRnAuY21vdih5MiwgeTEsIGlzUVIpOwogICAgICByZXR1cm4gewogICAgICAgIGlzVmFsaWQ6IGlzUVIsCiAgICAgICAgdmFsdWU6IHkKICAgICAgfTsKICAgIH07CiAgfQogIHJldHVybiBzcXJ0UmF0aW87Cn0KZXhwb3J0cy5TV1VGcFNxcnRSYXRpbyA9IFNXVUZwU3FydFJhdGlvOwpmdW5jdGlvbiBtYXBUb0N1cnZlU2ltcGxlU1dVKEZwLCBvcHRzKSB7CiAgbW9kLnZhbGlkYXRlRmllbGQoRnApOwogIGlmICghRnAuaXNWYWxpZChvcHRzLkEpIHx8ICFGcC5pc1ZhbGlkKG9wdHMuQikgfHwgIUZwLmlzVmFsaWQob3B0cy5aKSkgdGhyb3cgbmV3IEVycm9yKCdtYXBUb0N1cnZlU2ltcGxlU1dVOiBpbnZhbGlkIG9wdHMnKTsKICBjb25zdCBzcXJ0UmF0aW8gPSBTV1VGcFNxcnRSYXRpbyhGcCwgb3B0cy5aKTsKICBpZiAoIUZwLmlzT2RkKSB0aHJvdyBuZXcgRXJyb3IoJ0ZwLmlzT2RkIGlzIG5vdCBpbXBsZW1lbnRlZCEnKTsKICByZXR1cm4gdSA9PiB7CiAgICBsZXQgdHYxLCB0djIsIHR2MywgdHY0LCB0djUsIHR2NiwgeCwgeTsKICAgIHR2MSA9IEZwLnNxcih1KTsKICAgIHR2MSA9IEZwLm11bCh0djEsIG9wdHMuWik7CiAgICB0djIgPSBGcC5zcXIodHYxKTsKICAgIHR2MiA9IEZwLmFkZCh0djIsIHR2MSk7CiAgICB0djMgPSBGcC5hZGQodHYyLCBGcC5PTkUpOwogICAgdHYzID0gRnAubXVsKHR2Mywgb3B0cy5CKTsKICAgIHR2NCA9IEZwLmNtb3Yob3B0cy5aLCBGcC5uZWcodHYyKSwgIUZwLmVxbCh0djIsIEZwLlpFUk8pKTsKICAgIHR2NCA9IEZwLm11bCh0djQsIG9wdHMuQSk7CiAgICB0djIgPSBGcC5zcXIodHYzKTsKICAgIHR2NiA9IEZwLnNxcih0djQpOwogICAgdHY1ID0gRnAubXVsKHR2Niwgb3B0cy5BKTsKICAgIHR2MiA9IEZwLmFkZCh0djIsIHR2NSk7CiAgICB0djIgPSBGcC5tdWwodHYyLCB0djMpOwogICAgdHY2ID0gRnAubXVsKHR2NiwgdHY0KTsKICAgIHR2NSA9IEZwLm11bCh0djYsIG9wdHMuQik7CiAgICB0djIgPSBGcC5hZGQodHYyLCB0djUpOwogICAgeCA9IEZwLm11bCh0djEsIHR2Myk7CiAgICBjb25zdCB7CiAgICAgIGlzVmFsaWQsCiAgICAgIHZhbHVlCiAgICB9ID0gc3FydFJhdGlvKHR2MiwgdHY2KTsKICAgIHkgPSBGcC5tdWwodHYxLCB1KTsKICAgIHkgPSBGcC5tdWwoeSwgdmFsdWUpOwogICAgeCA9IEZwLmNtb3YoeCwgdHYzLCBpc1ZhbGlkKTsKICAgIHkgPSBGcC5jbW92KHksIHZhbHVlLCBpc1ZhbGlkKTsKICAgIGNvbnN0IGUxID0gRnAuaXNPZGQodSkgPT09IEZwLmlzT2RkKHkpOwogICAgeSA9IEZwLmNtb3YoRnAubmVnKHkpLCB5LCBlMSk7CiAgICB4ID0gRnAuZGl2KHgsIHR2NCk7CiAgICByZXR1cm4gewogICAgICB4LAogICAgICB5CiAgICB9OwogIH07Cn0KZXhwb3J0cy5tYXBUb0N1cnZlU2ltcGxlU1dVID0gbWFwVG9DdXJ2ZVNpbXBsZVNXVTs="},{"version":3,"names":["require","mod","__importStar","ut","utils_1","curve_1","validatePointOpts","curve","opts","validateBasic","validateObject","a","b","allowedPrivateKeyLengths","wrapPrivateKey","isTorsionFree","clearCofactor","allowInfinityPoint","fromBytes","toBytes","endo","Fp","eql","ZERO","Error","beta","splitScalar","Object","freeze","bytesToNumberBE","b2n","hexToBytes","h2b","exports","DER","Err","DERErr","constructor","m","arguments","length","undefined","_parseInt","data","E","len","res","subarray","d","l","toSig","hex","Uint8Array","r","sBytes","s","rBytesLeft","hexFromSig","sig","slice","Number","parseInt","h","num","toString","shl","rhl","sl","rl","_0n","BigInt","_1n","_2n","_3n","_4n","weierstrassPoints","CURVE","c","point","isCompressed","toAffine","concatBytes","from","x","y","bytes","tail","BYTES","weierstrassEquation","x2","sqr","x3","mul","add","Gy","Gx","isWithinCurveOrder","n","assertGE","normPrivateKeyToScalar","key","lengths","nByteLength","bytesToHex","includes","padStart","ensureBytes","error","pointPrecomputes","Map","assertPrjPoint","other","Point","px","py","pz","isValid","fromAffine","p","is0","i","ONE","normalizeZ","points","toInv","invertBatch","map","fromHex","P","assertValidity","fromPrivateKey","privateKey","BASE","multiply","_setWindowSize","windowSize","_WINDOW_SIZE","delete","left","right","hasEvenY","isOdd","equals","X1","Y1","Z1","X2","Y2","Z2","U1","U2","negate","neg","double","b3","X3","Y3","Z3","t0","t1","t2","t3","sub","t4","t5","subtract","wNAF","wnaf","wNAFCached","comp","multiplyUnsafe","I","unsafeLadder","k1neg","k1","k2neg","k2","k1p","k2p","scalar","fake","f","f1p","f2p","constTimeNegate","multiplyAndAddUnsafe","Q","G","sum","iz","z","inv","ax","ay","zz","cofactor","toRawBytes","toHex","_bits","nBitLength","Math","ceil","ProjectivePoint","validateOpts","hash","hmac","randomBytes","bits2int","bits2int_modN","lowS","weierstrass","curveDef","CURVE_ORDER","compressedLen","uncompressedLen","isValidFieldElement","ORDER","modN","invN","invert","cat","head","y2","sqrt","isYOdd","isHeadOdd","numToNByteStr","numberToBytesBE","isBiggerThanHalfOrder","number","HALF","normalizeS","slcNum","to","Signature","recovery","fromCompact","fromDER","addRecoveryBit","recoverPublicKey","msgHash","rec","radj","prefix","R","ir","u1","u2","hasHighS","toDERRawBytes","toDERHex","toCompactRawBytes","toCompactHex","utils","isValidPrivateKey","randomPrivateKey","rand","hashToPrivateScalar","precompute","getPublicKey","isProbPub","item","arr","str","getSharedSecret","privateA","publicB","delta","ORDER_MASK","bitMask","int2octets","prepSig","defaultSigOpts","some","k","prehash","extraEntropy","ent","h1int","seedArgs","e","push","seed","k2sig","kBytes","ik","q","normS","defaultVerOpts","sign","privKey","C","drbg","createHmacDrbg","outputLen","verify","signature","publicKey","_Point$BASE$multiplyA","sg","_sig","derError","message","is","v","SWUFpSqrtRatio","Z","o","c1","_2n_pow_c1_1","_2n_pow_c1","c2","c3","c4","c5","c6","pow","c7","sqrtRatio","u","tv1","tv2","tv3","tv5","tv4","isQR","cmov","tvv5","e1","value","y1","mapToCurveSimpleSWU","validateField","A","B","tv6","div"],"sources":["../../../../src/signutil/schnorr/abstract/weierstrass.ts"],"sourcesContent":[null],"mappings":"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"}]}