{"remainingRequest":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js??ref--17!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/@okxweb3/coin-bitcoin/dist/runesMain.js","dependencies":[{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/@okxweb3/coin-bitcoin/dist/runesMain.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyIpOwp2YXIgX19jcmVhdGVCaW5kaW5nID0gdGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZyB8fCAoT2JqZWN0LmNyZWF0ZSA/IGZ1bmN0aW9uIChvLCBtLCBrLCBrMikgewogIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7CiAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspOwogIGlmICghZGVzYyB8fCAoImdldCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkgewogICAgZGVzYyA9IHsKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIG1ba107CiAgICAgIH0KICAgIH07CiAgfQogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7Cn0gOiBmdW5jdGlvbiAobywgbSwgaywgazIpIHsKICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrOwogIG9bazJdID0gbVtrXTsKfSk7CnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSB0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0IHx8IChPYmplY3QuY3JlYXRlID8gZnVuY3Rpb24gKG8sIHYpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgImRlZmF1bHQiLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHYKICB9KTsKfSA6IGZ1bmN0aW9uIChvLCB2KSB7CiAgb1siZGVmYXVsdCJdID0gdjsKfSk7CnZhciBfX2ltcG9ydFN0YXIgPSB0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyIHx8IGZ1bmN0aW9uIChtb2QpIHsKICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kOwogIHZhciByZXN1bHQgPSB7fTsKICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gImRlZmF1bHQiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspOwogIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7CiAgcmV0dXJuIHJlc3VsdDsKfTsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmJ1aWxkUnVuZU1haW5EZXBsb3lEYXRhID0gZXhwb3J0cy5pbnNjcmliZSA9IGV4cG9ydHMucnVuZXNNYWluSW5zY3JpYmUgPSBleHBvcnRzLmNoZWNrRXRjaGluZyA9IGV4cG9ydHMuTUFYX1NQQUNFUlMgPSBleHBvcnRzLnVpbnQ2NE1heCA9IGV4cG9ydHMudWludDEyOE1heCA9IGV4cG9ydHMuUnVuZXNNYWluSW5zY3JpcHRpb25Ub29sID0gdm9pZCAwOwpjb25zdCBiaXRjb2luID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoIi4vYml0Y29pbmpzLWxpYiIpKTsKY29uc3QgY3J5cHRvX2xpYl8xID0gcmVxdWlyZSgiQG9reHdlYjMvY3J5cHRvLWxpYiIpOwpjb25zdCB0YXByb290ID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoIi4vdGFwcm9vdCIpKTsKY29uc3QgYmNyeXB0byA9IF9faW1wb3J0U3RhcihyZXF1aXJlKCIuL2JpdGNvaW5qcy1saWIvY3J5cHRvIikpOwpjb25zdCB0cmFuc2FjdGlvbl8xID0gcmVxdWlyZSgiLi9iaXRjb2luanMtbGliL3RyYW5zYWN0aW9uIik7CmNvbnN0IHR4QnVpbGRfMSA9IHJlcXVpcmUoIi4vdHhCdWlsZCIpOwpjb25zdCBic2NyaXB0ID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoIi4vYml0Y29pbmpzLWxpYi9zY3JpcHQiKSk7CmNvbnN0IHNpZ2Nvc3RfMSA9IHJlcXVpcmUoIi4vc2lnY29zdCIpOwpjb25zdCBydW5lc3RvbmVzXzEgPSByZXF1aXJlKCIuL3J1bmVzdG9uZXMiKTsKY29uc3Qgc2Nobm9yciA9IGNyeXB0b19saWJfMS5zaWduVXRpbC5zY2hub3JyLnNlY3AyNTZrMS5zY2hub3JyOwpjb25zdCBkZWZhdWx0VHhWZXJzaW9uID0gMjsKY29uc3QgZGVmYXVsdFNlcXVlbmNlTnVtID0gMHhmZmZmZmZmZDsKY29uc3QgZGVmYXVsdFJldmVhbE91dFZhbHVlID0gNTQ2Owpjb25zdCBkZWZhdWx0TWluQ2hhbmdlVmFsdWUgPSA1NDY7CmNvbnN0IG1heFN0YW5kYXJkVHhXZWlnaHQgPSA0MDAwMDAwIC8gMTA7CmNsYXNzIFJ1bmVzTWFpbkluc2NyaXB0aW9uVG9vbCB7CiAgY29uc3RydWN0b3IoKSB7CiAgICB0aGlzLm5ldHdvcmsgPSBiaXRjb2luLm5ldHdvcmtzLmJpdGNvaW47CiAgICB0aGlzLmluc2NyaXB0aW9uVHhDdHhEYXRhTGlzdCA9IFtdOwogICAgdGhpcy5yZXZlYWxUeHMgPSBbXTsKICAgIHRoaXMuY29tbWl0VHggPSBuZXcgYml0Y29pbi5UcmFuc2FjdGlvbigpOwogICAgdGhpcy5jb21taXRUeFByZXZPdXRwdXRGZXRjaGVyID0gW107CiAgICB0aGlzLnJldmVhbFR4UHJldk91dHB1dEZldGNoZXIgPSBbXTsKICAgIHRoaXMubXVzdENvbW1pdFR4RmVlID0gMDsKICAgIHRoaXMubXVzdFJldmVhbFR4RmVlcyA9IFtdOwogICAgdGhpcy5jb21taXRBZGRycyA9IFtdOwogIH0KICBzdGF0aWMgbmV3SW5zY3JpcHRpb25Ub29sKG5ldHdvcmssIHJlcXVlc3QpIHsKICAgIGNvbnN0IHRvb2wgPSBuZXcgUnVuZXNNYWluSW5zY3JpcHRpb25Ub29sKCk7CiAgICB0b29sLm5ldHdvcmsgPSBuZXR3b3JrOwogICAgY29uc3QgcmV2ZWFsT3V0VmFsdWUgPSByZXF1ZXN0LnJldmVhbE91dFZhbHVlIHx8IGRlZmF1bHRSZXZlYWxPdXRWYWx1ZTsKICAgIGNvbnN0IG1pbkNoYW5nZVZhbHVlID0gcmVxdWVzdC5taW5DaGFuZ2VWYWx1ZSB8fCBkZWZhdWx0TWluQ2hhbmdlVmFsdWU7CiAgICBjb25zdCB1c2VEZWZhdWx0T3V0cHV0ID0gcmVxdWVzdC5ydW5lRGF0YS51c2VEZWZhdWx0T3V0cHV0IHx8IGZhbHNlOwogICAgY29uc3QgZGVmYXVsdE91dHB1dCA9IHJlcXVlc3QucnVuZURhdGEuZGVmYXVsdE91dHB1dCB8fCAwOwogICAgY29uc3QgcHJpdmF0ZUtleSA9IHJlcXVlc3QuY29tbWl0VHhQcmV2T3V0cHV0TGlzdFswXS5wcml2YXRlS2V5OwogICAgaWYgKCFyZXF1ZXN0LnJ1bmVEYXRhLmV0Y2hpbmcpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJldGNoaW5nIGlzIG51bGwiKTsKICAgIH0KICAgIGlmICghY2hlY2tFdGNoaW5nKHJlcXVlc3QucnVuZURhdGEuZXRjaGluZykpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGV0Y2hpbmcgcGFyYW1ldGVyIik7CiAgICB9CiAgICBsZXQgZXRjaGluZyA9IHJlcXVlc3QucnVuZURhdGEuZXRjaGluZzsKICAgIGxldCBydW5lQ29tbWl0bWVudCA9ICgwLCBydW5lc3RvbmVzXzEuY29tbWl0bWVudCkoZXRjaGluZy5ydW5lKTsKICAgIGxldCBydW5lT3BSZXR1cm5EYXRhID0gYnVpbGRSdW5lTWFpbkRlcGxveURhdGEoZXRjaGluZywgdXNlRGVmYXVsdE91dHB1dCwgZGVmYXVsdE91dHB1dCk7CiAgICBpZiAocmVxdWVzdC5ydW5lRGF0YS5ldGNoaW5nLmNvbnRlbnRUeXBlICYmIHJlcXVlc3QucnVuZURhdGEuZXRjaGluZy5ib2R5KSB7CiAgICAgIHRvb2wuaW5zY3JpcHRpb25UeEN0eERhdGFMaXN0LnB1c2goY3JlYXRlSW5zY3JpcHRpb25UeEN0eERhdGEobmV0d29yaywgewogICAgICAgIGNvbnRlbnRUeXBlOiByZXF1ZXN0LnJ1bmVEYXRhLmV0Y2hpbmcuY29udGVudFR5cGUsCiAgICAgICAgYm9keTogcmVxdWVzdC5ydW5lRGF0YS5ldGNoaW5nLmJvZHksCiAgICAgICAgcmV2ZWFsQWRkcjogcmVxdWVzdC5ydW5lRGF0YS5yZXZlYWxBZGRyCiAgICAgIH0sIHByaXZhdGVLZXksIHJ1bmVDb21taXRtZW50KSk7CiAgICB9IGVsc2UgewogICAgICB0b29sLmluc2NyaXB0aW9uVHhDdHhEYXRhTGlzdC5wdXNoKGNyZWF0ZUNvbW1pdG1lbnRTY3JpcHQobmV0d29yaywgcHJpdmF0ZUtleSwgcmVxdWVzdC5ydW5lRGF0YS5yZXZlYWxBZGRyLCBydW5lQ29tbWl0bWVudCkpOwogICAgfQogICAgY29uc3QgdG90YWxSZXZlYWxQcmV2T3V0cHV0VmFsdWUgPSB0b29sLmJ1aWxkRW1wdHlSZXZlYWxUeChuZXR3b3JrLCByZXZlYWxPdXRWYWx1ZSwgcmVxdWVzdC5yZXZlYWxGZWVSYXRlLCBydW5lT3BSZXR1cm5EYXRhKTsKICAgIGNvbnN0IGluc3VmZmljaWVudCA9IHRvb2wuYnVpbGRDb21taXRUeChuZXR3b3JrLCByZXF1ZXN0LmNvbW1pdFR4UHJldk91dHB1dExpc3QsIHJlcXVlc3QuY2hhbmdlQWRkcmVzcywgdG90YWxSZXZlYWxQcmV2T3V0cHV0VmFsdWUsIHJlcXVlc3QuY29tbWl0RmVlUmF0ZSwgbWluQ2hhbmdlVmFsdWUpOwogICAgaWYgKGluc3VmZmljaWVudCkgewogICAgICByZXR1cm4gdG9vbDsKICAgIH0KICAgIHRvb2wuc2lnbkNvbW1pdFR4KHJlcXVlc3QuY29tbWl0VHhQcmV2T3V0cHV0TGlzdCk7CiAgICB0b29sLmNvbXBsZXRlUmV2ZWFsVHgoKTsKICAgIHJldHVybiB0b29sOwogIH0KICBidWlsZEVtcHR5UmV2ZWFsVHgobmV0d29yaywgcmV2ZWFsT3V0VmFsdWUsIHJldmVhbEZlZVJhdGUsIG9wUmV0dXJuRGF0YSkgewogICAgbGV0IHRvdGFsUHJldk91dHB1dFZhbHVlID0gMDsKICAgIGNvbnN0IHJldmVhbFR4cyA9IFtdOwogICAgY29uc3QgbXVzdFJldmVhbFR4RmVlcyA9IFtdOwogICAgY29uc3QgY29tbWl0QWRkcnMgPSBbXTsKICAgIHRoaXMuaW5zY3JpcHRpb25UeEN0eERhdGFMaXN0LmZvckVhY2goKGluc2NyaXB0aW9uVHhDdHhEYXRhLCBpKSA9PiB7CiAgICAgIGNvbnN0IHR4ID0gbmV3IGJpdGNvaW4uVHJhbnNhY3Rpb24oKTsKICAgICAgdHgudmVyc2lvbiA9IGRlZmF1bHRUeFZlcnNpb247CiAgICAgIHR4LmFkZElucHV0KEJ1ZmZlci5hbGxvYygzMiksIGksIGRlZmF1bHRTZXF1ZW5jZU51bSk7CiAgICAgIGlmIChvcFJldHVybkRhdGEpIHsKICAgICAgICB0eC5hZGRPdXRwdXQob3BSZXR1cm5EYXRhLCAwKTsKICAgICAgfQogICAgICB0eC5hZGRPdXRwdXQoaW5zY3JpcHRpb25UeEN0eERhdGEucmV2ZWFsUGtTY3JpcHQsIHJldmVhbE91dFZhbHVlKTsKICAgICAgY29uc3QgZW1wdHlTaWduYXR1cmUgPSBCdWZmZXIuYWxsb2MoNjQpOwogICAgICBjb25zdCBlbXB0eUNvbnRyb2xCbG9ja1dpdG5lc3MgPSBCdWZmZXIuYWxsb2MoMzMpOwogICAgICBjb25zdCB0eFdpdG5lc3MgPSBbXTsKICAgICAgdHhXaXRuZXNzLnB1c2goZW1wdHlTaWduYXR1cmUpOwogICAgICB0eFdpdG5lc3MucHVzaChpbnNjcmlwdGlvblR4Q3R4RGF0YS5pbnNjcmlwdGlvblNjcmlwdCk7CiAgICAgIHR4V2l0bmVzcy5wdXNoKGVtcHR5Q29udHJvbEJsb2NrV2l0bmVzcyk7CiAgICAgIGNvbnN0IGZlZSA9IE1hdGguZmxvb3IoKHR4LmJ5dGVMZW5ndGgoKSArIE1hdGguZmxvb3IoKCgwLCB0cmFuc2FjdGlvbl8xLnZlY3RvclNpemUpKHR4V2l0bmVzcykgKyAyICsgMykgLyA0KSkgKiByZXZlYWxGZWVSYXRlKTsKICAgICAgY29uc3QgcHJldk91dHB1dFZhbHVlID0gcmV2ZWFsT3V0VmFsdWUgKyBmZWU7CiAgICAgIGluc2NyaXB0aW9uVHhDdHhEYXRhLnJldmVhbFR4UHJldk91dHB1dCA9IHsKICAgICAgICBwa1NjcmlwdDogaW5zY3JpcHRpb25UeEN0eERhdGEuY29tbWl0VHhBZGRyZXNzUGtTY3JpcHQsCiAgICAgICAgdmFsdWU6IHByZXZPdXRwdXRWYWx1ZQogICAgICB9OwogICAgICB0b3RhbFByZXZPdXRwdXRWYWx1ZSArPSBwcmV2T3V0cHV0VmFsdWU7CiAgICAgIHJldmVhbFR4cy5wdXNoKHR4KTsKICAgICAgbXVzdFJldmVhbFR4RmVlcy5wdXNoKGZlZSk7CiAgICAgIGNvbW1pdEFkZHJzLnB1c2goaW5zY3JpcHRpb25UeEN0eERhdGEuY29tbWl0VHhBZGRyZXNzKTsKICAgIH0pOwogICAgdGhpcy5yZXZlYWxUeHMgPSByZXZlYWxUeHM7CiAgICB0aGlzLm11c3RSZXZlYWxUeEZlZXMgPSBtdXN0UmV2ZWFsVHhGZWVzOwogICAgdGhpcy5jb21taXRBZGRycyA9IGNvbW1pdEFkZHJzOwogICAgcmV0dXJuIHRvdGFsUHJldk91dHB1dFZhbHVlOwogIH0KICBidWlsZENvbW1pdFR4KG5ldHdvcmssIGNvbW1pdFR4UHJldk91dHB1dExpc3QsIGNoYW5nZUFkZHJlc3MsIHRvdGFsUmV2ZWFsUHJldk91dHB1dFZhbHVlLCBjb21taXRGZWVSYXRlLCBtaW5DaGFuZ2VWYWx1ZSkgewogICAgbGV0IHRvdGFsU2VuZGVyQW1vdW50ID0gMDsKICAgIGNvbnN0IHR4ID0gbmV3IGJpdGNvaW4uVHJhbnNhY3Rpb24oKTsKICAgIHR4LnZlcnNpb24gPSBkZWZhdWx0VHhWZXJzaW9uOwogICAgY29tbWl0VHhQcmV2T3V0cHV0TGlzdC5mb3JFYWNoKGNvbW1pdFR4UHJldk91dHB1dCA9PiB7CiAgICAgIGNvbnN0IGhhc2ggPSBjcnlwdG9fbGliXzEuYmFzZS5yZXZlcnNlQnVmZmVyKGNyeXB0b19saWJfMS5iYXNlLmZyb21IZXgoY29tbWl0VHhQcmV2T3V0cHV0LnR4SWQpKTsKICAgICAgdHguYWRkSW5wdXQoaGFzaCwgY29tbWl0VHhQcmV2T3V0cHV0LnZPdXQsIGRlZmF1bHRTZXF1ZW5jZU51bSk7CiAgICAgIHRoaXMuY29tbWl0VHhQcmV2T3V0cHV0RmV0Y2hlci5wdXNoKGNvbW1pdFR4UHJldk91dHB1dC5hbW91bnQpOwogICAgICB0b3RhbFNlbmRlckFtb3VudCArPSBjb21taXRUeFByZXZPdXRwdXQuYW1vdW50OwogICAgfSk7CiAgICB0aGlzLmluc2NyaXB0aW9uVHhDdHhEYXRhTGlzdC5mb3JFYWNoKGluc2NyaXB0aW9uVHhDdHhEYXRhID0+IHsKICAgICAgdHguYWRkT3V0cHV0KGluc2NyaXB0aW9uVHhDdHhEYXRhLnJldmVhbFR4UHJldk91dHB1dC5wa1NjcmlwdCwgaW5zY3JpcHRpb25UeEN0eERhdGEucmV2ZWFsVHhQcmV2T3V0cHV0LnZhbHVlKTsKICAgIH0pOwogICAgY29uc3QgY2hhbmdlUGtTY3JpcHQgPSBiaXRjb2luLmFkZHJlc3MudG9PdXRwdXRTY3JpcHQoY2hhbmdlQWRkcmVzcywgbmV0d29yayk7CiAgICB0eC5hZGRPdXRwdXQoY2hhbmdlUGtTY3JpcHQsIDApOwogICAgY29uc3QgdHhGb3JFc3RpbWF0ZSA9IHR4LmNsb25lKCk7CiAgICBzaWduVHgodHhGb3JFc3RpbWF0ZSwgY29tbWl0VHhQcmV2T3V0cHV0TGlzdCwgdGhpcy5uZXR3b3JrKTsKICAgIGNvbnN0IHZzaXplID0gKDAsIHNpZ2Nvc3RfMS5jb3VudEFkanVzdGVkVnNpemUpKHR4Rm9yRXN0aW1hdGUsIGNvbW1pdFR4UHJldk91dHB1dExpc3QubWFwKGEgPT4gYS5hZGRyZXNzKSwgbmV0d29yayk7CiAgICBjb25zdCBmZWUgPSBNYXRoLmZsb29yKHZzaXplICogY29tbWl0RmVlUmF0ZSk7CiAgICBjb25zdCBjaGFuZ2VBbW91bnQgPSB0b3RhbFNlbmRlckFtb3VudCAtIHRvdGFsUmV2ZWFsUHJldk91dHB1dFZhbHVlIC0gZmVlOwogICAgaWYgKGNoYW5nZUFtb3VudCA+PSBtaW5DaGFuZ2VWYWx1ZSkgewogICAgICB0eC5vdXRzW3R4Lm91dHMubGVuZ3RoIC0gMV0udmFsdWUgPSBjaGFuZ2VBbW91bnQ7CiAgICB9IGVsc2UgewogICAgICB0eC5vdXRzID0gdHgub3V0cy5zbGljZSgwLCB0eC5vdXRzLmxlbmd0aCAtIDEpOwogICAgICB0eEZvckVzdGltYXRlLm91dHMgPSB0eEZvckVzdGltYXRlLm91dHMuc2xpY2UoMCwgdHhGb3JFc3RpbWF0ZS5vdXRzLmxlbmd0aCAtIDEpOwogICAgICBjb25zdCB2c2l6ZVdpdGhvdXRDaGFuZ2UgPSAoMCwgc2lnY29zdF8xLmNvdW50QWRqdXN0ZWRWc2l6ZSkodHhGb3JFc3RpbWF0ZSwgY29tbWl0VHhQcmV2T3V0cHV0TGlzdC5tYXAoYSA9PiBhLmFkZHJlc3MpLCBuZXR3b3JrKTsKICAgICAgY29uc3QgZmVlV2l0aG91dENoYW5nZSA9IE1hdGguZmxvb3IodnNpemVXaXRob3V0Q2hhbmdlICogY29tbWl0RmVlUmF0ZSk7CiAgICAgIGlmICh0b3RhbFNlbmRlckFtb3VudCAtIHRvdGFsUmV2ZWFsUHJldk91dHB1dFZhbHVlIC0gZmVlV2l0aG91dENoYW5nZSA8IDApIHsKICAgICAgICB0aGlzLm11c3RDb21taXRUeEZlZSA9IGZlZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfQogICAgdGhpcy5jb21taXRUeCA9IHR4OwogICAgcmV0dXJuIGZhbHNlOwogIH0KICBzaWduQ29tbWl0VHgoY29tbWl0VHhQcmV2T3V0cHV0TGlzdCkgewogICAgc2lnblR4KHRoaXMuY29tbWl0VHgsIGNvbW1pdFR4UHJldk91dHB1dExpc3QsIHRoaXMubmV0d29yayk7CiAgfQogIGNvbXBsZXRlUmV2ZWFsVHgoKSB7CiAgICB0aGlzLnJldmVhbFR4cy5mb3JFYWNoKChyZXZlYWxUeCwgaSkgPT4gewogICAgICByZXZlYWxUeC5pbnNbMF0uaGFzaCA9IHRoaXMuY29tbWl0VHguZ2V0SGFzaCgpOwogICAgICBjb25zdCBwcmV2T3V0U2NyaXB0cyA9IFt0aGlzLmluc2NyaXB0aW9uVHhDdHhEYXRhTGlzdFtpXS5yZXZlYWxUeFByZXZPdXRwdXQucGtTY3JpcHRdOwogICAgICBjb25zdCB2YWx1ZXMgPSBbdGhpcy5pbnNjcmlwdGlvblR4Q3R4RGF0YUxpc3RbaV0ucmV2ZWFsVHhQcmV2T3V0cHV0LnZhbHVlXTsKICAgICAgdGhpcy5yZXZlYWxUeFByZXZPdXRwdXRGZXRjaGVyLnB1c2godGhpcy5pbnNjcmlwdGlvblR4Q3R4RGF0YUxpc3RbaV0ucmV2ZWFsVHhQcmV2T3V0cHV0LnZhbHVlKTsKICAgICAgY29uc3QgaGFzaCA9IHJldmVhbFR4Lmhhc2hGb3JXaXRuZXNzVjEoMCwgcHJldk91dFNjcmlwdHMsIHZhbHVlcywgYml0Y29pbi5UcmFuc2FjdGlvbi5TSUdIQVNIX0RFRkFVTFQsIHRoaXMuaW5zY3JpcHRpb25UeEN0eERhdGFMaXN0W2ldLmhhc2gpOwogICAgICBjb25zdCBzaWduYXR1cmUgPSBCdWZmZXIuZnJvbShzY2hub3JyLnNpZ24oaGFzaCwgdGhpcy5pbnNjcmlwdGlvblR4Q3R4RGF0YUxpc3RbaV0ucHJpdmF0ZUtleSwgY3J5cHRvX2xpYl8xLmJhc2UucmFuZG9tQnl0ZXMoMzIpKSk7CiAgICAgIHJldmVhbFR4Lmluc1swXS53aXRuZXNzID0gW0J1ZmZlci5mcm9tKHNpZ25hdHVyZSksIC4uLnRoaXMuaW5zY3JpcHRpb25UeEN0eERhdGFMaXN0W2ldLndpdG5lc3NdOwogICAgICBjb25zdCByZXZlYWxXZWlnaHQgPSByZXZlYWxUeC53ZWlnaHQoKTsKICAgICAgaWYgKHJldmVhbFdlaWdodCA+IG1heFN0YW5kYXJkVHhXZWlnaHQpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHJldmVhbChpbmRleCAke2l9KSB0cmFuc2FjdGlvbiB3ZWlnaHQgZ3JlYXRlciB0aGFuICR7bWF4U3RhbmRhcmRUeFdlaWdodH0gKE1BWF9TVEFOREFSRF9UWF9XRUlHSFQpOiAke3JldmVhbFdlaWdodH1gKTsKICAgICAgfQogICAgfSk7CiAgfQogIGNhbGN1bGF0ZUZlZSgpIHsKICAgIGxldCBjb21taXRUeEZlZSA9IDA7CiAgICB0aGlzLmNvbW1pdFR4Lmlucy5mb3JFYWNoKChfLCBpKSA9PiB7CiAgICAgIGNvbW1pdFR4RmVlICs9IHRoaXMuY29tbWl0VHhQcmV2T3V0cHV0RmV0Y2hlcltpXTsKICAgIH0pOwogICAgdGhpcy5jb21taXRUeC5vdXRzLmZvckVhY2gob3V0ID0+IHsKICAgICAgY29tbWl0VHhGZWUgLT0gb3V0LnZhbHVlOwogICAgfSk7CiAgICBsZXQgcmV2ZWFsVHhGZWVzID0gW107CiAgICB0aGlzLnJldmVhbFR4cy5mb3JFYWNoKChyZXZlYWxUeCwgaSkgPT4gewogICAgICBsZXQgcmV2ZWFsVHhGZWUgPSAwOwogICAgICByZXZlYWxUeEZlZSArPSB0aGlzLnJldmVhbFR4UHJldk91dHB1dEZldGNoZXJbaV07CiAgICAgIHJldmVhbFR4RmVlIC09IHJldmVhbFR4Lm91dHNbMF0udmFsdWU7CiAgICAgIHJldmVhbFR4RmVlcy5wdXNoKHJldmVhbFR4RmVlKTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgY29tbWl0VHhGZWUsCiAgICAgIHJldmVhbFR4RmVlcwogICAgfTsKICB9Cn0KZXhwb3J0cy5SdW5lc01haW5JbnNjcmlwdGlvblRvb2wgPSBSdW5lc01haW5JbnNjcmlwdGlvblRvb2w7CmV4cG9ydHMudWludDEyOE1heCA9IChCaWdJbnQoMSkgPDwgQmlnSW50KDEyOCkpIC0gQmlnSW50KDEpOwpleHBvcnRzLnVpbnQ2NE1heCA9IChCaWdJbnQoMSkgPDwgQmlnSW50KDY0KSkgLSBCaWdJbnQoMSk7CmNvbnN0IE1BWF9ESVZJU0lCSUxJVFkgPSAzODsKZXhwb3J0cy5NQVhfU1BBQ0VSUyA9IDEzNDIxNzcyNzsKZnVuY3Rpb24gY2hlY2tFdGNoaW5nKGUpIHsKICBsZXQgcHJlbWluZSA9IGUucHJlbWluZSA/IEJpZ0ludChlLnByZW1pbmUpIDogQmlnSW50KDApOwogIGlmIChwcmVtaW5lID4gZXhwb3J0cy51aW50MTI4TWF4IHx8IHByZW1pbmUgPCAwKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQogIGlmIChlLnRlcm1zKSB7CiAgICBsZXQgYW1vdW50ID0gZS50ZXJtcy5hbW91bnQgPyBCaWdJbnQoZS50ZXJtcy5hbW91bnQpIDogQmlnSW50KDApOwogICAgbGV0IGNhcCA9IGUudGVybXMuY2FwID8gQmlnSW50KGUudGVybXMuY2FwKSA6IEJpZ0ludCgwKTsKICAgIGlmIChhbW91bnQgPCAwIHx8IGFtb3VudCA+IGV4cG9ydHMudWludDEyOE1heCB8fCBjYXAgPCAwIHx8IGNhcCA+IGV4cG9ydHMudWludDEyOE1heCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICBpZiAoYW1vdW50ICogY2FwID4gZXhwb3J0cy51aW50MTI4TWF4KSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIGxldCBzdXBwbHkgPSBwcmVtaW5lICsgYW1vdW50ICogY2FwOwogICAgaWYgKHN1cHBseSA+IGV4cG9ydHMudWludDEyOE1heCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICBpZiAoZS50ZXJtcy5oZWlnaHQpIHsKICAgICAgaWYgKGUudGVybXMuaGVpZ2h0LnN0YXJ0KSB7CiAgICAgICAgaWYgKGUudGVybXMuaGVpZ2h0LnN0YXJ0IDwgMCB8fCBlLnRlcm1zLmhlaWdodC5zdGFydCA+IGV4cG9ydHMudWludDY0TWF4KSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChlLnRlcm1zLmhlaWdodC5lbmQpIHsKICAgICAgICBpZiAoZS50ZXJtcy5oZWlnaHQuZW5kIDwgMCB8fCBlLnRlcm1zLmhlaWdodC5lbmQgPiBleHBvcnRzLnVpbnQ2NE1heCkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KICBpZiAoZS5kaXZpc2liaWxpdHkpIHsKICAgIGlmIChlLmRpdmlzaWJpbGl0eSA8IDAgfHwgZS5kaXZpc2liaWxpdHkgPiBNQVhfRElWSVNJQklMSVRZKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9CiAgaWYgKHR5cGVvZiBlLnJ1bmUudmFsdWUgPT09ICJzdHJpbmciKSB7CiAgICBsZXQgc3BhY2VycyA9ICgwLCBydW5lc3RvbmVzXzEuZ2V0U3BhY2Vyc1ZhbCkoZS5ydW5lLnZhbHVlKTsKICAgIGlmIChzcGFjZXJzID4gZXhwb3J0cy5NQVhfU1BBQ0VSUykgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICBsZXQgdiA9ICgwLCBydW5lc3RvbmVzXzEuYmFzZTI2RW5jb2RlKSgoMCwgcnVuZXN0b25lc18xLnJlbW92ZVNwYWNlcnMpKGUucnVuZS52YWx1ZSkpOwogICAgaWYgKHYgPiBleHBvcnRzLnVpbnQxMjhNYXgpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0KICByZXR1cm4gdHJ1ZTsKfQpleHBvcnRzLmNoZWNrRXRjaGluZyA9IGNoZWNrRXRjaGluZzsKZnVuY3Rpb24gcnVuZXNNYWluSW5zY3JpYmUobmV0d29yaywgcmVxdWVzdCkgewogIGNvbnN0IHRvb2wgPSBSdW5lc01haW5JbnNjcmlwdGlvblRvb2wubmV3SW5zY3JpcHRpb25Ub29sKG5ldHdvcmssIHJlcXVlc3QpOwogIGlmICh0b29sLm11c3RDb21taXRUeEZlZSA+IDApIHsKICAgIHJldHVybiB7CiAgICAgIGNvbW1pdFR4OiAiIiwKICAgICAgcmV2ZWFsVHhzOiBbXSwKICAgICAgY29tbWl0VHhGZWU6IHRvb2wubXVzdENvbW1pdFR4RmVlLAogICAgICByZXZlYWxUeEZlZXM6IHRvb2wubXVzdFJldmVhbFR4RmVlcywKICAgICAgY29tbWl0QWRkcnM6IHRvb2wuY29tbWl0QWRkcnMKICAgIH07CiAgfQogIHJldHVybiB7CiAgICBjb21taXRUeDogdG9vbC5jb21taXRUeC50b0hleCgpLAogICAgcmV2ZWFsVHhzOiB0b29sLnJldmVhbFR4cy5tYXAocmV2ZWFsVHggPT4gcmV2ZWFsVHgudG9IZXgoKSksCiAgICAuLi50b29sLmNhbGN1bGF0ZUZlZSgpLAogICAgY29tbWl0QWRkcnM6IHRvb2wuY29tbWl0QWRkcnMKICB9Owp9CmV4cG9ydHMucnVuZXNNYWluSW5zY3JpYmUgPSBydW5lc01haW5JbnNjcmliZTsKZnVuY3Rpb24gc2lnblR4KHR4LCBjb21taXRUeFByZXZPdXRwdXRMaXN0LCBuZXR3b3JrKSB7CiAgdHguaW5zLmZvckVhY2goKGlucHV0LCBpKSA9PiB7CiAgICBjb25zdCBhZGRyZXNzVHlwZSA9ICgwLCB0eEJ1aWxkXzEuZ2V0QWRkcmVzc1R5cGUpKGNvbW1pdFR4UHJldk91dHB1dExpc3RbaV0uYWRkcmVzcywgbmV0d29yayk7CiAgICBjb25zdCBwcml2YXRlS2V5ID0gY3J5cHRvX2xpYl8xLmJhc2UuZnJvbUhleCgoMCwgdHhCdWlsZF8xLnByaXZhdGVLZXlGcm9tV0lGKShjb21taXRUeFByZXZPdXRwdXRMaXN0W2ldLnByaXZhdGVLZXksIG5ldHdvcmspKTsKICAgIGNvbnN0IHByaXZhdGVLZXlIZXggPSBjcnlwdG9fbGliXzEuYmFzZS50b0hleChwcml2YXRlS2V5KTsKICAgIGNvbnN0IHB1YmxpY0tleSA9ICgwLCB0eEJ1aWxkXzEucHJpdmF0ZTJwdWJsaWMpKHByaXZhdGVLZXlIZXgpOwogICAgaWYgKGFkZHJlc3NUeXBlID09PSAnc2Vnd2l0X3RhcHJvb3QnKSB7CiAgICAgIGNvbnN0IHByZXZPdXRTY3JpcHRzID0gY29tbWl0VHhQcmV2T3V0cHV0TGlzdC5tYXAobyA9PiBiaXRjb2luLmFkZHJlc3MudG9PdXRwdXRTY3JpcHQoby5hZGRyZXNzLCBuZXR3b3JrKSk7CiAgICAgIGNvbnN0IHZhbHVlcyA9IGNvbW1pdFR4UHJldk91dHB1dExpc3QubWFwKG8gPT4gby5hbW91bnQpOwogICAgICBjb25zdCBoYXNoID0gdHguaGFzaEZvcldpdG5lc3NWMShpLCBwcmV2T3V0U2NyaXB0cywgdmFsdWVzLCBiaXRjb2luLlRyYW5zYWN0aW9uLlNJR0hBU0hfREVGQVVMVCk7CiAgICAgIGNvbnN0IHR3ZWFrZWRQcml2S2V5ID0gdGFwcm9vdC50YXByb290VHdlYWtQcml2S2V5KHByaXZhdGVLZXkpOwogICAgICBjb25zdCBzaWduYXR1cmUgPSBCdWZmZXIuZnJvbShzY2hub3JyLnNpZ24oaGFzaCwgdHdlYWtlZFByaXZLZXksIGNyeXB0b19saWJfMS5iYXNlLnJhbmRvbUJ5dGVzKDMyKSkpOwogICAgICBpbnB1dC53aXRuZXNzID0gW0J1ZmZlci5mcm9tKHNpZ25hdHVyZSldOwogICAgfSBlbHNlIGlmIChhZGRyZXNzVHlwZSA9PT0gJ2xlZ2FjeScpIHsKICAgICAgY29uc3QgcHJldlNjcmlwdCA9IGJpdGNvaW4uYWRkcmVzcy50b091dHB1dFNjcmlwdChjb21taXRUeFByZXZPdXRwdXRMaXN0W2ldLmFkZHJlc3MsIG5ldHdvcmspOwogICAgICBjb25zdCBoYXNoID0gdHguaGFzaEZvclNpZ25hdHVyZShpLCBwcmV2U2NyaXB0LCBiaXRjb2luLlRyYW5zYWN0aW9uLlNJR0hBU0hfQUxMKTsKICAgICAgY29uc3Qgc2lnbmF0dXJlID0gKDAsIHR4QnVpbGRfMS5zaWduKShoYXNoLCBwcml2YXRlS2V5SGV4KTsKICAgICAgY29uc3QgcGF5bWVudCA9IGJpdGNvaW4ucGF5bWVudHMucDJwa2goewogICAgICAgIHNpZ25hdHVyZTogYml0Y29pbi5zY3JpcHQuc2lnbmF0dXJlLmVuY29kZShzaWduYXR1cmUsIGJpdGNvaW4uVHJhbnNhY3Rpb24uU0lHSEFTSF9BTEwpLAogICAgICAgIHB1YmtleTogcHVibGljS2V5CiAgICAgIH0pOwogICAgICBpbnB1dC5zY3JpcHQgPSBwYXltZW50LmlucHV0OwogICAgfSBlbHNlIHsKICAgICAgY29uc3QgcHViS2V5SGFzaCA9IGJjcnlwdG8uaGFzaDE2MChwdWJsaWNLZXkpOwogICAgICBjb25zdCBwcmV2T3V0U2NyaXB0ID0gQnVmZmVyLm9mKDB4MTksIDB4NzYsIDB4YTksIDB4MTQsIC4uLnB1YktleUhhc2gsIDB4ODgsIDB4YWMpOwogICAgICBjb25zdCB2YWx1ZSA9IGNvbW1pdFR4UHJldk91dHB1dExpc3RbaV0uYW1vdW50OwogICAgICBjb25zdCBoYXNoID0gdHguaGFzaEZvcldpdG5lc3MoaSwgcHJldk91dFNjcmlwdCwgdmFsdWUsIGJpdGNvaW4uVHJhbnNhY3Rpb24uU0lHSEFTSF9BTEwpOwogICAgICBjb25zdCBzaWduYXR1cmUgPSAoMCwgdHhCdWlsZF8xLnNpZ24pKGhhc2gsIHByaXZhdGVLZXlIZXgpOwogICAgICBpbnB1dC53aXRuZXNzID0gW2JpdGNvaW4uc2NyaXB0LnNpZ25hdHVyZS5lbmNvZGUoc2lnbmF0dXJlLCBiaXRjb2luLlRyYW5zYWN0aW9uLlNJR0hBU0hfQUxMKSwgcHVibGljS2V5XTsKICAgICAgY29uc3QgcmVkZWVtU2NyaXB0ID0gQnVmZmVyLm9mKDB4MTYsIDAsIDIwLCAuLi5wdWJLZXlIYXNoKTsKICAgICAgaWYgKGFkZHJlc3NUeXBlID09PSAic2Vnd2l0X25lc3RlZCIpIHsKICAgICAgICBpbnB1dC5zY3JpcHQgPSByZWRlZW1TY3JpcHQ7CiAgICAgIH0KICAgIH0KICB9KTsKfQpmdW5jdGlvbiBjcmVhdGVDb21taXRtZW50U2NyaXB0KG5ldHdvcmssIHByaXZhdGVLZXlXaWYsIHJldmVhbEFkZHIsIGNvbW1pdG1lbnQpIHsKICBjb25zdCBwcml2YXRlS2V5ID0gY3J5cHRvX2xpYl8xLmJhc2UuZnJvbUhleCgoMCwgdHhCdWlsZF8xLnByaXZhdGVLZXlGcm9tV0lGKShwcml2YXRlS2V5V2lmLCBuZXR3b3JrKSk7CiAgY29uc3QgaW50ZXJuYWxQdWJLZXkgPSAoMCwgdHhCdWlsZF8xLndpZjJQdWJsaWMpKHByaXZhdGVLZXlXaWYsIG5ldHdvcmspLnNsaWNlKDEpOwogIGNvbnN0IGluc2NyaXB0aW9uQnVpbGRlciA9IFtdOwogIGluc2NyaXB0aW9uQnVpbGRlci5wdXNoKGludGVybmFsUHViS2V5KTsKICBjb25zdCBvcHMgPSBiaXRjb2luLnNjcmlwdC5PUFM7CiAgaW5zY3JpcHRpb25CdWlsZGVyLnB1c2gob3BzLk9QX0NIRUNLU0lHKTsKICBpbnNjcmlwdGlvbkJ1aWxkZXIucHVzaChvcHMuT1BfRkFMU0UpOwogIGluc2NyaXB0aW9uQnVpbGRlci5wdXNoKG9wcy5PUF9JRik7CiAgaW5zY3JpcHRpb25CdWlsZGVyLnB1c2goY29tbWl0bWVudCk7CiAgaW5zY3JpcHRpb25CdWlsZGVyLnB1c2gob3BzLk9QX0VORElGKTsKICBsZXQgaW5zY3JpcHRpb25TY3JpcHQgPSBiaXRjb2luLnNjcmlwdC5jb21waWxlKGluc2NyaXB0aW9uQnVpbGRlcik7CiAgY29uc3Qgc2NyaXB0VHJlZSA9IHsKICAgIG91dHB1dDogaW5zY3JpcHRpb25TY3JpcHQKICB9OwogIGNvbnN0IHJlZGVlbSA9IHsKICAgIG91dHB1dDogaW5zY3JpcHRpb25TY3JpcHQsCiAgICByZWRlZW1WZXJzaW9uOiAweGMwCiAgfTsKICBjb25zdCB7CiAgICBvdXRwdXQsCiAgICB3aXRuZXNzLAogICAgaGFzaCwKICAgIGFkZHJlc3MKICB9ID0gYml0Y29pbi5wYXltZW50cy5wMnRyKHsKICAgIGludGVybmFsUHVia2V5OiBpbnRlcm5hbFB1YktleSwKICAgIHNjcmlwdFRyZWUsCiAgICByZWRlZW0sCiAgICBuZXR3b3JrCiAgfSk7CiAgcmV0dXJuIHsKICAgIHByaXZhdGVLZXksCiAgICBpbnNjcmlwdGlvblNjcmlwdCwKICAgIGNvbW1pdFR4QWRkcmVzczogYWRkcmVzcywKICAgIGNvbW1pdFR4QWRkcmVzc1BrU2NyaXB0OiBvdXRwdXQsCiAgICB3aXRuZXNzOiB3aXRuZXNzLAogICAgaGFzaDogaGFzaCwKICAgIHJldmVhbFR4UHJldk91dHB1dDogewogICAgICBwa1NjcmlwdDogQnVmZmVyLmFsbG9jKDApLAogICAgICB2YWx1ZTogMAogICAgfSwKICAgIHJldmVhbFBrU2NyaXB0OiBiaXRjb2luLmFkZHJlc3MudG9PdXRwdXRTY3JpcHQocmV2ZWFsQWRkciwgbmV0d29yaykKICB9Owp9CmZ1bmN0aW9uIGNyZWF0ZUluc2NyaXB0aW9uVHhDdHhEYXRhKG5ldHdvcmssIGluc2NyaXB0aW9uRGF0YSwgcHJpdmF0ZUtleVdpZiwgaW5zY3JpcHRpb25BZGREYXRhKSB7CiAgY29uc3QgcHJpdmF0ZUtleSA9IGNyeXB0b19saWJfMS5iYXNlLmZyb21IZXgoKDAsIHR4QnVpbGRfMS5wcml2YXRlS2V5RnJvbVdJRikocHJpdmF0ZUtleVdpZiwgbmV0d29yaykpOwogIGNvbnN0IGludGVybmFsUHViS2V5ID0gKDAsIHR4QnVpbGRfMS53aWYyUHVibGljKShwcml2YXRlS2V5V2lmLCBuZXR3b3JrKS5zbGljZSgxKTsKICBjb25zdCBvcHMgPSBiaXRjb2luLnNjcmlwdC5PUFM7CiAgY29uc3QgaW5zY3JpcHRpb25CdWlsZGVyID0gW107CiAgaW5zY3JpcHRpb25CdWlsZGVyLnB1c2goaW50ZXJuYWxQdWJLZXkpOwogIGluc2NyaXB0aW9uQnVpbGRlci5wdXNoKG9wcy5PUF9DSEVDS1NJRyk7CiAgaWYgKGluc2NyaXB0aW9uQWRkRGF0YSAmJiBpbnNjcmlwdGlvbkFkZERhdGEubGVuZ3RoID4gMCkgewogICAgaW5zY3JpcHRpb25CdWlsZGVyLnB1c2goaW5zY3JpcHRpb25BZGREYXRhKTsKICAgIGluc2NyaXB0aW9uQnVpbGRlci5wdXNoKG9wcy5PUF9EUk9QKTsKICB9CiAgaW5zY3JpcHRpb25CdWlsZGVyLnB1c2gob3BzLk9QX0ZBTFNFKTsKICBpbnNjcmlwdGlvbkJ1aWxkZXIucHVzaChvcHMuT1BfSUYpOwogIGluc2NyaXB0aW9uQnVpbGRlci5wdXNoKEJ1ZmZlci5mcm9tKCJvcmQiKSk7CiAgaW5zY3JpcHRpb25CdWlsZGVyLnB1c2gob3BzLk9QX0RBVEFfMSk7CiAgaW5zY3JpcHRpb25CdWlsZGVyLnB1c2gob3BzLk9QX0RBVEFfMSk7CiAgaW5zY3JpcHRpb25CdWlsZGVyLnB1c2goQnVmZmVyLmZyb20oaW5zY3JpcHRpb25EYXRhLmNvbnRlbnRUeXBlKSk7CiAgaW5zY3JpcHRpb25CdWlsZGVyLnB1c2gob3BzLk9QXzApOwogIGNvbnN0IG1heENodW5rU2l6ZSA9IDUyMDsKICBsZXQgYm9keSA9IEJ1ZmZlci5mcm9tKGluc2NyaXB0aW9uRGF0YS5ib2R5KTsKICBsZXQgYm9keVNpemUgPSBib2R5Lmxlbmd0aDsKICBmb3IgKGxldCBpID0gMDsgaSA8IGJvZHlTaXplOyBpICs9IG1heENodW5rU2l6ZSkgewogICAgbGV0IGVuZCA9IGkgKyBtYXhDaHVua1NpemU7CiAgICBpZiAoZW5kID4gYm9keVNpemUpIHsKICAgICAgZW5kID0gYm9keVNpemU7CiAgICB9CiAgICBpbnNjcmlwdGlvbkJ1aWxkZXIucHVzaChib2R5LnNsaWNlKGksIGVuZCkpOwogIH0KICBpbnNjcmlwdGlvbkJ1aWxkZXIucHVzaChvcHMuT1BfRU5ESUYpOwogIGNvbnN0IGluc2NyaXB0aW9uU2NyaXB0ID0gYml0Y29pbi5zY3JpcHQuY29tcGlsZShpbnNjcmlwdGlvbkJ1aWxkZXIpOwogIGNvbnN0IHNjcmlwdFRyZWUgPSB7CiAgICBvdXRwdXQ6IGluc2NyaXB0aW9uU2NyaXB0CiAgfTsKICBjb25zdCByZWRlZW0gPSB7CiAgICBvdXRwdXQ6IGluc2NyaXB0aW9uU2NyaXB0LAogICAgcmVkZWVtVmVyc2lvbjogMHhjMAogIH07CiAgY29uc3QgewogICAgb3V0cHV0LAogICAgd2l0bmVzcywKICAgIGhhc2gsCiAgICBhZGRyZXNzCiAgfSA9IGJpdGNvaW4ucGF5bWVudHMucDJ0cih7CiAgICBpbnRlcm5hbFB1YmtleTogaW50ZXJuYWxQdWJLZXksCiAgICBzY3JpcHRUcmVlLAogICAgcmVkZWVtLAogICAgbmV0d29yawogIH0pOwogIHJldHVybiB7CiAgICBwcml2YXRlS2V5LAogICAgaW5zY3JpcHRpb25TY3JpcHQsCiAgICBjb21taXRUeEFkZHJlc3M6IGFkZHJlc3MsCiAgICBjb21taXRUeEFkZHJlc3NQa1NjcmlwdDogb3V0cHV0LAogICAgd2l0bmVzczogd2l0bmVzcywKICAgIGhhc2g6IGhhc2gsCiAgICByZXZlYWxUeFByZXZPdXRwdXQ6IHsKICAgICAgcGtTY3JpcHQ6IEJ1ZmZlci5hbGxvYygwKSwKICAgICAgdmFsdWU6IDAKICAgIH0sCiAgICByZXZlYWxQa1NjcmlwdDogYml0Y29pbi5hZGRyZXNzLnRvT3V0cHV0U2NyaXB0KGluc2NyaXB0aW9uRGF0YS5yZXZlYWxBZGRyLCBuZXR3b3JrKQogIH07Cn0KZnVuY3Rpb24gaW5zY3JpYmUobmV0d29yaywgcmVxdWVzdCkgewogIGNvbnN0IHRvb2wgPSBSdW5lc01haW5JbnNjcmlwdGlvblRvb2wubmV3SW5zY3JpcHRpb25Ub29sKG5ldHdvcmssIHJlcXVlc3QpOwogIGlmICh0b29sLm11c3RDb21taXRUeEZlZSA+IDApIHsKICAgIHJldHVybiB7CiAgICAgIGNvbW1pdFR4OiAiIiwKICAgICAgcmV2ZWFsVHhzOiBbXSwKICAgICAgY29tbWl0VHhGZWU6IHRvb2wubXVzdENvbW1pdFR4RmVlLAogICAgICByZXZlYWxUeEZlZXM6IHRvb2wubXVzdFJldmVhbFR4RmVlcywKICAgICAgY29tbWl0QWRkcnM6IHRvb2wuY29tbWl0QWRkcnMKICAgIH07CiAgfQogIHJldHVybiB7CiAgICBjb21taXRUeDogdG9vbC5jb21taXRUeC50b0hleCgpLAogICAgcmV2ZWFsVHhzOiB0b29sLnJldmVhbFR4cy5tYXAocmV2ZWFsVHggPT4gcmV2ZWFsVHgudG9IZXgoKSksCiAgICAuLi50b29sLmNhbGN1bGF0ZUZlZSgpLAogICAgY29tbWl0QWRkcnM6IHRvb2wuY29tbWl0QWRkcnMKICB9Owp9CmV4cG9ydHMuaW5zY3JpYmUgPSBpbnNjcmliZTsKZnVuY3Rpb24gYnVpbGRSdW5lTWFpbkRlcGxveURhdGEoZXRjaGluZywgdXNlRGVmYXVsdE91dHB1dCwgZGVmYXVsdE91dHB1dCkgewogIGxldCBtc2cgPSBidWlsZE1lc3NhZ2UoZXRjaGluZywgdXNlRGVmYXVsdE91dHB1dCwgZGVmYXVsdE91dHB1dCk7CiAgbGV0IG1zZ0J1ZmYgPSB0b0J1ZmZlcihtc2cpOwogIGNvbnN0IHByZWZpeCA9IEJ1ZmZlci5mcm9tKCc2YTVkJywgJ2hleCcpOwogIGxldCBwdXNoTnVtOwogIGlmIChtc2dCdWZmLmxlbmd0aCA8IDB4NGMpIHsKICAgIHB1c2hOdW0gPSBCdWZmZXIuYWxsb2MoMSk7CiAgICBwdXNoTnVtLndyaXRlVWludDgobXNnQnVmZi5sZW5ndGgpOwogIH0gZWxzZSBpZiAobXNnQnVmZi5sZW5ndGggPCAweDEwMCkgewogICAgcHVzaE51bSA9IEJ1ZmZlci5hbGxvYygyKTsKICAgIHB1c2hOdW0ud3JpdGVVaW50OCgweDRjKTsKICAgIHB1c2hOdW0ud3JpdGVVaW50OChtc2dCdWZmLmxlbmd0aCwgMSk7CiAgfSBlbHNlIGlmIChtc2dCdWZmLmxlbmd0aCA8IDB4MTAwMDApIHsKICAgIHB1c2hOdW0gPSBCdWZmZXIuYWxsb2MoMyk7CiAgICBwdXNoTnVtLndyaXRlVWludDgoMHg0ZCk7CiAgICBwdXNoTnVtLndyaXRlVWludDE2TEUobXNnQnVmZi5sZW5ndGgsIDEpOwogIH0gZWxzZSBpZiAobXNnQnVmZi5sZW5ndGggPCAweDEwMDAwMDAwMCkgewogICAgcHVzaE51bSA9IEJ1ZmZlci5hbGxvYyg1KTsKICAgIHB1c2hOdW0ud3JpdGVVaW50OCgweDRlKTsKICAgIHB1c2hOdW0ud3JpdGVVaW50MzJMRShtc2dCdWZmLmxlbmd0aCwgMSk7CiAgfSBlbHNlIHsKICAgIHRocm93IG5ldyBFcnJvcigicnVuZXN0b25lIHRvbyBiaWchIik7CiAgfQogIHJldHVybiBic2NyaXB0LmNvbXBpbGUoQnVmZmVyLmNvbmNhdChbcHJlZml4LCBwdXNoTnVtLCBtc2dCdWZmXSkpOwp9CmV4cG9ydHMuYnVpbGRSdW5lTWFpbkRlcGxveURhdGEgPSBidWlsZFJ1bmVNYWluRGVwbG95RGF0YTsKZnVuY3Rpb24gdG9CdWZmZXIobXNnKSB7CiAgbGV0IGJ1ZmZBcnIgPSBbXTsKICBmb3IgKGNvbnN0IFt0YWcsIHZhbHNdIG9mIG1zZykgewogICAgZm9yIChjb25zdCB2YWwgb2YgdmFscykgewogICAgICBjb25zdCB0YWdCdWZmID0gQnVmZmVyLmFsbG9jKDEpOwogICAgICB0YWdCdWZmLndyaXRlVUludDgodGFnKTsKICAgICAgYnVmZkFyci5wdXNoKHRhZ0J1ZmYpOwogICAgICBidWZmQXJyLnB1c2goQnVmZmVyLmZyb20oKDAsIHJ1bmVzdG9uZXNfMS5lbmNvZGVMRUIxMjgpKHZhbCkpKTsKICAgIH0KICB9CiAgcmV0dXJuIEJ1ZmZlci5jb25jYXQoYnVmZkFycik7Cn0KZnVuY3Rpb24gYnVpbGRNZXNzYWdlKGV0Y2hpbmcsIHVzZURlZmF1bHRPdXRwdXQsIGRlZmF1bHRPdXRwdXQpIHsKICBsZXQgZmllbGRzID0gbmV3IE1hcCgpOwogIGxldCBmbGFncyA9IDE7CiAgaWYgKGV0Y2hpbmcudGVybXMpIHsKICAgIGxldCBtYXNrID0gMSA8PCBydW5lc3RvbmVzXzEuRmxhZy5UZXJtczsKICAgIGZsYWdzIHw9IG1hc2s7CiAgfQogIGlmIChldGNoaW5nLnR1cmJvKSB7CiAgICBsZXQgbWFzayA9IDEgPDwgcnVuZXN0b25lc18xLkZsYWcuVHVyYm87CiAgICBmbGFncyB8PSBtYXNrOwogIH0KICBmaWVsZHMuc2V0KHJ1bmVzdG9uZXNfMS5UYWcuRmxhZ3MsIFtCaWdJbnQoZmxhZ3MpXSk7CiAgbGV0IHJ1bmVWYWx1ZTsKICBpZiAodHlwZW9mIGV0Y2hpbmcucnVuZS52YWx1ZSA9PT0gJ3N0cmluZycpIHsKICAgIHJ1bmVWYWx1ZSA9ICgwLCBydW5lc3RvbmVzXzEuYmFzZTI2RW5jb2RlKSgoMCwgcnVuZXN0b25lc18xLnJlbW92ZVNwYWNlcnMpKGV0Y2hpbmcucnVuZS52YWx1ZSkpOwogIH0gZWxzZSB7CiAgICBydW5lVmFsdWUgPSBldGNoaW5nLnJ1bmUudmFsdWU7CiAgfQogIGZpZWxkcy5zZXQocnVuZXN0b25lc18xLlRhZy5SdW5lLCBbQmlnSW50KHJ1bmVWYWx1ZSldKTsKICBpZiAoZXRjaGluZy5kaXZpc2liaWxpdHkpIHsKICAgIGZpZWxkcy5zZXQocnVuZXN0b25lc18xLlRhZy5EaXZpc2liaWxpdHksIFtCaWdJbnQoZXRjaGluZy5kaXZpc2liaWxpdHkpXSk7CiAgfQogIGlmIChldGNoaW5nLnNwYWNlcnMpIHsKICAgIGZpZWxkcy5zZXQocnVuZXN0b25lc18xLlRhZy5TcGFjZXJzLCBbQmlnSW50KGV0Y2hpbmcuc3BhY2VycyldKTsKICB9IGVsc2UgewogICAgbGV0IHNwYWNlcnM7CiAgICBpZiAodHlwZW9mIGV0Y2hpbmcucnVuZS52YWx1ZSA9PT0gImJpZ2ludCIpIHsKICAgICAgc3BhY2VycyA9IDA7CiAgICB9IGVsc2UgewogICAgICBzcGFjZXJzID0gKDAsIHJ1bmVzdG9uZXNfMS5nZXRTcGFjZXJzVmFsKShldGNoaW5nLnJ1bmUudmFsdWUpOwogICAgfQogICAgaWYgKHNwYWNlcnMgIT09IDApIHsKICAgICAgZmllbGRzLnNldChydW5lc3RvbmVzXzEuVGFnLlNwYWNlcnMsIFtCaWdJbnQoc3BhY2VycyldKTsKICAgIH0KICB9CiAgaWYgKGV0Y2hpbmcuc3ltYm9sKSB7CiAgICBmaWVsZHMuc2V0KHJ1bmVzdG9uZXNfMS5UYWcuU3ltYm9sLCBbQmlnSW50KGV0Y2hpbmcuc3ltYm9sLmNoYXJDb2RlQXQoMCkpXSk7CiAgfQogIGlmIChldGNoaW5nLnByZW1pbmUpIHsKICAgIGZpZWxkcy5zZXQocnVuZXN0b25lc18xLlRhZy5QcmVtaW5lLCBbQmlnSW50KGV0Y2hpbmcucHJlbWluZSldKTsKICB9CiAgaWYgKGV0Y2hpbmcudGVybXMpIHsKICAgIGlmIChldGNoaW5nLnRlcm1zLmFtb3VudCkgewogICAgICBmaWVsZHMuc2V0KHJ1bmVzdG9uZXNfMS5UYWcuQW1vdW50LCBbQmlnSW50KGV0Y2hpbmcudGVybXMuYW1vdW50KV0pOwogICAgfQogICAgaWYgKGV0Y2hpbmcudGVybXMuY2FwKSB7CiAgICAgIGZpZWxkcy5zZXQocnVuZXN0b25lc18xLlRhZy5DYXAsIFtCaWdJbnQoZXRjaGluZy50ZXJtcy5jYXApXSk7CiAgICB9CiAgICBpZiAoZXRjaGluZy50ZXJtcy5oZWlnaHQpIHsKICAgICAgY29uc3QgaGVpZ2h0U3RhcnQgPSBldGNoaW5nLnRlcm1zLmhlaWdodC5zdGFydDsKICAgICAgaWYgKGhlaWdodFN0YXJ0KSB7CiAgICAgICAgZmllbGRzLnNldChydW5lc3RvbmVzXzEuVGFnLkhlaWdodFN0YXJ0LCBbQmlnSW50KGhlaWdodFN0YXJ0KV0pOwogICAgICB9CiAgICAgIGNvbnN0IGhlaWdodEVuZCA9IGV0Y2hpbmcudGVybXMuaGVpZ2h0LmVuZDsKICAgICAgaWYgKGhlaWdodEVuZCkgewogICAgICAgIGZpZWxkcy5zZXQocnVuZXN0b25lc18xLlRhZy5IZWlnaHRFbmQsIFtCaWdJbnQoaGVpZ2h0RW5kKV0pOwogICAgICB9CiAgICB9CiAgICBpZiAoZXRjaGluZy50ZXJtcy5vZmZzZXQpIHsKICAgICAgY29uc3Qgb2Zmc2V0U3RhcnQgPSBldGNoaW5nLnRlcm1zLm9mZnNldC5zdGFydDsKICAgICAgaWYgKG9mZnNldFN0YXJ0KSB7CiAgICAgICAgZmllbGRzLnNldChydW5lc3RvbmVzXzEuVGFnLk9mZnNldFN0YXJ0LCBbQmlnSW50KG9mZnNldFN0YXJ0KV0pOwogICAgICB9CiAgICAgIGNvbnN0IG9mZnNldEVuZCA9IGV0Y2hpbmcudGVybXMub2Zmc2V0LmVuZDsKICAgICAgaWYgKG9mZnNldEVuZCkgewogICAgICAgIGZpZWxkcy5zZXQocnVuZXN0b25lc18xLlRhZy5PZmZzZXRFbmQsIFtCaWdJbnQob2Zmc2V0RW5kKV0pOwogICAgICB9CiAgICB9CiAgfQogIGlmICh1c2VEZWZhdWx0T3V0cHV0ICYmIGRlZmF1bHRPdXRwdXQpIHsKICAgIGZpZWxkcy5zZXQocnVuZXN0b25lc18xLlRhZy5Qb2ludGVyLCBbQmlnSW50KGRlZmF1bHRPdXRwdXQpXSk7CiAgfQogIHJldHVybiBmaWVsZHM7Cn0="},{"version":3,"names":["bitcoin","__importStar","require","crypto_lib_1","taproot","bcrypto","transaction_1","txBuild_1","bscript","sigcost_1","runestones_1","schnorr","signUtil","secp256k1","defaultTxVersion","defaultSequenceNum","defaultRevealOutValue","defaultMinChangeValue","maxStandardTxWeight","RunesMainInscriptionTool","constructor","network","networks","inscriptionTxCtxDataList","revealTxs","commitTx","Transaction","commitTxPrevOutputFetcher","revealTxPrevOutputFetcher","mustCommitTxFee","mustRevealTxFees","commitAddrs","newInscriptionTool","request","tool","revealOutValue","minChangeValue","useDefaultOutput","runeData","defaultOutput","privateKey","commitTxPrevOutputList","etching","Error","checkEtching","runeCommitment","commitment","rune","runeOpReturnData","buildRuneMainDeployData","contentType","body","push","createInscriptionTxCtxData","revealAddr","createCommitmentScript","totalRevealPrevOutputValue","buildEmptyRevealTx","revealFeeRate","insufficient","buildCommitTx","changeAddress","commitFeeRate","signCommitTx","completeRevealTx","opReturnData","totalPrevOutputValue","forEach","inscriptionTxCtxData","i","tx","version","addInput","Buffer","alloc","addOutput","revealPkScript","emptySignature","emptyControlBlockWitness","txWitness","inscriptionScript","fee","Math","floor","byteLength","vectorSize","prevOutputValue","revealTxPrevOutput","pkScript","commitTxAddressPkScript","value","commitTxAddress","totalSenderAmount","commitTxPrevOutput","hash","base","reverseBuffer","fromHex","txId","vOut","amount","changePkScript","address","toOutputScript","txForEstimate","clone","signTx","vsize","countAdjustedVsize","map","a","changeAmount","outs","length","slice","vsizeWithoutChange","feeWithoutChange","revealTx","ins","getHash","prevOutScripts","values","hashForWitnessV1","SIGHASH_DEFAULT","signature","from","sign","randomBytes","witness","revealWeight","weight","calculateFee","commitTxFee","_","out","revealTxFees","revealTxFee","exports","uint128Max","BigInt","uint64Max","MAX_DIVISIBILITY","MAX_SPACERS","e","premine","terms","cap","supply","height","start","end","divisibility","spacers","getSpacersVal","v","base26Encode","removeSpacers","runesMainInscribe","toHex","input","addressType","getAddressType","privateKeyFromWIF","privateKeyHex","publicKey","private2public","o","tweakedPrivKey","taprootTweakPrivKey","prevScript","hashForSignature","SIGHASH_ALL","payment","payments","p2pkh","script","encode","pubkey","pubKeyHash","hash160","prevOutScript","of","hashForWitness","redeemScript","privateKeyWif","internalPubKey","wif2Public","inscriptionBuilder","ops","OPS","OP_CHECKSIG","OP_FALSE","OP_IF","OP_ENDIF","compile","scriptTree","output","redeem","redeemVersion","p2tr","internalPubkey","inscriptionData","inscriptionAddData","OP_DROP","OP_DATA_1","OP_0","maxChunkSize","bodySize","inscribe","msg","buildMessage","msgBuff","toBuffer","prefix","pushNum","writeUint8","writeUint16LE","writeUint32LE","concat","buffArr","tag","vals","val","tagBuff","writeUInt8","encodeLEB128","fields","Map","flags","mask","Flag","Terms","turbo","Turbo","set","Tag","Flags","runeValue","Rune","Divisibility","Spacers","symbol","Symbol","charCodeAt","Premine","Amount","Cap","heightStart","HeightStart","heightEnd","HeightEnd","offset","offsetStart","OffsetStart","offsetEnd","OffsetEnd","Pointer"],"sources":["../src/runesMain.ts"],"sourcesContent":[null],"mappings":"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"}]}