{"remainingRequest":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js??ref--17!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/@okxweb3/coin-bitcoin/dist/txBuild.js","dependencies":[{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/@okxweb3/coin-bitcoin/dist/txBuild.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyIpOwp2YXIgX19jcmVhdGVCaW5kaW5nID0gdGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZyB8fCAoT2JqZWN0LmNyZWF0ZSA/IGZ1bmN0aW9uIChvLCBtLCBrLCBrMikgewogIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7CiAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspOwogIGlmICghZGVzYyB8fCAoImdldCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkgewogICAgZGVzYyA9IHsKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIG1ba107CiAgICAgIH0KICAgIH07CiAgfQogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7Cn0gOiBmdW5jdGlvbiAobywgbSwgaywgazIpIHsKICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrOwogIG9bazJdID0gbVtrXTsKfSk7CnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSB0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0IHx8IChPYmplY3QuY3JlYXRlID8gZnVuY3Rpb24gKG8sIHYpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgImRlZmF1bHQiLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHYKICB9KTsKfSA6IGZ1bmN0aW9uIChvLCB2KSB7CiAgb1siZGVmYXVsdCJdID0gdjsKfSk7CnZhciBfX2ltcG9ydFN0YXIgPSB0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyIHx8IGZ1bmN0aW9uIChtb2QpIHsKICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kOwogIHZhciByZXN1bHQgPSB7fTsKICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gImRlZmF1bHQiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspOwogIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7CiAgcmV0dXJuIHJlc3VsdDsKfTsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmVzdGltYXRlQmNoRmVlID0gZXhwb3J0cy5lc3RpbWF0ZUJ0Y0ZlZSA9IGV4cG9ydHMuVmFsaWRTaWduZWRUcmFuc2FjdGlvbiA9IGV4cG9ydHMuZ2V0TVBDVHJhbnNhY3Rpb24gPSBleHBvcnRzLmNhbGN1bGF0ZUJjaFR4U2l6ZSA9IGV4cG9ydHMuY2FsY3VsYXRlVHhTaXplID0gZXhwb3J0cy5zaWduQmNoID0gZXhwb3J0cy5nZXRBZGRyZXNzVHlwZSA9IGV4cG9ydHMuc2lnbkJ0YyA9IGV4cG9ydHMuVHhCdWlsZCA9IGV4cG9ydHMucHJpdmF0ZTJXaWYgPSBleHBvcnRzLndpZjJQdWJsaWMgPSBleHBvcnRzLnNpZ24gPSBleHBvcnRzLnByaXZhdGUycHVibGljID0gZXhwb3J0cy5wcml2YXRlS2V5RnJvbVdJRiA9IGV4cG9ydHMuQXJyYXkgPSB2b2lkIDA7CmNvbnN0IGJpdGNvaW4gPSBfX2ltcG9ydFN0YXIocmVxdWlyZSgiLi9iaXRjb2luanMtbGliIikpOwpjb25zdCBiaXRjb2luanNfbGliXzEgPSByZXF1aXJlKCIuL2JpdGNvaW5qcy1saWIiKTsKY29uc3QgY3J5cHRvX2xpYl8xID0gcmVxdWlyZSgiQG9reHdlYjMvY3J5cHRvLWxpYiIpOwpjb25zdCB3aWYgPSBfX2ltcG9ydFN0YXIocmVxdWlyZSgiLi93aWYiKSk7CmNvbnN0IGFkZHJlc3NfMSA9IHJlcXVpcmUoIi4vYml0Y29pbmpzLWxpYi9hZGRyZXNzIik7CmNvbnN0IGJjcnlwdG8gPSBfX2ltcG9ydFN0YXIocmVxdWlyZSgiLi9iaXRjb2luanMtbGliL2NyeXB0byIpKTsKY29uc3QgdGFwcm9vdCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKCIuL3RhcHJvb3QiKSk7CmNvbnN0IGJzY3JpcHQgPSBfX2ltcG9ydFN0YXIocmVxdWlyZSgiLi9iaXRjb2luanMtbGliL3NjcmlwdCIpKTsKY29uc3Qgb3BzXzEgPSByZXF1aXJlKCIuL2JpdGNvaW5qcy1saWIvb3BzIik7CmNvbnN0IHNpZ2Nvc3RfMSA9IHJlcXVpcmUoIi4vc2lnY29zdCIpOwpjb25zdCBzY2hub3JyID0gY3J5cHRvX2xpYl8xLnNpZ25VdGlsLnNjaG5vcnIuc2VjcDI1NmsxLnNjaG5vcnI7CmV4cG9ydHMuQXJyYXkgPSBjcnlwdG9fbGliXzEudHlwZWZvcmNlLkFycmF5OwpmdW5jdGlvbiBwcml2YXRlS2V5RnJvbVdJRih3aWZTdHJpbmcsIG5ldHdvcmspIHsKICBjb25zdCBkZWNvZGVkID0gd2lmLmRlY29kZSh3aWZTdHJpbmcpOwogIGNvbnN0IHZlcnNpb24gPSBkZWNvZGVkLnZlcnNpb247CiAgaWYgKCgwLCBleHBvcnRzLkFycmF5KShuZXR3b3JrKSkgewogICAgbmV0d29yayA9IG5ldHdvcmsuZmlsdGVyKHggPT4gewogICAgICByZXR1cm4gdmVyc2lvbiA9PT0geC53aWY7CiAgICB9KS5wb3AoKTsKICAgIGlmICghbmV0d29yaykgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIG5ldHdvcmsgdmVyc2lvbicpOwogIH0gZWxzZSB7CiAgICBuZXR3b3JrID0gbmV0d29yayB8fCBiaXRjb2luLm5ldHdvcmtzLmJpdGNvaW47CiAgICBpZiAodmVyc2lvbiAhPT0gbmV0d29yay53aWYpIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBuZXR3b3JrIHZlcnNpb24nKTsKICB9CiAgcmV0dXJuIGNyeXB0b19saWJfMS5iYXNlLnRvSGV4KGRlY29kZWQucHJpdmF0ZUtleSk7Cn0KZXhwb3J0cy5wcml2YXRlS2V5RnJvbVdJRiA9IHByaXZhdGVLZXlGcm9tV0lGOwpmdW5jdGlvbiBwcml2YXRlMnB1YmxpYyhwcml2YXRlS2V5KSB7CiAgcmV0dXJuIGNyeXB0b19saWJfMS5zaWduVXRpbC5zZWNwMjU2azEucHVibGljS2V5Q3JlYXRlKGNyeXB0b19saWJfMS5iYXNlLmZyb21IZXgocHJpdmF0ZUtleSksIHRydWUpOwp9CmV4cG9ydHMucHJpdmF0ZTJwdWJsaWMgPSBwcml2YXRlMnB1YmxpYzsKZnVuY3Rpb24gc2lnbihoYXNoLCBwcml2YXRlS2V5KSB7CiAgY29uc3QgewogICAgc2lnbmF0dXJlCiAgfSA9IGNyeXB0b19saWJfMS5zaWduVXRpbC5zZWNwMjU2azEuc2lnbihoYXNoLCBjcnlwdG9fbGliXzEuYmFzZS5mcm9tSGV4KHByaXZhdGVLZXkpKTsKICByZXR1cm4gQnVmZmVyLmZyb20oc2lnbmF0dXJlKTsKfQpleHBvcnRzLnNpZ24gPSBzaWduOwpmdW5jdGlvbiB3aWYyUHVibGljKHdpZiwgbmV0d29yaykgewogIGNvbnN0IHByaXZhdGVLZXkgPSBwcml2YXRlS2V5RnJvbVdJRih3aWYsIG5ldHdvcmspOwogIHJldHVybiBwcml2YXRlMnB1YmxpYyhwcml2YXRlS2V5KTsKfQpleHBvcnRzLndpZjJQdWJsaWMgPSB3aWYyUHVibGljOwpmdW5jdGlvbiBwcml2YXRlMldpZihwcml2YXRlS2V5LCBuZXR3b3JrKSB7CiAgbmV0d29yayA9IG5ldHdvcmsgfHwgYml0Y29pbi5uZXR3b3Jrcy5iaXRjb2luOwogIHJldHVybiB3aWYuZW5jb2RlKG5ldHdvcmsud2lmLCBwcml2YXRlS2V5LCB0cnVlKTsKfQpleHBvcnRzLnByaXZhdGUyV2lmID0gcHJpdmF0ZTJXaWY7CmNsYXNzIFR4QnVpbGQgewogIGNvbnN0cnVjdG9yKHZlcnNpb24sIG5ldHdvcmssIGJpdGNvaW5DYXNoLCBoYXJkd2FyZSkgewogICAgdGhpcy50eCA9IG5ldyBiaXRjb2luLlRyYW5zYWN0aW9uKCk7CiAgICB0aGlzLm5ldHdvcmsgPSBiaXRjb2luLm5ldHdvcmtzLmJpdGNvaW47CiAgICBpZiAodmVyc2lvbikgewogICAgICB0aGlzLnR4LnZlcnNpb24gPSB2ZXJzaW9uOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy50eC52ZXJzaW9uID0gMjsKICAgIH0KICAgIGlmIChuZXR3b3JrKSB7CiAgICAgIHRoaXMubmV0d29yayA9IG5ldHdvcms7CiAgICB9CiAgICB0aGlzLmlucHV0cyA9IFtdOwogICAgdGhpcy5vdXRwdXRzID0gW107CiAgICB0aGlzLmJpdGNvaW5DYXNoID0gYml0Y29pbkNhc2ggfHwgZmFsc2U7CiAgICB0aGlzLmhhcmR3YXJlID0gaGFyZHdhcmUgfHwgZmFsc2U7CiAgfQogIGFkZElucHV0KHR4SWQsIGluZGV4LCBwcml2YXRlS2V5LCBhZGRyZXNzLCBzY3JpcHQsIHZhbHVlLCBwdWJsaWNLZXksIHNlcXVlbmNlKSB7CiAgICB0aGlzLmlucHV0cy5wdXNoKHsKICAgICAgdHhJZDogdHhJZCwKICAgICAgaW5kZXg6IGluZGV4LAogICAgICBwcml2YXRlS2V5OiBwcml2YXRlS2V5LAogICAgICBhZGRyZXNzOiBhZGRyZXNzLAogICAgICBzY3JpcHQ6IHNjcmlwdCwKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBwdWJsaWNLZXk6IHB1YmxpY0tleSwKICAgICAgc2VxdWVuY2U6IHNlcXVlbmNlCiAgICB9KTsKICB9CiAgYWRkT3V0cHV0KGFkZHJlc3MsIHZhbHVlLCBvbW5pU2NyaXB0KSB7CiAgICB0aGlzLm91dHB1dHMucHVzaCh7CiAgICAgIGFkZHJlc3M6IGFkZHJlc3MsCiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgb21uaVNjcmlwdDogb21uaVNjcmlwdAogICAgfSk7CiAgfQogIGJ1aWxkKGhhc2hBcnJheSkgewogICAgY29uc3QgZWNrZXlzID0gW107CiAgICBmb3IgKGNvbnN0IGlucHV0IG9mIHRoaXMuaW5wdXRzKSB7CiAgICAgIGNvbnN0IGhhc2ggPSBjcnlwdG9fbGliXzEuYmFzZS5yZXZlcnNlQnVmZmVyKEJ1ZmZlci5mcm9tKGlucHV0LnR4SWQsICJoZXgiKSk7CiAgICAgIHRoaXMudHguYWRkSW5wdXQoaGFzaCwgaW5wdXQuaW5kZXgsIGlucHV0LnNlcXVlbmNlKTsKICAgICAgaWYgKGlucHV0LnByaXZhdGVLZXkpIHsKICAgICAgICBlY2tleXMucHVzaChwcml2YXRlS2V5RnJvbVdJRihpbnB1dC5wcml2YXRlS2V5LCB0aGlzLm5ldHdvcmspKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBlY2tleXMucHVzaCgiIik7CiAgICAgIH0KICAgIH0KICAgIGZvciAoY29uc3Qgb3V0cHV0IG9mIHRoaXMub3V0cHV0cykgewogICAgICBpZiAob3V0cHV0Lm9tbmlTY3JpcHQpIHsKICAgICAgICB0aGlzLnR4LmFkZE91dHB1dChjcnlwdG9fbGliXzEuYmFzZS5mcm9tSGV4KG91dHB1dC5vbW5pU2NyaXB0KSwgMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3Qgb3V0cHV0U2NyaXB0ID0gYml0Y29pbi5hZGRyZXNzLnRvT3V0cHV0U2NyaXB0KG91dHB1dC5hZGRyZXNzLCB0aGlzLm5ldHdvcmspOwogICAgICAgIHRoaXMudHguYWRkT3V0cHV0KG91dHB1dFNjcmlwdCwgb3V0cHV0LnZhbHVlKTsKICAgICAgfQogICAgfQogICAgaWYgKHRoaXMuaGFyZHdhcmUpIHsKICAgICAgcmV0dXJuIHRoaXMudHgudG9IZXgoKTsKICAgIH0KICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWNrZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IGVja2V5ID0gZWNrZXlzW2ldOwogICAgICBsZXQgZWNQdWI7CiAgICAgIGlmIChlY2tleSkgewogICAgICAgIGVjUHViID0gcHJpdmF0ZTJwdWJsaWMoZWNrZXkpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICghdGhpcy5oYXJkd2FyZSkgewogICAgICAgICAgZWNQdWIgPSBjcnlwdG9fbGliXzEuYmFzZS5mcm9tSGV4KHRoaXMuaW5wdXRzW2ldLnB1YmxpY0tleSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGxldCBoYXNoOwogICAgICBsZXQgaGFzaFR5cGUgPSBiaXRjb2luLlRyYW5zYWN0aW9uLlNJR0hBU0hfQUxMOwogICAgICBpZiAodGhpcy5iaXRjb2luQ2FzaCkgewogICAgICAgIGNvbnN0IHNjcmlwdCA9IGJpdGNvaW4ucGF5bWVudHMucDJwa2goewogICAgICAgICAgcHVia2V5OiBlY1B1YgogICAgICAgIH0pLm91dHB1dDsKICAgICAgICBoYXNoVHlwZSA9IGJpdGNvaW4uVHJhbnNhY3Rpb24uU0lHSEFTSF9BTEwgfCBiaXRjb2luLlRyYW5zYWN0aW9uLlNJR0hBU0hfQklUQ09JTkNBU0hCSVAxNDM7CiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmlucHV0c1tpXS52YWx1ZSB8fCAwOwogICAgICAgIGhhc2ggPSB0aGlzLnR4Lmhhc2hGb3JDYXNoU2lnbmF0dXJlKGksIHNjcmlwdCwgdmFsdWUsIGhhc2hUeXBlKTsKICAgICAgICBsZXQgc2lnbmF0dXJlOwogICAgICAgIGlmIChoYXNoQXJyYXkpIHsKICAgICAgICAgIGhhc2hBcnJheS5wdXNoKGNyeXB0b19saWJfMS5iYXNlLnRvSGV4KGhhc2gpKTsKICAgICAgICAgIHNpZ25hdHVyZSA9IEJ1ZmZlci5hbGxvYyg2NCwgMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNpZ25hdHVyZSA9IHNpZ24oaGFzaCwgZWNrZXkpOwogICAgICAgIH0KICAgICAgICBjb25zdCBwYXltZW50ID0gYml0Y29pbi5wYXltZW50cy5wMnBraCh7CiAgICAgICAgICBvdXRwdXQ6IHNjcmlwdCwKICAgICAgICAgIHB1YmtleTogZWNQdWIsCiAgICAgICAgICBzaWduYXR1cmU6IGJpdGNvaW4uc2NyaXB0LnNpZ25hdHVyZS5lbmNvZGUoc2lnbmF0dXJlLCBoYXNoVHlwZSkKICAgICAgICB9KTsKICAgICAgICBpZiAocGF5bWVudC5pbnB1dCkgewogICAgICAgICAgdGhpcy50eC5pbnNbaV0uc2NyaXB0ID0gcGF5bWVudC5pbnB1dDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgYWRkcmVzc1R5cGUgPSBnZXRBZGRyZXNzVHlwZSh0aGlzLmlucHV0c1tpXS5hZGRyZXNzLCB0aGlzLm5ldHdvcmspOwogICAgICAgIGlmIChhZGRyZXNzVHlwZSA9PT0gImxlZ2FjeSIpIHsKICAgICAgICAgIGNvbnN0IHNjcmlwdCA9IGJpdGNvaW4ucGF5bWVudHMucDJwa2goewogICAgICAgICAgICBwdWJrZXk6IGVjUHViCiAgICAgICAgICB9KS5vdXRwdXQ7CiAgICAgICAgICBoYXNoID0gdGhpcy50eC5oYXNoRm9yU2lnbmF0dXJlKGksIHNjcmlwdCwgaGFzaFR5cGUpOwogICAgICAgICAgbGV0IHNpZ25hdHVyZTsKICAgICAgICAgIGlmIChoYXNoQXJyYXkpIHsKICAgICAgICAgICAgaGFzaEFycmF5LnB1c2goY3J5cHRvX2xpYl8xLmJhc2UudG9IZXgoaGFzaCkpOwogICAgICAgICAgICBzaWduYXR1cmUgPSBCdWZmZXIuYWxsb2MoNjQsIDApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2lnbmF0dXJlID0gc2lnbihoYXNoLCBlY2tleSk7CiAgICAgICAgICB9CiAgICAgICAgICBjb25zdCBwYXltZW50ID0gYml0Y29pbi5wYXltZW50cy5wMnBraCh7CiAgICAgICAgICAgIG91dHB1dDogc2NyaXB0LAogICAgICAgICAgICBwdWJrZXk6IGVjUHViLAogICAgICAgICAgICBzaWduYXR1cmU6IGJpdGNvaW4uc2NyaXB0LnNpZ25hdHVyZS5lbmNvZGUoc2lnbmF0dXJlLCBoYXNoVHlwZSkKICAgICAgICAgIH0pOwogICAgICAgICAgaWYgKHBheW1lbnQuaW5wdXQpIHsKICAgICAgICAgICAgdGhpcy50eC5pbnNbaV0uc2NyaXB0ID0gcGF5bWVudC5pbnB1dDsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGFkZHJlc3NUeXBlID09PSAic2Vnd2l0X3RhcHJvb3QiKSB7CiAgICAgICAgICBjb25zdCBwcmV2T3V0U2NyaXB0cyA9IHRoaXMuaW5wdXRzLm1hcChvID0+IGJpdGNvaW4uYWRkcmVzcy50b091dHB1dFNjcmlwdChvLmFkZHJlc3MsIHRoaXMubmV0d29yaykpOwogICAgICAgICAgY29uc3QgdmFsdWVzID0gdGhpcy5pbnB1dHMubWFwKG8gPT4gby52YWx1ZSk7CiAgICAgICAgICBoYXNoID0gdGhpcy50eC5oYXNoRm9yV2l0bmVzc1YxKGksIHByZXZPdXRTY3JpcHRzLCB2YWx1ZXMsIGJpdGNvaW4uVHJhbnNhY3Rpb24uU0lHSEFTSF9ERUZBVUxUKTsKICAgICAgICAgIGxldCBzaWduYXR1cmU7CiAgICAgICAgICBpZiAoaGFzaEFycmF5KSB7CiAgICAgICAgICAgIGhhc2hBcnJheS5wdXNoKGNyeXB0b19saWJfMS5iYXNlLnRvSGV4KGhhc2gpKTsKICAgICAgICAgICAgc2lnbmF0dXJlID0gQnVmZmVyLmFsbG9jKDY0LCAwKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnN0IHR3ZWFrZWRQcml2S2V5ID0gdGFwcm9vdC50YXByb290VHdlYWtQcml2S2V5KGNyeXB0b19saWJfMS5iYXNlLmZyb21IZXgoZWNrZXkpKTsKICAgICAgICAgICAgc2lnbmF0dXJlID0gQnVmZmVyLmZyb20oc2Nobm9yci5zaWduKGhhc2gsIHR3ZWFrZWRQcml2S2V5LCBjcnlwdG9fbGliXzEuYmFzZS5yYW5kb21CeXRlcygzMikpKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMudHguaW5zW2ldLndpdG5lc3MgPSBbQnVmZmVyLmZyb20oc2lnbmF0dXJlKV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnN0IHB1Ykhhc2ggPSBiY3J5cHRvLmhhc2gxNjAoZWNQdWIpOwogICAgICAgICAgY29uc3QgcHJldk91dFNjcmlwdCA9IEJ1ZmZlci5vZigweDE5LCAweDc2LCAweGE5LCAweDE0LCAuLi5wdWJIYXNoLCAweDg4LCAweGFjKTsKICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5pbnB1dHNbaV0udmFsdWUgfHwgMDsKICAgICAgICAgIGhhc2ggPSB0aGlzLnR4Lmhhc2hGb3JXaXRuZXNzKGksIHByZXZPdXRTY3JpcHQsIHZhbHVlLCBoYXNoVHlwZSk7CiAgICAgICAgICBsZXQgc2lnbmF0dXJlOwogICAgICAgICAgaWYgKGhhc2hBcnJheSkgewogICAgICAgICAgICBoYXNoQXJyYXkucHVzaChjcnlwdG9fbGliXzEuYmFzZS50b0hleChoYXNoKSk7CiAgICAgICAgICAgIHNpZ25hdHVyZSA9IEJ1ZmZlci5hbGxvYyg2NCwgMCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzaWduYXR1cmUgPSBzaWduKGhhc2gsIGVja2V5KTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMudHguaW5zW2ldLndpdG5lc3MgPSBbXTsKICAgICAgICAgIHRoaXMudHguaW5zW2ldLndpdG5lc3MucHVzaChiaXRjb2luLnNjcmlwdC5zaWduYXR1cmUuZW5jb2RlKHNpZ25hdHVyZSwgaGFzaFR5cGUpKTsKICAgICAgICAgIHRoaXMudHguaW5zW2ldLndpdG5lc3MucHVzaChlY1B1Yik7CiAgICAgICAgICBjb25zdCByZWRlZW1TY3JpcHQgPSBCdWZmZXIub2YoMHgxNiwgMCwgMjAsIC4uLnB1Ykhhc2gpOwogICAgICAgICAgaWYgKGFkZHJlc3NUeXBlICE9PSAic2Vnd2l0X25hdGl2ZSIpIHsKICAgICAgICAgICAgdGhpcy50eC5pbnNbaV0uc2NyaXB0ID0gcmVkZWVtU2NyaXB0OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRoaXMudHgudG9IZXgoKTsKICB9CiAgdmlydHVhbFNpemUoKSB7CiAgICByZXR1cm4gKDAsIHNpZ2Nvc3RfMS5jb3VudEFkanVzdGVkVnNpemUpKHRoaXMudHgsIHRoaXMuaW5wdXRzLm1hcChhID0+IGEuYWRkcmVzcyksIHRoaXMubmV0d29yayB8fCBiaXRjb2luLm5ldHdvcmtzLmJpdGNvaW4pOwogIH0KfQpleHBvcnRzLlR4QnVpbGQgPSBUeEJ1aWxkOwpmdW5jdGlvbiBzaWduQnRjKHV0eG9UeCwgcHJpdmF0ZUtleSwgbmV0d29yaywgaGFzaEFycmF5LCBoYXJkd2FyZSwgY2hhbmdlT25seSkgewogIGNvbnN0IGlucHV0cyA9IHV0eG9UeC5pbnB1dHM7CiAgY29uc3Qgb3V0cHV0cyA9IHV0eG9UeC5vdXRwdXRzOwogIGNvbnN0IGNoYW5nZUFkZHJlc3MgPSB1dHhvVHguYWRkcmVzczsKICBjb25zdCBmZWVQZXJCID0gdXR4b1R4LmZlZVBlckIgfHwgMTA7CiAgY29uc3QgZHVzdFNpemUgPSB1dHhvVHguZHVzdFNpemUgfHwgNTQ2OwogIG5ldHdvcmsgPSBuZXR3b3JrIHx8IGJpdGNvaW4ubmV0d29ya3MuYml0Y29pbjsKICBpZiAodXR4b1R4Lm1lbW8pIHsKICAgIGxldCBidWYgPSBjcnlwdG9fbGliXzEuYmFzZS5pc0hleFN0cmluZyh1dHhvVHgubWVtbykgPyBjcnlwdG9fbGliXzEuYmFzZS5mcm9tSGV4KHV0eG9UeC5tZW1vKSA6IEJ1ZmZlci5mcm9tKGNyeXB0b19saWJfMS5iYXNlLnRvVXRmOCh1dHhvVHgubWVtbykpOwogICAgaWYgKGJ1Zi5sZW5ndGggPiA4MCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGEgYWZ0ZXIgb3BfcmV0dXJuIGlzICB0b28gbG9uZycpOwogICAgfQogIH0KICBsZXQgZmFrZVByaXZhdGVLZXkgPSBwcml2YXRlS2V5OwogIGlmICghZmFrZVByaXZhdGVLZXkpIHsKICAgIGZha2VQcml2YXRlS2V5ID0gcHJpdmF0ZTJXaWYoY3J5cHRvX2xpYl8xLmJhc2UuZnJvbUhleCgiODUzZmQ4OTYwZmYzNDgzODIwOGQ2NjJlY2QzYjlmOGNmNDEzZTEzZTBmNzRmOTVlNTU0ZjgwODlmNTA1OGRiMCIpLCBuZXR3b3JrKTsKICB9CiAgaWYgKGNoYW5nZU9ubHkpIHsKICAgIGxldCB7CiAgICAgIGlucHV0QW1vdW50LAogICAgICBvdXRwdXRBbW91bnQsCiAgICAgIHZpcnR1YWxTaXplCiAgICB9ID0gY2FsY3VsYXRlVHhTaXplKGlucHV0cywgb3V0cHV0cywgY2hhbmdlQWRkcmVzcywgZmFrZVByaXZhdGVLZXksIG5ldHdvcmssIGR1c3RTaXplLCBmYWxzZSwgdXR4b1R4Lm1lbW8sIHV0eG9UeC5tZW1vUG9zKTsKICAgIHJldHVybiAoaW5wdXRBbW91bnQgLSBvdXRwdXRBbW91bnQgLSB2aXJ0dWFsU2l6ZSAqIGZlZVBlckIpLnRvU3RyaW5nKCk7CiAgfQogIGxldCB7CiAgICBpbnB1dEFtb3VudCwKICAgIG91dHB1dEFtb3VudCwKICAgIHZpcnR1YWxTaXplCiAgfSA9IGNhbGN1bGF0ZVR4U2l6ZShpbnB1dHMsIG91dHB1dHMsIGNoYW5nZUFkZHJlc3MsIGZha2VQcml2YXRlS2V5LCBuZXR3b3JrLCBkdXN0U2l6ZSwgZmFsc2UsIHV0eG9UeC5tZW1vLCB1dHhvVHgubWVtb1Bvcyk7CiAgbGV0IGNoYW5nZUFtb3VudCA9IGlucHV0QW1vdW50IC0gb3V0cHV0QW1vdW50IC0gdmlydHVhbFNpemUgKiBmZWVQZXJCOwogIGxldCB0eEJ1aWxkID0gbmV3IFR4QnVpbGQoMiwgbmV0d29yaywgZmFsc2UsIGhhcmR3YXJlKTsKICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykgewogICAgbGV0IGlucHV0ID0gaW5wdXRzW2ldOwogICAgY29uc3QgaW5wdXRQcml2S2V5ID0gaW5wdXQucHJpdmF0ZUtleSB8fCBwcml2YXRlS2V5OwogICAgY29uc3QgaW5wdXRBZGRyZXNzID0gaW5wdXQuYWRkcmVzcyB8fCBjaGFuZ2VBZGRyZXNzOwogICAgdHhCdWlsZC5hZGRJbnB1dChpbnB1dC50eElkLCBpbnB1dC52T3V0LCBpbnB1dFByaXZLZXksIGlucHV0QWRkcmVzcywgaW5wdXQucmVlZFNjcmlwdCwgaW5wdXQuYW1vdW50LCBpbnB1dC5wdWJsaWNLZXksIGlucHV0LnNlcXVlbmNlKTsKICB9CiAgaWYgKHV0eG9UeC5tZW1vICYmIHV0eG9UeC5tZW1vUG9zID09IDApIHsKICAgIHR4QnVpbGQuYWRkT3V0cHV0KCcnLCAwLCBjcnlwdG9fbGliXzEuYmFzZS50b0hleChic2NyaXB0LmNvbXBpbGUoW29wc18xLk9QUy5PUF9SRVRVUk5dLmNvbmNhdChjcnlwdG9fbGliXzEuYmFzZS5pc0hleFN0cmluZyh1dHhvVHgubWVtbykgPyBjcnlwdG9fbGliXzEuYmFzZS5mcm9tSGV4KHV0eG9UeC5tZW1vKSA6IEJ1ZmZlci5mcm9tKGNyeXB0b19saWJfMS5iYXNlLnRvVXRmOCh1dHhvVHgubWVtbykpKSkpKTsKICB9CiAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRwdXRzLmxlbmd0aDsgaSsrKSB7CiAgICBsZXQgb3V0cHV0ID0gb3V0cHV0c1tpXTsKICAgIHR4QnVpbGQuYWRkT3V0cHV0KG91dHB1dC5hZGRyZXNzLCBvdXRwdXQuYW1vdW50LCBvdXRwdXQub21uaVNjcmlwdCk7CiAgICBpZiAodXR4b1R4Lm1lbW8gJiYgdXR4b1R4Lm1lbW9Qb3MgJiYgdHhCdWlsZC5vdXRwdXRzLmxlbmd0aCA9PSB1dHhvVHgubWVtb1BvcykgewogICAgICB0eEJ1aWxkLmFkZE91dHB1dCgnJywgMCwgY3J5cHRvX2xpYl8xLmJhc2UudG9IZXgoYnNjcmlwdC5jb21waWxlKFtvcHNfMS5PUFMuT1BfUkVUVVJOXS5jb25jYXQoY3J5cHRvX2xpYl8xLmJhc2UuaXNIZXhTdHJpbmcodXR4b1R4Lm1lbW8pID8gY3J5cHRvX2xpYl8xLmJhc2UuZnJvbUhleCh1dHhvVHgubWVtbykgOiBCdWZmZXIuZnJvbShjcnlwdG9fbGliXzEuYmFzZS50b1V0ZjgodXR4b1R4Lm1lbW8pKSkpKSk7CiAgICB9CiAgfQogIGlmIChjaGFuZ2VBbW91bnQgPiBkdXN0U2l6ZSkgewogICAgdHhCdWlsZC5hZGRPdXRwdXQoY2hhbmdlQWRkcmVzcywgY2hhbmdlQW1vdW50KTsKICAgIGlmICh1dHhvVHgubWVtbyAmJiB1dHhvVHgubWVtb1BvcyAmJiB0eEJ1aWxkLm91dHB1dHMubGVuZ3RoID09IHV0eG9UeC5tZW1vUG9zKSB7CiAgICAgIHR4QnVpbGQuYWRkT3V0cHV0KCcnLCAwLCBjcnlwdG9fbGliXzEuYmFzZS50b0hleChic2NyaXB0LmNvbXBpbGUoW29wc18xLk9QUy5PUF9SRVRVUk5dLmNvbmNhdChjcnlwdG9fbGliXzEuYmFzZS5pc0hleFN0cmluZyh1dHhvVHgubWVtbykgPyBjcnlwdG9fbGliXzEuYmFzZS5mcm9tSGV4KHV0eG9UeC5tZW1vKSA6IEJ1ZmZlci5mcm9tKGNyeXB0b19saWJfMS5iYXNlLnRvVXRmOCh1dHhvVHgubWVtbykpKSkpKTsKICAgIH0KICB9CiAgaWYgKHV0eG9UeC5tZW1vICYmICh1dHhvVHgubWVtb1BvcyA9PSB1bmRlZmluZWQgfHwgdXR4b1R4Lm1lbW9Qb3MgPCAwIHx8IHV0eG9UeC5tZW1vUG9zID4gdHhCdWlsZC5vdXRwdXRzLmxlbmd0aCkpIHsKICAgIHR4QnVpbGQuYWRkT3V0cHV0KCcnLCAwLCBjcnlwdG9fbGliXzEuYmFzZS50b0hleChic2NyaXB0LmNvbXBpbGUoW29wc18xLk9QUy5PUF9SRVRVUk5dLmNvbmNhdChjcnlwdG9fbGliXzEuYmFzZS5pc0hleFN0cmluZyh1dHhvVHgubWVtbykgPyBjcnlwdG9fbGliXzEuYmFzZS5mcm9tSGV4KHV0eG9UeC5tZW1vKSA6IEJ1ZmZlci5mcm9tKGNyeXB0b19saWJfMS5iYXNlLnRvVXRmOCh1dHhvVHgubWVtbykpKSkpKTsKICB9CiAgcmV0dXJuIHR4QnVpbGQuYnVpbGQoaGFzaEFycmF5KTsKfQpleHBvcnRzLnNpZ25CdGMgPSBzaWduQnRjOwpmdW5jdGlvbiBnZXRBZGRyZXNzVHlwZShhZGRyZXNzLCBuZXR3b3JrKSB7CiAgbGV0IGRlY29kZUJhc2U1ODsKICBsZXQgZGVjb2RlQmVjaDMyOwogIHRyeSB7CiAgICBkZWNvZGVCYXNlNTggPSAoMCwgYWRkcmVzc18xLmZyb21CYXNlNThDaGVjaykoYWRkcmVzcyk7CiAgfSBjYXRjaCAoZSkge30KICBpZiAoZGVjb2RlQmFzZTU4KSB7CiAgICBpZiAoZGVjb2RlQmFzZTU4LnZlcnNpb24gPT09IG5ldHdvcmsucHViS2V5SGFzaCkgcmV0dXJuICJsZWdhY3kiOwogICAgaWYgKGRlY29kZUJhc2U1OC52ZXJzaW9uID09PSBuZXR3b3JrLnNjcmlwdEhhc2gpIHJldHVybiAic2Vnd2l0X25lc3RlZCI7CiAgfSBlbHNlIHsKICAgIHRyeSB7CiAgICAgIGRlY29kZUJlY2gzMiA9ICgwLCBhZGRyZXNzXzEuZnJvbUJlY2gzMikoYWRkcmVzcyk7CiAgICB9IGNhdGNoIChlKSB7fQogICAgaWYgKGRlY29kZUJlY2gzMikgewogICAgICBpZiAoZGVjb2RlQmVjaDMyLnByZWZpeCAhPT0gbmV0d29yay5iZWNoMzIpIHRocm93IG5ldyBFcnJvcihhZGRyZXNzICsgJyBoYXMgYW4gaW52YWxpZCBwcmVmaXgnKTsKICAgICAgaWYgKGRlY29kZUJlY2gzMi52ZXJzaW9uID09PSAwKSB7CiAgICAgICAgcmV0dXJuICdzZWd3aXRfbmF0aXZlJzsKICAgICAgfSBlbHNlIGlmIChkZWNvZGVCZWNoMzIudmVyc2lvbiA9PT0gMSkgewogICAgICAgIHJldHVybiAnc2Vnd2l0X3RhcHJvb3QnOwogICAgICB9CiAgICB9CiAgfQogIHJldHVybiAibGVnYWN5IjsKfQpleHBvcnRzLmdldEFkZHJlc3NUeXBlID0gZ2V0QWRkcmVzc1R5cGU7CmZ1bmN0aW9uIHNpZ25CY2godXR4b1R4LCBwcml2YXRlS2V5LCBuZXR3b3JrLCBoYXNoQXJyYXksIGhhcmR3YXJlKSB7CiAgY29uc3QgaW5wdXRzID0gdXR4b1R4LmlucHV0czsKICBjb25zdCBvdXRwdXRzID0gdXR4b1R4Lm91dHB1dHM7CiAgY29uc3QgY2hhbmdlQWRkcmVzcyA9IHV0eG9UeC5hZGRyZXNzOwogIGNvbnN0IGZlZVBlckIgPSB1dHhvVHguZmVlUGVyQiB8fCAxMDsKICBjb25zdCBkdXN0U2l6ZSA9IHV0eG9UeC5kdXN0U2l6ZSB8fCA1NDY7CiAgbmV0d29yayA9IG5ldHdvcmsgfHwgYml0Y29pbi5uZXR3b3Jrcy5iaXRjb2luOwogIGxldCBmYWtlUHJpdmF0ZUtleSA9IHByaXZhdGVLZXk7CiAgaWYgKCFmYWtlUHJpdmF0ZUtleSkgewogICAgZmFrZVByaXZhdGVLZXkgPSBwcml2YXRlMldpZihjcnlwdG9fbGliXzEuYmFzZS5mcm9tSGV4KCI4NTNmZDg5NjBmZjM0ODM4MjA4ZDY2MmVjZDNiOWY4Y2Y0MTNlMTNlMGY3NGY5NWU1NTRmODA4OWY1MDU4ZGIwIiksIG5ldHdvcmspOwogIH0KICBsZXQgewogICAgaW5wdXRBbW91bnQsCiAgICBvdXRwdXRBbW91bnQsCiAgICB2aXJ0dWFsU2l6ZQogIH0gPSBjYWxjdWxhdGVCY2hUeFNpemUoaW5wdXRzLCBvdXRwdXRzLCBjaGFuZ2VBZGRyZXNzLCBmYWtlUHJpdmF0ZUtleSwgbmV0d29yaywgZHVzdFNpemUpOwogIGxldCBjaGFuZ2VBbW91bnQgPSBpbnB1dEFtb3VudCAtIG91dHB1dEFtb3VudCAtIHZpcnR1YWxTaXplICogZmVlUGVyQjsKICBsZXQgdHhCdWlsZCA9IG5ldyBUeEJ1aWxkKDIsIG5ldHdvcmssIHRydWUsIGhhcmR3YXJlKTsKICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykgewogICAgbGV0IGlucHV0ID0gaW5wdXRzW2ldOwogICAgdHhCdWlsZC5hZGRJbnB1dChpbnB1dC50eElkLCBpbnB1dC52T3V0LCBwcml2YXRlS2V5LCBjaGFuZ2VBZGRyZXNzLCB1bmRlZmluZWQsIGlucHV0LmFtb3VudCwgaW5wdXQucHVibGljS2V5LCBpbnB1dC5zZXF1ZW5jZSk7CiAgfQogIGZvciAobGV0IGkgPSAwOyBpIDwgb3V0cHV0cy5sZW5ndGg7IGkrKykgewogICAgbGV0IG91dHB1dCA9IG91dHB1dHNbaV07CiAgICB0eEJ1aWxkLmFkZE91dHB1dChvdXRwdXQuYWRkcmVzcywgb3V0cHV0LmFtb3VudCk7CiAgfQogIGlmIChjaGFuZ2VBbW91bnQgPiBkdXN0U2l6ZSkgewogICAgdHhCdWlsZC5hZGRPdXRwdXQoY2hhbmdlQWRkcmVzcywgY2hhbmdlQW1vdW50KTsKICB9CiAgcmV0dXJuIHR4QnVpbGQuYnVpbGQoaGFzaEFycmF5KTsKfQpleHBvcnRzLnNpZ25CY2ggPSBzaWduQmNoOwpmdW5jdGlvbiBjYWxjdWxhdGVUeFNpemUoaW5wdXRzLCBvdXRwdXRzLCBjaGFuZ2VBZGRyZXNzLCBwcml2YXRlS2V5LCBuZXR3b3JrLCBkdXN0U2l6ZSwgaGFyZHdhcmUsIG1lbW8sIHBvcykgewogIGxldCBwcmVUeEJ1aWxkID0gbmV3IFR4QnVpbGQoMiwgbmV0d29yaywgZmFsc2UsIGhhcmR3YXJlKTsKICBsZXQgaW5wdXRBbW91bnQgPSAwOwogIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7CiAgICBsZXQgaW5wdXQgPSBpbnB1dHNbaV07CiAgICBjb25zdCBpbnB1dFByaXZLZXkgPSBpbnB1dC5wcml2YXRlS2V5IHx8IHByaXZhdGVLZXk7CiAgICBjb25zdCBpbnB1dEFkZHJlc3MgPSBpbnB1dC5hZGRyZXNzIHx8IGNoYW5nZUFkZHJlc3M7CiAgICBwcmVUeEJ1aWxkLmFkZElucHV0KGlucHV0LnR4SWQsIGlucHV0LnZPdXQsIGlucHV0UHJpdktleSwgaW5wdXRBZGRyZXNzLCBpbnB1dC5yZWVkU2NyaXB0LCBpbnB1dC5hbW91bnQsIGlucHV0LnB1YmxpY0tleSwgaW5wdXQuc2VxdWVuY2UpOwogICAgaW5wdXRBbW91bnQgPSBpbnB1dEFtb3VudCArIChpbnB1dC5hbW91bnQgfHwgMCk7CiAgfQogIGlmIChtZW1vICYmIHBvcyA9PSAwKSB7CiAgICBwcmVUeEJ1aWxkLmFkZE91dHB1dCgnJywgMCwgY3J5cHRvX2xpYl8xLmJhc2UudG9IZXgoYnNjcmlwdC5jb21waWxlKFtvcHNfMS5PUFMuT1BfUkVUVVJOXS5jb25jYXQoY3J5cHRvX2xpYl8xLmJhc2UuaXNIZXhTdHJpbmcobWVtbykgPyBjcnlwdG9fbGliXzEuYmFzZS5mcm9tSGV4KG1lbW8pIDogQnVmZmVyLmZyb20oY3J5cHRvX2xpYl8xLmJhc2UudG9VdGY4KG1lbW8pKSkpKSk7CiAgfQogIGxldCBvdXRwdXRBbW91bnQgPSAwOwogIGZvciAobGV0IGkgPSAwOyBpIDwgb3V0cHV0cy5sZW5ndGg7IGkrKykgewogICAgbGV0IG91dHB1dCA9IG91dHB1dHNbaV07CiAgICBwcmVUeEJ1aWxkLmFkZE91dHB1dChvdXRwdXQuYWRkcmVzcywgb3V0cHV0LmFtb3VudCwgb3V0cHV0Lm9tbmlTY3JpcHQpOwogICAgb3V0cHV0QW1vdW50ID0gb3V0cHV0QW1vdW50ICsgb3V0cHV0LmFtb3VudDsKICAgIGlmIChtZW1vICYmIHBvcyAmJiBwcmVUeEJ1aWxkLm91dHB1dHMubGVuZ3RoID09IHBvcykgewogICAgICBwcmVUeEJ1aWxkLmFkZE91dHB1dCgnJywgMCwgY3J5cHRvX2xpYl8xLmJhc2UudG9IZXgoYnNjcmlwdC5jb21waWxlKFtvcHNfMS5PUFMuT1BfUkVUVVJOXS5jb25jYXQoY3J5cHRvX2xpYl8xLmJhc2UuaXNIZXhTdHJpbmcobWVtbykgPyBjcnlwdG9fbGliXzEuYmFzZS5mcm9tSGV4KG1lbW8pIDogQnVmZmVyLmZyb20oY3J5cHRvX2xpYl8xLmJhc2UudG9VdGY4KG1lbW8pKSkpKSk7CiAgICB9CiAgfQogIGlmIChpbnB1dEFtb3VudCAtIG91dHB1dEFtb3VudCA+IGR1c3RTaXplKSB7CiAgICBwcmVUeEJ1aWxkLmFkZE91dHB1dChjaGFuZ2VBZGRyZXNzLCBpbnB1dEFtb3VudCAtIG91dHB1dEFtb3VudCk7CiAgICBpZiAobWVtbyAmJiBwb3MgJiYgcHJlVHhCdWlsZC5vdXRwdXRzLmxlbmd0aCA9PSBwb3MpIHsKICAgICAgcHJlVHhCdWlsZC5hZGRPdXRwdXQoJycsIDAsIGNyeXB0b19saWJfMS5iYXNlLnRvSGV4KGJzY3JpcHQuY29tcGlsZShbb3BzXzEuT1BTLk9QX1JFVFVSTl0uY29uY2F0KGNyeXB0b19saWJfMS5iYXNlLmlzSGV4U3RyaW5nKG1lbW8pID8gY3J5cHRvX2xpYl8xLmJhc2UuZnJvbUhleChtZW1vKSA6IEJ1ZmZlci5mcm9tKGNyeXB0b19saWJfMS5iYXNlLnRvVXRmOChtZW1vKSkpKSkpOwogICAgfQogIH0KICBpZiAobWVtbyAmJiAocG9zID09IHVuZGVmaW5lZCB8fCBwb3MgPCAwIHx8IHBvcyA+IHByZVR4QnVpbGQub3V0cHV0cy5sZW5ndGgpKSB7CiAgICBwcmVUeEJ1aWxkLmFkZE91dHB1dCgnJywgMCwgY3J5cHRvX2xpYl8xLmJhc2UudG9IZXgoYnNjcmlwdC5jb21waWxlKFtvcHNfMS5PUFMuT1BfUkVUVVJOXS5jb25jYXQoY3J5cHRvX2xpYl8xLmJhc2UuaXNIZXhTdHJpbmcobWVtbykgPyBjcnlwdG9fbGliXzEuYmFzZS5mcm9tSGV4KG1lbW8pIDogQnVmZmVyLmZyb20oY3J5cHRvX2xpYl8xLmJhc2UudG9VdGY4KG1lbW8pKSkpKSk7CiAgfQogIGxldCB0eEhleCA9IHByZVR4QnVpbGQuYnVpbGQoKTsKICBjb25zdCB2aXJ0dWFsU2l6ZSA9IHByZVR4QnVpbGQudmlydHVhbFNpemUoKTsKICByZXR1cm4gewogICAgaW5wdXRBbW91bnQsCiAgICBvdXRwdXRBbW91bnQsCiAgICB2aXJ0dWFsU2l6ZSwKICAgIHR4SGV4CiAgfTsKfQpleHBvcnRzLmNhbGN1bGF0ZVR4U2l6ZSA9IGNhbGN1bGF0ZVR4U2l6ZTsKZnVuY3Rpb24gY2FsY3VsYXRlQmNoVHhTaXplKGlucHV0cywgb3V0cHV0cywgY2hhbmdlQWRkcmVzcywgcHJpdmF0ZUtleSwgbmV0d29yaywgZHVzdFNpemUsIGhhcmR3YXJlKSB7CiAgbGV0IHByZVR4QnVpbGQgPSBuZXcgVHhCdWlsZCgyLCBuZXR3b3JrLCB0cnVlLCBoYXJkd2FyZSk7CiAgbGV0IGlucHV0QW1vdW50ID0gMDsKICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykgewogICAgbGV0IGlucHV0ID0gaW5wdXRzW2ldOwogICAgcHJlVHhCdWlsZC5hZGRJbnB1dChpbnB1dC50eElkLCBpbnB1dC52T3V0LCBwcml2YXRlS2V5LCBjaGFuZ2VBZGRyZXNzLCB1bmRlZmluZWQsIGlucHV0LmFtb3VudCwgaW5wdXQucHVibGljS2V5LCBpbnB1dC5zZXF1ZW5jZSk7CiAgICBpbnB1dEFtb3VudCA9IGlucHV0QW1vdW50ICsgKGlucHV0LmFtb3VudCB8fCAwKTsKICB9CiAgbGV0IG91dHB1dEFtb3VudCA9IDA7CiAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRwdXRzLmxlbmd0aDsgaSsrKSB7CiAgICBsZXQgb3V0cHV0ID0gb3V0cHV0c1tpXTsKICAgIHByZVR4QnVpbGQuYWRkT3V0cHV0KG91dHB1dC5hZGRyZXNzLCBvdXRwdXQuYW1vdW50KTsKICAgIG91dHB1dEFtb3VudCA9IG91dHB1dEFtb3VudCArIG91dHB1dC5hbW91bnQ7CiAgfQogIGlmIChpbnB1dEFtb3VudCAtIG91dHB1dEFtb3VudCA+IGR1c3RTaXplKSB7CiAgICBwcmVUeEJ1aWxkLmFkZE91dHB1dChjaGFuZ2VBZGRyZXNzLCBpbnB1dEFtb3VudCAtIG91dHB1dEFtb3VudCk7CiAgfQogIGxldCB0eEhleCA9IHByZVR4QnVpbGQuYnVpbGQoKTsKICBjb25zdCB2aXJ0dWFsU2l6ZSA9IHByZVR4QnVpbGQudHgudmlydHVhbFNpemUoKTsKICByZXR1cm4gewogICAgaW5wdXRBbW91bnQsCiAgICBvdXRwdXRBbW91bnQsCiAgICB2aXJ0dWFsU2l6ZSwKICAgIHR4SGV4CiAgfTsKfQpleHBvcnRzLmNhbGN1bGF0ZUJjaFR4U2l6ZSA9IGNhbGN1bGF0ZUJjaFR4U2l6ZTsKZnVuY3Rpb24gZ2V0TVBDVHJhbnNhY3Rpb24ocmF3LCBzaWdzLCBiaXRjb2luQ2FzaCkgewogIGNvbnN0IHRyYW5zYWN0aW9uID0gYml0Y29pbmpzX2xpYl8xLlRyYW5zYWN0aW9uLmZyb21CdWZmZXIoY3J5cHRvX2xpYl8xLmJhc2UuZnJvbUhleChyYXcpLCBmYWxzZSk7CiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmFuc2FjdGlvbi5pbnMubGVuZ3RoOyBpKyspIHsKICAgIGNvbnN0IGlucHV0ID0gdHJhbnNhY3Rpb24uaW5zW2ldOwogICAgY29uc3Qgc2lnbmF0dXJlID0gY3J5cHRvX2xpYl8xLmJhc2UuZnJvbUhleChzaWdzW2ldKTsKICAgIGxldCBoYXNoVHlwZSA9IGJpdGNvaW4uVHJhbnNhY3Rpb24uU0lHSEFTSF9BTEw7CiAgICBpZiAoYml0Y29pbkNhc2gpIHsKICAgICAgaGFzaFR5cGUgPSBiaXRjb2luLlRyYW5zYWN0aW9uLlNJR0hBU0hfQUxMIHwgYml0Y29pbi5UcmFuc2FjdGlvbi5TSUdIQVNIX0JJVENPSU5DQVNIQklQMTQzOwogICAgICBjb25zdCBwYXltZW50ID0gYml0Y29pbi5wYXltZW50cy5wMnBraCh7CiAgICAgICAgaW5wdXQ6IGlucHV0LnNjcmlwdAogICAgICB9KTsKICAgICAgY29uc3QgcGF5bWVudE5ldyA9IGJpdGNvaW4ucGF5bWVudHMucDJwa2goewogICAgICAgIHB1YmtleTogcGF5bWVudC5wdWJrZXksCiAgICAgICAgc2lnbmF0dXJlOiBiaXRjb2luLnNjcmlwdC5zaWduYXR1cmUuZW5jb2RlKHNpZ25hdHVyZSwgaGFzaFR5cGUpCiAgICAgIH0pOwogICAgICBpZiAocGF5bWVudE5ldy5pbnB1dCkgewogICAgICAgIGlucHV0LnNjcmlwdCA9IHBheW1lbnROZXcuaW5wdXQ7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGxldCBhZGRyZXNzVHlwZTsKICAgICAgaWYgKGlucHV0LndpdG5lc3MubGVuZ3RoID09PSAyKSB7CiAgICAgICAgYWRkcmVzc1R5cGUgPSAic2Vnd2l0X25hdGl2ZSI7CiAgICAgIH0gZWxzZSBpZiAoaW5wdXQud2l0bmVzcy5sZW5ndGggPT09IDEpIHsKICAgICAgICBhZGRyZXNzVHlwZSA9ICJzZWd3aXRfdGFwcm9vdCI7CiAgICAgIH0gZWxzZSBpZiAoaW5wdXQud2l0bmVzcy5sZW5ndGggPT09IDApIHsKICAgICAgICBhZGRyZXNzVHlwZSA9ICJsZWdhY3kiOwogICAgICB9IGVsc2UgewogICAgICAgIHRocm93IEVycm9yKCJ1bmtub3duIHdpdG5lc3MgbGVuZ3RoIik7CiAgICAgIH0KICAgICAgaWYgKGFkZHJlc3NUeXBlID09PSAibGVnYWN5IikgewogICAgICAgIGNvbnN0IHBheW1lbnQgPSBiaXRjb2luLnBheW1lbnRzLnAycGtoKHsKICAgICAgICAgIGlucHV0OiBpbnB1dC5zY3JpcHQKICAgICAgICB9KTsKICAgICAgICBjb25zdCBwYXltZW50TmV3ID0gYml0Y29pbi5wYXltZW50cy5wMnBraCh7CiAgICAgICAgICBwdWJrZXk6IHBheW1lbnQucHVia2V5LAogICAgICAgICAgc2lnbmF0dXJlOiBiaXRjb2luLnNjcmlwdC5zaWduYXR1cmUuZW5jb2RlKHNpZ25hdHVyZSwgaGFzaFR5cGUpCiAgICAgICAgfSk7CiAgICAgICAgaWYgKHBheW1lbnROZXcuaW5wdXQpIHsKICAgICAgICAgIGlucHV0LnNjcmlwdCA9IHBheW1lbnROZXcuaW5wdXQ7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGFkZHJlc3NUeXBlID09PSAic2Vnd2l0X3RhcHJvb3QiKSB7CiAgICAgICAgaW5wdXQud2l0bmVzcyA9IFtzaWduYXR1cmVdOwogICAgICB9IGVsc2UgewogICAgICAgIGlucHV0LndpdG5lc3NbMF0gPSBiaXRjb2luLnNjcmlwdC5zaWduYXR1cmUuZW5jb2RlKHNpZ25hdHVyZSwgaGFzaFR5cGUpOwogICAgICB9CiAgICB9CiAgfQogIHJldHVybiB0cmFuc2FjdGlvbi50b0hleCgpOwp9CmV4cG9ydHMuZ2V0TVBDVHJhbnNhY3Rpb24gPSBnZXRNUENUcmFuc2FjdGlvbjsKZnVuY3Rpb24gVmFsaWRTaWduZWRUcmFuc2FjdGlvbihzaWduZWRUeCwgdXR4b0lucHV0cywgbmV0d29yaykgewogIGNvbnN0IHRyYW5zYWN0aW9uID0gYml0Y29pbmpzX2xpYl8xLlRyYW5zYWN0aW9uLmZyb21CdWZmZXIoY3J5cHRvX2xpYl8xLmJhc2UuZnJvbUhleChzaWduZWRUeCksIGZhbHNlKTsKICBpZiAoIXV0eG9JbnB1dHMpIHsKICAgIHJldHVybiB0cmFuc2FjdGlvbjsKICB9CiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmFuc2FjdGlvbi5pbnMubGVuZ3RoOyBpKyspIHsKICAgIGNvbnN0IGlucHV0ID0gdHJhbnNhY3Rpb24uaW5zW2ldOwogICAgY29uc3QgdXR4byA9IHV0eG9JbnB1dHNbaV07CiAgICBsZXQgYWRkcmVzc1R5cGU7CiAgICBpZiAoaW5wdXQud2l0bmVzcy5sZW5ndGggPT09IDIpIHsKICAgICAgYWRkcmVzc1R5cGUgPSAic2Vnd2l0X25hdGl2ZSI7CiAgICB9IGVsc2UgaWYgKGlucHV0LndpdG5lc3MubGVuZ3RoID09PSAxKSB7CiAgICAgIGFkZHJlc3NUeXBlID0gInNlZ3dpdF90YXByb290IjsKICAgIH0gZWxzZSBpZiAoaW5wdXQud2l0bmVzcy5sZW5ndGggPT09IDApIHsKICAgICAgYWRkcmVzc1R5cGUgPSAibGVnYWN5IjsKICAgIH0gZWxzZSB7CiAgICAgIHRocm93IEVycm9yKCJ1bmtub3duIHdpdG5lc3MgbGVuZ3RoIik7CiAgICB9CiAgICBpZiAoYWRkcmVzc1R5cGUgPT09ICJsZWdhY3kiKSB7CiAgICAgIGNvbnN0IGNodW5rcyA9IGJzY3JpcHQuZGVjb21waWxlKGlucHV0LnNjcmlwdCk7CiAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IGNodW5rc1swXTsKICAgICAgY29uc3QgcHViS2V5ID0gY2h1bmtzWzFdOwogICAgICBjb25zdCBzaWduYXR1cmVEYXRhID0gYml0Y29pbi5zY3JpcHQuc2lnbmF0dXJlLmRlY29kZShzaWduYXR1cmUpOwogICAgICBjb25zdCBwcmV2T3V0U2NyaXB0ID0gYml0Y29pbi5hZGRyZXNzLnRvT3V0cHV0U2NyaXB0KHV0eG8uYWRkcmVzcywgbmV0d29yayk7CiAgICAgIGNvbnN0IGhhc2ggPSB0cmFuc2FjdGlvbi5oYXNoRm9yU2lnbmF0dXJlKGksIHByZXZPdXRTY3JpcHQsIHNpZ25hdHVyZURhdGEuaGFzaFR5cGUpOwogICAgICBpZiAoIWNyeXB0b19saWJfMS5zaWduVXRpbC5zZWNwMjU2azEudmVyaWZ5V2l0aE5vUmVjb3ZlcnkoaGFzaCwgc2lnbmF0dXJlRGF0YS5zaWduYXR1cmUsIHB1YktleSkpIHsKICAgICAgICB0aHJvdyBFcnJvcigic2lnbmF0dXJlIGVycm9yIik7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoYWRkcmVzc1R5cGUgPT09ICJzZWd3aXRfbmF0aXZlIikgewogICAgICBjb25zdCBzaWduYXR1cmUgPSBpbnB1dC53aXRuZXNzWzBdOwogICAgICBjb25zdCBwdWJLZXkgPSBpbnB1dC53aXRuZXNzWzFdOwogICAgICBjb25zdCBzaWduYXR1cmVEYXRhID0gYml0Y29pbi5zY3JpcHQuc2lnbmF0dXJlLmRlY29kZShzaWduYXR1cmUpOwogICAgICBjb25zdCBwcmV2T3V0U2NyaXB0ID0gQnVmZmVyLm9mKDB4MTksIDB4NzYsIDB4YTksIDB4MTQsIC4uLmJjcnlwdG8uaGFzaDE2MChwdWJLZXkpLCAweDg4LCAweGFjKTsKICAgICAgY29uc3QgaGFzaCA9IHRyYW5zYWN0aW9uLmhhc2hGb3JXaXRuZXNzKGksIHByZXZPdXRTY3JpcHQsIHV0eG8udmFsdWUsIHNpZ25hdHVyZURhdGEuaGFzaFR5cGUpOwogICAgICBpZiAoIWNyeXB0b19saWJfMS5zaWduVXRpbC5zZWNwMjU2azEudmVyaWZ5V2l0aE5vUmVjb3ZlcnkoaGFzaCwgc2lnbmF0dXJlRGF0YS5zaWduYXR1cmUsIHB1YktleSkpIHsKICAgICAgICB0aHJvdyBFcnJvcigic2lnbmF0dXJlIGVycm9yIik7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IGlucHV0LndpdG5lc3NbMF07CiAgICAgIGNvbnN0IHByZXZPdXRTY3JpcHRzID0gdXR4b0lucHV0cy5tYXAobyA9PiBiaXRjb2luLmFkZHJlc3MudG9PdXRwdXRTY3JpcHQoby5hZGRyZXNzLCBuZXR3b3JrKSk7CiAgICAgIGNvbnN0IHZhbHVlcyA9IHV0eG9JbnB1dHMubWFwKG8gPT4gby52YWx1ZSk7CiAgICAgIGNvbnN0IGhhc2ggPSB0cmFuc2FjdGlvbi5oYXNoRm9yV2l0bmVzc1YxKGksIHByZXZPdXRTY3JpcHRzLCB2YWx1ZXMsIGJpdGNvaW4uVHJhbnNhY3Rpb24uU0lHSEFTSF9ERUZBVUxUKTsKICAgICAgY29uc3QgdHdlYWtlZFB1YktleSA9IHRhcHJvb3QudGFwcm9vdFR3ZWFrUHVia2V5KGNyeXB0b19saWJfMS5iYXNlLmZyb21IZXgodXR4by5wdWJsaWNLZXkpLnNsaWNlKDEpKVswXTsKICAgICAgaWYgKCFzY2hub3JyLnZlcmlmeShjcnlwdG9fbGliXzEuYmFzZS50b0hleChzaWduYXR1cmUpLCBjcnlwdG9fbGliXzEuYmFzZS50b0hleChoYXNoKSwgY3J5cHRvX2xpYl8xLmJhc2UudG9IZXgodHdlYWtlZFB1YktleSkpKSB7CiAgICAgICAgdGhyb3cgRXJyb3IoInNpZ25hdHVyZSBlcnJvciIpOwogICAgICB9CiAgICB9CiAgfQogIGZvciAobGV0IGluMSBvZiB0cmFuc2FjdGlvbi5pbnMpIHsKICAgIGluMS5oYXNoID0gY3J5cHRvX2xpYl8xLmJhc2UucmV2ZXJzZUJ1ZmZlcihpbjEuaGFzaCk7CiAgfQogIHJldHVybiB0cmFuc2FjdGlvbjsKfQpleHBvcnRzLlZhbGlkU2lnbmVkVHJhbnNhY3Rpb24gPSBWYWxpZFNpZ25lZFRyYW5zYWN0aW9uOwpmdW5jdGlvbiBlc3RpbWF0ZUJ0Y0ZlZSh1dHhvVHgsIG5ldHdvcmspIHsKICBjb25zdCBpbnB1dHMgPSB1dHhvVHguaW5wdXRzOwogIGNvbnN0IG91dHB1dHMgPSB1dHhvVHgub3V0cHV0czsKICBjb25zdCBmZWVQZXJCID0gdXR4b1R4LmZlZVBlckIgfHwgMTA7CiAgY29uc3QgZHVzdFNpemUgPSB1dHhvVHguZHVzdFNpemUgfHwgNTQ2OwogIG5ldHdvcmsgPSBuZXR3b3JrIHx8IGJpdGNvaW4ubmV0d29ya3MuYml0Y29pbjsKICBjb25zdCBmYWtlUHJpdmF0ZUtleSA9IHByaXZhdGUyV2lmKGNyeXB0b19saWJfMS5iYXNlLmZyb21IZXgoIjg1M2ZkODk2MGZmMzQ4MzgyMDhkNjYyZWNkM2I5ZjhjZjQxM2UxM2UwZjc0Zjk1ZTU1NGY4MDg5ZjUwNThkYjAiKSwgbmV0d29yayk7CiAgbGV0IHsKICAgIHZpcnR1YWxTaXplCiAgfSA9IGNhbGN1bGF0ZVR4U2l6ZShpbnB1dHMsIG91dHB1dHMsIHV0eG9UeC5hZGRyZXNzLCBmYWtlUHJpdmF0ZUtleSwgbmV0d29yaywgZHVzdFNpemUsIGZhbHNlLCB1dHhvVHgubWVtbyk7CiAgcmV0dXJuIHZpcnR1YWxTaXplICogZmVlUGVyQjsKfQpleHBvcnRzLmVzdGltYXRlQnRjRmVlID0gZXN0aW1hdGVCdGNGZWU7CmZ1bmN0aW9uIGVzdGltYXRlQmNoRmVlKHV0eG9UeCwgbmV0d29yaykgewogIGNvbnN0IGlucHV0cyA9IHV0eG9UeC5pbnB1dHM7CiAgY29uc3Qgb3V0cHV0cyA9IHV0eG9UeC5vdXRwdXRzOwogIGNvbnN0IGZlZVBlckIgPSB1dHhvVHguZmVlUGVyQiB8fCAxMDsKICBjb25zdCBkdXN0U2l6ZSA9IHV0eG9UeC5kdXN0U2l6ZSB8fCA1NDY7CiAgbmV0d29yayA9IG5ldHdvcmsgfHwgYml0Y29pbi5uZXR3b3Jrcy5iaXRjb2luOwogIGNvbnN0IGZha2VQcml2YXRlS2V5ID0gcHJpdmF0ZTJXaWYoY3J5cHRvX2xpYl8xLmJhc2UuZnJvbUhleCgiODUzZmQ4OTYwZmYzNDgzODIwOGQ2NjJlY2QzYjlmOGNmNDEzZTEzZTBmNzRmOTVlNTU0ZjgwODlmNTA1OGRiMCIpLCBuZXR3b3JrKTsKICBsZXQgewogICAgdmlydHVhbFNpemUKICB9ID0gY2FsY3VsYXRlQmNoVHhTaXplKGlucHV0cywgb3V0cHV0cywgdXR4b1R4LmFkZHJlc3MsIGZha2VQcml2YXRlS2V5LCBuZXR3b3JrLCBkdXN0U2l6ZSk7CiAgcmV0dXJuIHZpcnR1YWxTaXplICogZmVlUGVyQjsKfQpleHBvcnRzLmVzdGltYXRlQmNoRmVlID0gZXN0aW1hdGVCY2hGZWU7"},{"version":3,"names":["bitcoin","__importStar","require","bitcoinjs_lib_1","crypto_lib_1","wif","address_1","bcrypto","taproot","bscript","ops_1","sigcost_1","schnorr","signUtil","secp256k1","exports","Array","typeforce","privateKeyFromWIF","wifString","network","decoded","decode","version","filter","x","pop","Error","networks","base","toHex","privateKey","private2public","publicKeyCreate","fromHex","sign","hash","signature","Buffer","from","wif2Public","private2Wif","encode","TxBuild","constructor","bitcoinCash","hardware","tx","Transaction","inputs","outputs","addInput","txId","index","address","script","value","publicKey","sequence","push","addOutput","omniScript","build","hashArray","eckeys","input","reverseBuffer","output","outputScript","toOutputScript","i","length","eckey","ecPub","hashType","SIGHASH_ALL","payments","p2pkh","pubkey","SIGHASH_BITCOINCASHBIP143","hashForCashSignature","alloc","payment","ins","addressType","getAddressType","hashForSignature","prevOutScripts","map","o","values","hashForWitnessV1","SIGHASH_DEFAULT","tweakedPrivKey","taprootTweakPrivKey","randomBytes","witness","pubHash","hash160","prevOutScript","of","hashForWitness","redeemScript","virtualSize","countAdjustedVsize","a","signBtc","utxoTx","changeOnly","changeAddress","feePerB","dustSize","memo","buf","isHexString","toUtf8","fakePrivateKey","inputAmount","outputAmount","calculateTxSize","memoPos","toString","changeAmount","txBuild","inputPrivKey","inputAddress","vOut","reedScript","amount","compile","OPS","OP_RETURN","concat","undefined","decodeBase58","decodeBech32","fromBase58Check","e","pubKeyHash","scriptHash","fromBech32","prefix","bech32","signBch","calculateBchTxSize","pos","preTxBuild","txHex","getMPCTransaction","raw","sigs","transaction","fromBuffer","paymentNew","ValidSignedTransaction","signedTx","utxoInputs","utxo","chunks","decompile","pubKey","signatureData","verifyWithNoRecovery","tweakedPubKey","taprootTweakPubkey","slice","verify","in1","estimateBtcFee","estimateBchFee"],"sources":["../src/txBuild.ts"],"sourcesContent":[null],"mappings":"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"}]}