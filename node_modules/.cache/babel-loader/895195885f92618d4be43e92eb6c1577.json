{"remainingRequest":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js??ref--17!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/@okxweb3/coin-bitcoin/dist/wallet/UsdtWallet.js","dependencies":[{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/@okxweb3/coin-bitcoin/dist/wallet/UsdtWallet.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiKTsKdmFyIF9fY3JlYXRlQmluZGluZyA9IHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcgfHwgKE9iamVjdC5jcmVhdGUgPyBmdW5jdGlvbiAobywgbSwgaywgazIpIHsKICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrOwogIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTsKICBpZiAoIWRlc2MgfHwgKCJnZXQiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHsKICAgIGRlc2MgPSB7CiAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBtW2tdOwogICAgICB9CiAgICB9OwogIH0KICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpOwp9IDogZnVuY3Rpb24gKG8sIG0sIGssIGsyKSB7CiAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gazsKICBvW2syXSA9IG1ba107Cn0pOwp2YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gdGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCB8fCAoT2JqZWN0LmNyZWF0ZSA/IGZ1bmN0aW9uIChvLCB2KSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sICJkZWZhdWx0IiwgewogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIHZhbHVlOiB2CiAgfSk7Cn0gOiBmdW5jdGlvbiAobywgdikgewogIG9bImRlZmF1bHQiXSA9IHY7Cn0pOwp2YXIgX19pbXBvcnRTdGFyID0gdGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhciB8fCBmdW5jdGlvbiAobW9kKSB7CiAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDsKICB2YXIgcmVzdWx0ID0ge307CiAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09ICJkZWZhdWx0IiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTsKICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpOwogIHJldHVybiByZXN1bHQ7Cn07Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5Vc2R0VGVzdFdhbGxldCA9IGV4cG9ydHMuVXNkdFdhbGxldCA9IHZvaWQgMDsKY29uc3QgY29pbl9iYXNlXzEgPSByZXF1aXJlKCJAb2t4d2ViMy9jb2luLWJhc2UiKTsKY29uc3QgQnRjV2FsbGV0XzEgPSByZXF1aXJlKCIuL0J0Y1dhbGxldCIpOwpjb25zdCBiaXRjb2luID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoIi4uL2luZGV4IikpOwpjbGFzcyBVc2R0V2FsbGV0IGV4dGVuZHMgQnRjV2FsbGV0XzEuQnRjV2FsbGV0IHsKICBhc3luYyBzaWduVHJhbnNhY3Rpb24ocGFyYW0pIHsKICAgIGxldCB0eEhleCA9IG51bGw7CiAgICB0cnkgewogICAgICBjb25zdCBwcml2YXRlS2V5ID0gcGFyYW0ucHJpdmF0ZUtleTsKICAgICAgY29uc3QgdXR4b1R4ID0gKDAsIEJ0Y1dhbGxldF8xLmNvbnZlcnQyVXR4b1R4KShwYXJhbS5kYXRhKTsKICAgICAgaWYgKCF1dHhvVHgub21uaSkgewogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChjb2luX2Jhc2VfMS5TaWduVHhFcnJvcik7CiAgICAgIH0KICAgICAgY29uc3QgY29pblR5cGUgPSAoMCwgQnRjV2FsbGV0XzEubnVtYmVyMkhleCkodXR4b1R4Lm9tbmkuY29pblR5cGUgfHwgMzEsIDgpOwogICAgICBjb25zdCBhbW91bnQgPSAoMCwgQnRjV2FsbGV0XzEubnVtYmVyMkhleCkodXR4b1R4Lm9tbmkuYW1vdW50LCAxNik7CiAgICAgIGNvbnN0IHNjcmlwdCA9ICI2YTE0NmY2ZDZlNjkiICsgIjAwMDAiICsgIjAwMDAiICsgY29pblR5cGUgKyBhbW91bnQ7CiAgICAgIGNvbnN0IGV4dHJhT3V0cHV0ID0gewogICAgICAgIGFkZHJlc3M6ICIiLAogICAgICAgIGFtb3VudDogMCwKICAgICAgICBvbW5pU2NyaXB0OiBzY3JpcHQKICAgICAgfTsKICAgICAgdXR4b1R4Lm91dHB1dHMucHVzaChleHRyYU91dHB1dCk7CiAgICAgIHR4SGV4ID0gYml0Y29pbi5zaWduQnRjKHV0eG9UeCwgcHJpdmF0ZUtleSwgdGhpcy5uZXR3b3JrKCkpOwogICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHR4SGV4KTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGNvaW5fYmFzZV8xLlNpZ25UeEVycm9yKTsKICAgIH0KICB9CiAgYXN5bmMgZXN0aW1hdGVGZWUocGFyYW0pIHsKICAgIHRyeSB7CiAgICAgIGNvbnN0IHV0eG9UeCA9ICgwLCBCdGNXYWxsZXRfMS5jb252ZXJ0MlV0eG9UeCkocGFyYW0uZGF0YSk7CiAgICAgIGlmICghdXR4b1R4Lm9tbmkpIHsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoY29pbl9iYXNlXzEuRXN0aW1hdGVGZWVFcnJvcik7CiAgICAgIH0KICAgICAgY29uc3QgY29pblR5cGUgPSAoMCwgQnRjV2FsbGV0XzEubnVtYmVyMkhleCkodXR4b1R4Lm9tbmkuY29pblR5cGUgfHwgMzEsIDgpOwogICAgICBjb25zdCBhbW91bnQgPSAoMCwgQnRjV2FsbGV0XzEubnVtYmVyMkhleCkodXR4b1R4Lm9tbmkuYW1vdW50LCAxNik7CiAgICAgIGNvbnN0IHNjcmlwdCA9ICI2YTE0NmY2ZDZlNjkiICsgIjAwMDAiICsgIjAwMDAiICsgY29pblR5cGUgKyBhbW91bnQ7CiAgICAgIGNvbnN0IGV4dHJhT3V0cHV0ID0gewogICAgICAgIGFkZHJlc3M6ICIiLAogICAgICAgIGFtb3VudDogMCwKICAgICAgICBvbW5pU2NyaXB0OiBzY3JpcHQKICAgICAgfTsKICAgICAgdXR4b1R4Lm91dHB1dHMucHVzaChleHRyYU91dHB1dCk7CiAgICAgIGNvbnN0IGZlZSA9IGJpdGNvaW4uZXN0aW1hdGVCdGNGZWUodXR4b1R4LCB0aGlzLm5ldHdvcmsoKSk7CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmVlKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGNvaW5fYmFzZV8xLkVzdGltYXRlRmVlRXJyb3IpOwogICAgfQogIH0KICBnZXRIYXJkV2FyZVJhd1RyYW5zYWN0aW9uKHBhcmFtKSB7CiAgICB0cnkgewogICAgICBjb25zdCB0eXBlID0gcGFyYW0uZGF0YS50eXBlIHx8IDA7CiAgICAgIGNvbnN0IHV0eG9UeCA9ICgwLCBCdGNXYWxsZXRfMS5jb252ZXJ0MlV0eG9UeCkocGFyYW0uZGF0YSk7CiAgICAgIGlmICghdXR4b1R4Lm9tbmkpIHsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoY29pbl9iYXNlXzEuU2lnblR4RXJyb3IpOwogICAgICB9CiAgICAgIGNvbnN0IGNvaW5UeXBlID0gKDAsIEJ0Y1dhbGxldF8xLm51bWJlcjJIZXgpKHV0eG9UeC5vbW5pLmNvaW5UeXBlIHx8IDMxLCA4KTsKICAgICAgY29uc3QgYW1vdW50ID0gKDAsIEJ0Y1dhbGxldF8xLm51bWJlcjJIZXgpKHV0eG9UeC5vbW5pLmFtb3VudCwgMTYpOwogICAgICBjb25zdCBzY3JpcHQgPSAiNmExNDZmNmQ2ZTY5IiArICIwMDAwIiArICIwMDAwIiArIGNvaW5UeXBlICsgYW1vdW50OwogICAgICBjb25zdCBleHRyYU91dHB1dCA9IHsKICAgICAgICBhZGRyZXNzOiAiIiwKICAgICAgICBhbW91bnQ6IDAsCiAgICAgICAgb21uaVNjcmlwdDogc2NyaXB0CiAgICAgIH07CiAgICAgIHV0eG9UeC5vdXRwdXRzLnB1c2goZXh0cmFPdXRwdXQpOwogICAgICBsZXQgdHhIZXg7CiAgICAgIGlmICh0eXBlID09PSAyKSB7CiAgICAgICAgY29uc3QgY2hhbmdlID0gYml0Y29pbi5zaWduQnRjKHV0eG9UeCwgIiIsIHRoaXMubmV0d29yaygpLCB1bmRlZmluZWQsIHRydWUsIHRydWUpOwogICAgICAgIGNvbnN0IGNoYW5nZVV0eG8gPSB7CiAgICAgICAgICBhZGRyZXNzOiB1dHhvVHguYWRkcmVzcywKICAgICAgICAgIGFtb3VudDogcGFyc2VJbnQoY2hhbmdlKSwKICAgICAgICAgIGJpcDMyRGVyaXZhdGlvbjogdXR4b1R4LmJpcDMyRGVyaXZhdGlvbgogICAgICAgIH07CiAgICAgICAgdXR4b1R4Lm91dHB1dHMucHVzaChjaGFuZ2VVdHhvKTsKICAgICAgICB0eEhleCA9IGJpdGNvaW4uYnVpbGRQc2J0KHV0eG9UeCwgdGhpcy5uZXR3b3JrKCkpOwogICAgICB9IGVsc2UgewogICAgICAgIHR4SGV4ID0gYml0Y29pbi5zaWduQnRjKHV0eG9UeCwgIiIsIHRoaXMubmV0d29yaygpLCB1bmRlZmluZWQsIHRydWUpOwogICAgICB9CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHhIZXgpOwogICAgfSBjYXRjaCAoZSkgewogICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoY29pbl9iYXNlXzEuR2V0SGFyZHdhcmVSYXdUcmFuc2FjdGlvbkVycm9yKTsKICAgIH0KICB9Cn0KZXhwb3J0cy5Vc2R0V2FsbGV0ID0gVXNkdFdhbGxldDsKY2xhc3MgVXNkdFRlc3RXYWxsZXQgZXh0ZW5kcyBVc2R0V2FsbGV0IHsKICBuZXR3b3JrKCkgewogICAgcmV0dXJuIGJpdGNvaW4ubmV0d29ya3MudGVzdG5ldDsKICB9Cn0KZXhwb3J0cy5Vc2R0VGVzdFdhbGxldCA9IFVzZHRUZXN0V2FsbGV0Ow=="},{"version":3,"names":["coin_base_1","require","BtcWallet_1","bitcoin","__importStar","UsdtWallet","BtcWallet","signTransaction","param","txHex","privateKey","utxoTx","convert2UtxoTx","data","omni","Promise","reject","SignTxError","coinType","number2Hex","amount","script","extraOutput","address","omniScript","outputs","push","signBtc","network","resolve","e","estimateFee","EstimateFeeError","fee","estimateBtcFee","getHardWareRawTransaction","type","change","undefined","changeUtxo","parseInt","bip32Derivation","buildPsbt","GetHardwareRawTransactionError","exports","UsdtTestWallet","networks","testnet"],"sources":["../../src/wallet/UsdtWallet.ts"],"sourcesContent":[null],"mappings":"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"}]}