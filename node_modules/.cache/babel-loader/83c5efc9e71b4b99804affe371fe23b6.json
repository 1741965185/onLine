{"remainingRequest":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js??ref--16!/Users/apple/IdeaProjects/onLinePayMerchant/src/wallet/TRCNetWorkMethods.js","dependencies":[{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/src/wallet/TRCNetWorkMethods.js","mtime":1730111979306},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgVHJ4V2FsbGV0IH0gZnJvbSAiQG9reHdlYjMvY29pbi10cm9uIjsKaW1wb3J0IHsgU2lnblR4UGFyYW1zIH0gZnJvbSAiQG9reHdlYjMvY29pbi1iYXNlIjsKaW1wb3J0IG9reFJlcSBmcm9tICJAL3V0aWxzL29reFJlcSI7CmxldCB3YWxsZXQgPSBuZXcgVHJ4V2FsbGV0KCk7CgovL+eUn+aIkFRSQ+aUr+aMgeeahOWcsOWdgAphc3luYyBmdW5jdGlvbiBnZXROZXdBZGRyZXNzKG5ldFdvcmspIHsKICBsZXQgZGVyaXZlUHJpdmF0ZUtleSA9IGF3YWl0IHdhbGxldC5nZXRSYW5kb21Qcml2YXRlS2V5KCk7CgogIC8vIGdldCBuZXcgYWRkcmVzcwogIGxldCBuZXdBZGRyZXNzID0gYXdhaXQgd2FsbGV0LmdldE5ld0FkZHJlc3MoewogICAgcHJpdmF0ZUtleTogZGVyaXZlUHJpdmF0ZUtleQogIH0pOwogIHJldHVybiB7CiAgICBwcml2YXRlS2V5OiBkZXJpdmVQcml2YXRlS2V5LAogICAgYWRkcmVzczogbmV3QWRkcmVzcwogIH07Cn0KCi8v55Sf5oiQRVRI5pSv5oyB55qE5Zyw5Z2ACmFzeW5jIGZ1bmN0aW9uIHNpZ25NZXNzYWdlKHByaXZhdGVLZXksIGFkZHJlc3MsIHRpbWVzdGFtcFN0cmluZykgewogIGxldCBtZXNzYWdlID0gdGltZXN0YW1wU3RyaW5nOwogIG1lc3NhZ2UgPSAiMHgiICsgQnVmZmVyLmZyb20obWVzc2FnZSwgInV0ZjgiKS50b1N0cmluZygiaGV4Iik7CiAgY29uc3QgcGFyYW1zID0gewogICAgcHJpdmF0ZUtleTogcHJpdmF0ZUtleSwKICAgIGRhdGE6IHsKICAgICAgdHlwZTogImhleCIsCiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UKICAgIH0KICB9OwogIHJldHVybiBhd2FpdCB3YWxsZXQuc2lnbk1lc3NhZ2UocGFyYW1zKTsKfQoKLy/nlJ/miJBFVEjmlK/mjIHnmoTlnLDlnYAKYXN5bmMgZnVuY3Rpb24gdGVzdHNpZ25NZXNzYWdlKCkgewogIGxldCB3YWxsZXQgPSBuZXcgVHJ4V2FsbGV0KCk7CiAgbGV0IG5vdyA9IG5ldyBEYXRlKCk7CiAgbGV0IHRpbWVzdGFtcCA9IG5vdy5nZXRUaW1lKCk7CiAgbGV0IHRpbWVzdGFtcFN0cmluZyA9IHRpbWVzdGFtcC50b1N0cmluZygpOwogIGxldCBkZXJpdmVQcml2YXRlS2V5ID0gYXdhaXQgd2FsbGV0LmdldFJhbmRvbVByaXZhdGVLZXkoKTsKCiAgLy8gZ2V0IG5ldyBhZGRyZXNzCiAgbGV0IG5ld0FkZHJlc3MgPSBhd2FpdCB3YWxsZXQuZ2V0TmV3QWRkcmVzcyh7CiAgICBwcml2YXRlS2V5OiBkZXJpdmVQcml2YXRlS2V5CiAgfSk7CiAgY29uc29sZS5sb2cobmV3QWRkcmVzcyk7CiAgbGV0IG1lc3NhZ2UgPSB0aW1lc3RhbXBTdHJpbmc7CiAgbWVzc2FnZSA9ICIweCIgKyBCdWZmZXIuZnJvbShtZXNzYWdlLCAidXRmOCIpLnRvU3RyaW5nKCJoZXgiKTsKICBjb25zdCBwYXJhbXMgPSB7CiAgICBwcml2YXRlS2V5OiBkZXJpdmVQcml2YXRlS2V5LAogICAgZGF0YTogewogICAgICB0eXBlOiAiaGV4IiwKICAgICAgbWVzc2FnZTogbWVzc2FnZQogICAgfQogIH07CiAgY29uc29sZS5sb2cocGFyYW1zKTsKICB2YXIgc2lnbmF0dXJlID0gYXdhaXQgd2FsbGV0LnNpZ25NZXNzYWdlKHBhcmFtcyk7CiAgY29uc29sZS5sb2coc2lnbmF0dXJlKTsKICBjb25zdCBhZGRyZXNzZXMgPSBbewogICAgImNoYWluSW5kZXgiOiAiMTk1IiwKICAgICJhZGRyZXNzIjogbmV3QWRkcmVzcy5hZGRyZXNzLAogICAgInB1YmxpY0tleSI6IG5ld0FkZHJlc3MucHVibGljS2V5LAogICAgInNpZ25hdHVyZSI6IHNpZ25hdHVyZQogIH1dOwogIGNvbnN0IGdldENyZWF0ZUFjY291bnRCb2R5ID0gewogICAgYWRkcmVzc2VzOiBhZGRyZXNzZXMsCiAgICBzaWduTWVzc2FnZTogdGltZXN0YW1wU3RyaW5nIC8vIFVOSVggVGltZXN0YW1wIGluIG1pbGxpc2Vjb25kCiAgfTsKICBjb25zdCBnZXRSZXF1ZXN0UGF0aCA9ICcvYXBpL3Y1L3dhbGxldC9hY2NvdW50L2NyZWF0ZS1hY2NvdW50JzsKICBjb25zdCB7CiAgICBjb2RlLAogICAgZGF0YSwKICAgIG1zZwogIH0gPSBhd2FpdCBva3hSZXEuc2VuZFBvc3RSZXF1ZXN0KGdldFJlcXVlc3RQYXRoLCBnZXRDcmVhdGVBY2NvdW50Qm9keSk7CiAgY29uc29sZS5sb2coJzEyMzQnLCBjb2RlLCBkYXRhLCBtc2cpOwp9CmV4cG9ydCBkZWZhdWx0IHsKICBnZXROZXdBZGRyZXNzLAogIHNpZ25NZXNzYWdlLAogIHRlc3RzaWduTWVzc2FnZQp9Ow=="},{"version":3,"names":["TrxWallet","SignTxParams","okxReq","wallet","getNewAddress","netWork","derivePrivateKey","getRandomPrivateKey","newAddress","privateKey","address","signMessage","timestampString","message","Buffer","from","toString","params","data","type","testsignMessage","now","Date","timestamp","getTime","console","log","signature","addresses","publicKey","getCreateAccountBody","getRequestPath","code","msg","sendPostRequest"],"sources":["/Users/apple/IdeaProjects/onLinePayMerchant/src/wallet/TRCNetWorkMethods.js"],"sourcesContent":["import { TrxWallet } from \"@okxweb3/coin-tron\";\nimport { SignTxParams } from \"@okxweb3/coin-base\";\nimport okxReq from \"@/utils/okxReq\";\n\nlet wallet = new TrxWallet();\n\n//生成TRC支持的地址\nasync function getNewAddress(netWork) {\n\n\t\tlet derivePrivateKey = await wallet.getRandomPrivateKey();\n\n\t\t// get new address\n\t\tlet newAddress = await wallet.getNewAddress({ privateKey: derivePrivateKey });\n\t\treturn {privateKey:derivePrivateKey,address:newAddress}\n}\n\n\n//生成ETH支持的地址\nasync function signMessage(privateKey,address,timestampString) {\n\tlet message = timestampString;\n\tmessage = \"0x\" + Buffer.from(message, \"utf8\").toString(\"hex\");\n\n\tconst params = {\n\t\tprivateKey: privateKey,\n\t\tdata: {\n\t\t\ttype: \"hex\",\n\t\t\tmessage: message\n\t\t}\n\t};\n\treturn await wallet.signMessage(params);\n}\n\n//生成ETH支持的地址\nasync function testsignMessage() {\n\n\n\tlet wallet = new TrxWallet();\n\n\tlet now = new Date();\n\n\tlet timestamp = now.getTime();\n\n\tlet timestampString = timestamp.toString();\n\n\tlet derivePrivateKey = await wallet.getRandomPrivateKey();\n\n\t// get new address\n\tlet newAddress = await wallet.getNewAddress({ privateKey: derivePrivateKey });\n\tconsole.log(newAddress);\n\n\tlet message = timestampString;\n\tmessage = \"0x\" + Buffer.from(message, \"utf8\").toString(\"hex\");\n\n\tconst params = {\n\t\tprivateKey: derivePrivateKey,\n\t\tdata: {\n\t\t\ttype: \"hex\",\n\t\t\tmessage: message\n\t\t}\n\t};\n\n\tconsole.log(params);\n\tvar signature =await wallet.signMessage(params);\n\n\tconsole.log(signature);\n\n\tconst addresses = [\n\t\t{\n\t\t\t\"chainIndex\": \"195\",\n\t\t\t\"address\": newAddress.address,\n\t\t\t\"publicKey\": newAddress.publicKey,\n\t\t\t\"signature\": signature\n\t\t}\n\t];\n\n\tconst getCreateAccountBody = {\n\t\taddresses: addresses,\n\t\tsignMessage: timestampString, // UNIX Timestamp in millisecond\n\t};\n\n\tconst getRequestPath = '/api/v5/wallet/account/create-account';\n\n\tconst {code,data,msg} =  await okxReq.sendPostRequest(getRequestPath,getCreateAccountBody)\n\tconsole.log('1234',code,data,msg);\n}\n\n\nexport default {getNewAddress,signMessage,testsignMessage}"],"mappings":"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"}]}