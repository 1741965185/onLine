{"remainingRequest":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js??ref--16!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/IdeaProjects/onLinePayMerchant/src/views/CardManage/ActivationModal.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/src/views/CardManage/ActivationModal.vue","mtime":1730111979288},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgYWN0aXZlQ2FyZCB9IGZyb20gIkAvYXBpL2NlcnRpZmljYXRpb24iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FjdGl2YXRpb25Nb2RhbCcsCiAgcHJvcHM6IHsKICAgIGNhcmREYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1Zpc2libGU6IGZhbHNlLAogICAgICBmb3JtRGF0YTogewogICAgICAgIGNhcmRObzogJycsCiAgICAgICAgY3Z2OiAnJywKICAgICAgICBleHBpcmVEYXRlOiAnJywKICAgICAgICBpZE51bWJlcjogJycsCiAgICAgICAgYmlydGhkYXk6ICcnCiAgICAgIH0sCiAgICAgIGJpcnRoZGF5UGlja2VyT3B0aW9uczogewogICAgICAgIC8vIGRpc2FibGVkRGF0ZSh0aW1lKSB7CiAgICAgICAgLy8gCXJldHVybiB0aW1lLmdldFRpbWUoKSA8PSBEYXRlLm5vdygpOyAvLyDnpoHnlKjlvZPliY3ml6XmnJ/lj4rkuYvliY3nmoTml6XmnJ8KICAgICAgICAvLyB9CiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaG93TW9kYWwoKSB7CiAgICAgIHRoaXMuaXNWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBjbG9zZU1vZGFsKCkgewogICAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIGZvcm1hdEV4cGlyeURhdGUoKSB7CiAgICAgIGxldCB2YWx1ZSA9IHRoaXMuZm9ybURhdGEuZXhwaXJlRGF0ZS5yZXBsYWNlKC9cRC9nLCAnJyk7CiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAyKSB7CiAgICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgwLCAyKSArICcvJyArIHZhbHVlLnNsaWNlKDIsIDQpOwogICAgICB9CiAgICAgIHRoaXMuZm9ybURhdGEuZXhwaXJlRGF0ZSA9IHZhbHVlOwogICAgfSwKICAgIGZvcm1hdEJpcnRoZGF5KGRhdGUpIHsKICAgICAgaWYgKGRhdGUpIHsKICAgICAgICBjb25zdCBmb3JtYXR0ZWREYXRlID0gdGhpcy4kZGF5anMoZGF0ZSkuZm9ybWF0KCdZWVlZTU1ERCcpOyAvLyDkvb/nlKggZGF5anMg5qC85byP5YyW5pel5pyfCiAgICAgICAgdGhpcy5mb3JtRGF0YS5iaXJ0aGRheSA9IGZvcm1hdHRlZERhdGU7CiAgICAgIH0KICAgIH0sCiAgICBjb25maXJtQWN0aXZhdGlvbigpIHsKICAgICAgY29uc29sZS5sb2coJ0FjdGl2YXRpb24gY29uZmlybWVkJywgdGhpcy5mb3JtRGF0YSk7CiAgICAgIGFjdGl2ZUNhcmQodGhpcy5mb3JtRGF0YSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzcG9uc2UubXNnKTsKICAgICAgICAgIHRoaXMuZm9ybURhdGEgPSB7fTsKICAgICAgICAgIHRoaXMuJGVtaXQoJ2FjdGl2YXRlU3VjY2VzcycpOyAvLyDop6blj5Hoh6rlrprkuYnkuovku7YKICAgICAgICAgIHRoaXMuY2xvc2VNb2RhbCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3BvbnNlLm1zZyk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["activeCard","name","props","cardData","type","Object","required","data","isVisible","formData","cardNo","cvv","expireDate","idNumber","birthday","birthdayPickerOptions","methods","showModal","closeModal","formatExpiryDate","value","replace","length","slice","formatBirthday","date","formattedDate","$dayjs","format","confirmActivation","console","log","then","response","status","$message","success","msg","$emit","error","catch"],"sources":["src/views/CardManage/ActivationModal.vue"],"sourcesContent":["<template>\n\t<div class=\"activation-modal__overlay\" v-if=\"isVisible\" @click.self=\"closeModal\">\n\t\t<div class=\"activation-modal__content\">\n\t\t\t<div class=\"activation-modal__header\">\n\t\t\t\t<div class=\"spacer\"></div>\n\t\t\t\t<h2 class=\"activation-modal__title\">{{$t(\"card.activate_card\")}}</h2>\n\t\t\t\t<button class=\"activation-modal__close-btn\" @click=\"closeModal\">&times;</button>\n\t\t\t</div>\n\t\t\t<div class=\"activation-modal__body\">\n\t\t\t\t<div class=\"activation-modal__info-box\">\n\t\t\t\t\t<p class=\"activation-modal__info-text\">{{$t(\"card.active_desc\")}}</p>\n\t\t\t\t\t<div class=\"activation-modal__address-info\">\n\t\t\t\t\t\t<div class=\"activation-modal__address-row\">\n\t\t\t\t\t\t\t<p class=\"activation-modal__address-item\">{{$t(\"card.post_country\")}}: {{ cardData.shippingCountry }}</p>\n\t\t\t\t\t\t\t<p class=\"activation-modal__address-item\">{{$t(\"card.address\")}}: {{ cardData.shippingAddress }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"activation-modal__address-row-two\">\n\t\t\t\t\t\t\t<p class=\"activation-modal__address-item\" hidden>邮寄城市: {{ cardData.shippingCity }}</p>\n\t\t\t\t\t\t\t<p class=\"activation-modal__address-item\" hidden>邮寄省/市: {{ cardData.shippingState }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"activation-modal__form\">\n\t\t\t\t\t<div class=\"activation-modal__form-row\">\n\t\t\t\t\t\t<div class=\"activation-modal__form-group\">\n\t\t\t\t\t\t\t<label class=\"activation-modal__form-label\">{{$t(\"card.card_number\")}}</label>\n\t\t\t\t\t\t\t<el-input v-model=\"formData.cardNo\"></el-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"activation-modal__form-group\">\n\t\t\t\t\t\t\t<label class=\"activation-modal__form-label\">{{$t(\"card.exp_date\")}}</label>\n\t\t\t\t\t\t\t<el-input v-model=\"formData.expireDate\" placeholder=\"MM/YY\" @input=\"formatExpiryDate\"></el-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"activation-modal__form-row\">\n\t\t\t\t\t\t<div class=\"activation-modal__form-group\">\n\t\t\t\t\t\t\t<label class=\"activation-modal__form-label\">CVV</label>\n\t\t\t\t\t\t\t<el-input v-model=\"formData.cvv\"></el-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"activation-modal__form-group\">\n\t\t\t\t\t\t\t<label class=\"activation-modal__form-label\">{{$t(\"card.id_number_ac\")}}</label>\n\t\t\t\t\t\t\t<el-input v-model=\"formData.idNumber\"></el-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"activation-modal__form-row\">\n\t\t\t\t\t\t<div class=\"activation-modal__form-group\">\n\t\t\t\t\t\t\t<label class=\"activation-modal__form-label\">{{$t(\"card.date_birthday\")}}</label>\n\n\t\t\t\t\t\t\t<el-date-picker\n\t\t\t\t\t\t\t\tv-model=\"formData.birthday\"\n\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\tformat=\"yyyy-MM-dd\"\n\t\t\t\t\t\t\t\t:picker-options=\"birthdayPickerOptions\">\n\t\t\t\t\t\t\t</el-date-picker>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"activation-modal__footer\">\n\t\t\t\t<el-button @click=\"closeModal\">{{$t(\"card.cancel\")}}</el-button>\n\t\t\t\t<el-button type=\"primary\" @click=\"confirmActivation\">{{$t(\"card.confirmd\")}}</el-button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { activeCard, } from \"@/api/certification\";\n\nexport default {\n\tname: 'ActivationModal',\n\tprops: {\n\t\tcardData: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisVisible: false,\n\t\t\tformData: {\n\t\t\t\tcardNo: '',\n\t\t\t\tcvv: '',\n\t\t\t\texpireDate: '',\n\t\t\t\tidNumber: '',\n\t\t\t\tbirthday: ''\n\t\t\t},\n\t\t\tbirthdayPickerOptions: {\n\t\t\t\t// disabledDate(time) {\n\t\t\t\t// \treturn time.getTime() <= Date.now(); // 禁用当前日期及之前的日期\n\t\t\t\t// }\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tshowModal() {\n\t\t\tthis.isVisible = true;\n\t\t},\n\t\tcloseModal() {\n\t\t\tthis.isVisible = false;\n\t\t},\n\t\tformatExpiryDate() {\n\t\t\tlet value = this.formData.expireDate.replace(/\\D/g, '');\n\t\t\tif (value.length > 2) {\n\t\t\t\tvalue = value.slice(0, 2) + '/' + value.slice(2, 4);\n\t\t\t}\n\t\t\tthis.formData.expireDate = value;\n\t\t},\n\t\tformatBirthday(date) {\n\t\t\tif (date) {\n\t\t\t\tconst formattedDate = this.$dayjs(date).format('YYYYMMDD'); // 使用 dayjs 格式化日期\n\t\t\t\tthis.formData.birthday = formattedDate;\n\t\t\t}\n\t\t},\n\t\tconfirmActivation() {\n\t\t\tconsole.log('Activation confirmed', this.formData);\n\t\t\tactiveCard(this.formData)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (response.status === 200) {\n\t\t\t\t\t\tthis.$message.success(response.msg);\n\t\t\t\t\t\tthis.formData = {};\n\t\t\t\t\t\tthis.$emit('activateSuccess'); // 触发自定义事件\n\t\t\t\t\t\tthis.closeModal();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$message.error(response.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t});\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n.activation-modal__overlay {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tz-index: 2000;\n}\n\n.activation-modal__content {\n\twidth: 660px;\n\theight: 560px;\n\tpadding: 21px 30px 36px 30px;\n\tbackground: #FFFFFF;\n\tborder-radius: 24px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbox-sizing: border-box;\n}\n\n.activation-modal__header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 30px;\n}\n\n.activation-modal__title {\n\tfont-weight: 500;\n\tfont-size: 24px;\n\tcolor: #211F32;\n\tline-height: 30px;\n\ttext-align: right;\n\tfont-style: normal;\n}\n\n.spacer {\n\twidth: 30px;\n}\n\n.activation-modal__close-btn {\n\tbackground: none;\n\tborder: none;\n\tcolor: #999999;\n\tfont-size: 30px;\n\tcursor: pointer;\n}\n\n.activation-modal__body {\n\tflex-grow: 1;\n\tpadding: 0 20px;\n}\n\n.activation-modal__info-box {\n\tbackground: #F7F9FE;\n\tborder-radius: 16px;\n\tpadding: 21px 20px;\n\tmargin-bottom: 20px;\n}\n\n.activation-modal__info-text {\n\tmargin-bottom: 16px;\n\tfont-weight: 400;\n\tfont-size: 14px;\n\tcolor: #364A63;\n\tline-height: 20px;\n\ttext-align: left;\n\tfont-style: normal;\n}\n\n.activation-modal__address-row {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tmargin-bottom: 10px;\n}\n\n.activation-modal__address-row-two {\n\tdisplay: flex;\n\tjustify-content: space-between;\n}\n\n.activation-modal__address-item {\n\tflex: 0 0 48%;\n\tfont-weight: 400;\n\tfont-size: 14px;\n\tcolor: #526484;\n\tline-height: 20px;\n\ttext-align: left;\n\tfont-style: normal;\n}\n\n.activation-modal__form-row {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tmargin-bottom: 16px;\n}\n\n.activation-modal__form-group {\n\tflex: 0 0 48%;\n}\n\n.activation-modal__form-label {\n\tmargin-bottom: 7px; /* 设置标签与输入框的间距 */\n\tfont-weight: 400;\n\tfont-size: 14px;\n\tcolor: #526484;\n\tline-height: 18px;\n\ttext-align: left;\n\tdisplay: block;\n\tfont-style: normal;}\n\n.activation-modal__footer {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tpadding: 20px;\n}\n\n/* Element UI overrides */\n.el-input {\n\twidth: 100%;\n}\n\n.el-date-editor.el-input {\n\twidth: 100%;\n}\n</style>"],"mappings":"AAmEA,SAAAA,UAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACAC,QAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;EACA;EACAC,KAAA;IACA;MACAC,SAAA;MACAC,QAAA;QACAC,MAAA;QACAC,GAAA;QACAC,UAAA;QACAC,QAAA;QACAC,QAAA;MACA;MACAC,qBAAA;QACA;QACA;QACA;MAAA;IAEA;EACA;EACAC,OAAA;IACAC,UAAA;MACA,KAAAT,SAAA;IACA;IACAU,WAAA;MACA,KAAAV,SAAA;IACA;IACAW,iBAAA;MACA,IAAAC,KAAA,QAAAX,QAAA,CAAAG,UAAA,CAAAS,OAAA;MACA,IAAAD,KAAA,CAAAE,MAAA;QACAF,KAAA,GAAAA,KAAA,CAAAG,KAAA,eAAAH,KAAA,CAAAG,KAAA;MACA;MACA,KAAAd,QAAA,CAAAG,UAAA,GAAAQ,KAAA;IACA;IACAI,eAAAC,IAAA;MACA,IAAAA,IAAA;QACA,MAAAC,aAAA,QAAAC,MAAA,CAAAF,IAAA,EAAAG,MAAA;QACA,KAAAnB,QAAA,CAAAK,QAAA,GAAAY,aAAA;MACA;IACA;IACAG,kBAAA;MACAC,OAAA,CAAAC,GAAA,8BAAAtB,QAAA;MACAT,UAAA,MAAAS,QAAA,EACAuB,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAC,MAAA;UACA,KAAAC,QAAA,CAAAC,OAAA,CAAAH,QAAA,CAAAI,GAAA;UACA,KAAA5B,QAAA;UACA,KAAA6B,KAAA;UACA,KAAApB,UAAA;QACA;UACA,KAAAiB,QAAA,CAAAI,KAAA,CAAAN,QAAA,CAAAI,GAAA;QACA;MACA,GACAG,KAAA,CAAAD,KAAA;QACAT,OAAA,CAAAS,KAAA,CAAAA,KAAA;MACA;IACA;EACA;AACA"}]}