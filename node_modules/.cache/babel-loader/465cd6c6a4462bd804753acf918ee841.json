{"remainingRequest":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js??ref--17!/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/@okxweb3/coin-ethereum/node_modules/@okxweb3/crypto-lib/dist/abi/abi.js","dependencies":[{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/@okxweb3/coin-ethereum/node_modules/@okxweb3/crypto-lib/dist/abi/abi.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/babel.config.js","mtime":1730111979206},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/apple/IdeaProjects/onLinePayMerchant/node_modules/babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmF0LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWxhc3QuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQtbGFzdC1pbmRleC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2V0LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lc25leHQudHlwZWQtYXJyYXkudG8tcmV2ZXJzZWQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC50eXBlZC1hcnJheS50by1zb3J0ZWQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC50eXBlZC1hcnJheS53aXRoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkudW5zaGlmdC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuYXQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQtbGFzdC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC1sYXN0LWluZGV4LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zZXQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC50eXBlZC1hcnJheS50by1yZXZlcnNlZC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnR5cGVkLWFycmF5LnRvLXNvcnRlZC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnR5cGVkLWFycmF5LndpdGguanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS51bnNoaWZ0LmpzIik7CmNvbnN0IHV0aWxzID0gcmVxdWlyZSgiLi91dGlsIik7CmNvbnN0IGJhc2UgPSByZXF1aXJlKCIuLi9iYXNlIik7CnZhciBCTiA9IHJlcXVpcmUoJ2JuLmpzL2xpYi9ibicpOwpjb25zdCB7CiAgaXNIZXhTdHJpbmcsCiAgc3RyaXBIZXhQcmVmaXgsCiAgcGFkVG9FdmVuCn0gPSByZXF1aXJlKCcuL2ludGVybmFsJyk7CmNvbnN0IHsKICBpbnRUb0J1ZmZlciwKICBhZGRIZXhQcmVmaXgsCiAgYnVmZmVyVG9IZXgKfSA9IHJlcXVpcmUoJy4vYnl0ZXMnKTsKdmFyIEFCSSA9IGZ1bmN0aW9uICgpIHt9OwpmdW5jdGlvbiBlbGVtZW50YXJ5TmFtZShuYW1lKSB7CiAgaWYgKG5hbWUuc3RhcnRzV2l0aCgnaW50WycpKSB7CiAgICByZXR1cm4gJ2ludDI1NicgKyBuYW1lLnNsaWNlKDMpOwogIH0gZWxzZSBpZiAobmFtZSA9PT0gJ2ludCcpIHsKICAgIHJldHVybiAnaW50MjU2JzsKICB9IGVsc2UgaWYgKG5hbWUuc3RhcnRzV2l0aCgndWludFsnKSkgewogICAgcmV0dXJuICd1aW50MjU2JyArIG5hbWUuc2xpY2UoNCk7CiAgfSBlbHNlIGlmIChuYW1lID09PSAndWludCcpIHsKICAgIHJldHVybiAndWludDI1Nic7CiAgfSBlbHNlIGlmIChuYW1lLnN0YXJ0c1dpdGgoJ2ZpeGVkWycpKSB7CiAgICByZXR1cm4gJ2ZpeGVkMTI4eDEyOCcgKyBuYW1lLnNsaWNlKDUpOwogIH0gZWxzZSBpZiAobmFtZSA9PT0gJ2ZpeGVkJykgewogICAgcmV0dXJuICdmaXhlZDEyOHgxMjgnOwogIH0gZWxzZSBpZiAobmFtZS5zdGFydHNXaXRoKCd1Zml4ZWRbJykpIHsKICAgIHJldHVybiAndWZpeGVkMTI4eDEyOCcgKyBuYW1lLnNsaWNlKDYpOwogIH0gZWxzZSBpZiAobmFtZSA9PT0gJ3VmaXhlZCcpIHsKICAgIHJldHVybiAndWZpeGVkMTI4eDEyOCc7CiAgfQogIHJldHVybiBuYW1lOwp9CmZ1bmN0aW9uIHRvQnVmZmVyKHYpIHsKICBpZiAodiA9PT0gbnVsbCB8fCB2ID09PSB1bmRlZmluZWQpIHsKICAgIHJldHVybiBCdWZmZXIuYWxsb2NVbnNhZmUoMCk7CiAgfQogIGlmIChCdWZmZXIuaXNCdWZmZXIodikpIHsKICAgIHJldHVybiBCdWZmZXIuZnJvbSh2KTsKICB9CiAgaWYgKEFycmF5LmlzQXJyYXkodikgfHwgdiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHsKICAgIHJldHVybiBCdWZmZXIuZnJvbSh2KTsKICB9CiAgaWYgKHR5cGVvZiB2ID09PSAnc3RyaW5nJykgewogICAgaWYgKCFpc0hleFN0cmluZyh2KSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjb252ZXJ0IHN0cmluZyB0byBidWZmZXIuIHRvQnVmZmVyIG9ubHkgc3VwcG9ydHMgMHgtcHJlZml4ZWQgaGV4IHN0cmluZ3MgYW5kIHRoaXMgc3RyaW5nIHdhcyBnaXZlbjogJHt2fWApOwogICAgfQogICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHBhZFRvRXZlbihzdHJpcEhleFByZWZpeCh2KSksICdoZXgnKTsKICB9CiAgaWYgKHR5cGVvZiB2ID09PSAnbnVtYmVyJykgewogICAgcmV0dXJuIGludFRvQnVmZmVyKHYpOwogIH0KICBpZiAodHlwZW9mIHYgPT09ICdiaWdpbnQnKSB7CiAgICBpZiAodiA8IEJpZ0ludCgwKSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjb252ZXJ0IG5lZ2F0aXZlIGJpZ2ludCB0byBidWZmZXIuIEdpdmVuOiAke3Z9YCk7CiAgICB9CiAgICBsZXQgbiA9IHYudG9TdHJpbmcoMTYpOwogICAgaWYgKG4ubGVuZ3RoICUgMikgbiA9ICcwJyArIG47CiAgICByZXR1cm4gQnVmZmVyLmZyb20obiwgJ2hleCcpOwogIH0KICBpZiAodi50b0FycmF5KSB7CiAgICByZXR1cm4gQnVmZmVyLmZyb20odi50b0FycmF5KCkpOwogIH0KICBpZiAodi50b0J1ZmZlcikgewogICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHYudG9CdWZmZXIoKSk7CiAgfQogIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0eXBlJyk7Cn0KZnVuY3Rpb24gbm9ybWFsaXplKGlucHV0KSB7CiAgaWYgKCFpbnB1dCkgewogICAgcmV0dXJuIHVuZGVmaW5lZDsKICB9CiAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpIHsKICAgIGlmIChpbnB1dCA8IDApIHsKICAgICAgcmV0dXJuICcweCc7CiAgICB9CiAgICBjb25zdCBidWZmZXIgPSB0b0J1ZmZlcihpbnB1dCk7CiAgICBpbnB1dCA9IGJ1ZmZlclRvSGV4KGJ1ZmZlcik7CiAgfQogIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7CiAgICBsZXQgbXNnID0gJ2V0aC1zaWctdXRpbC5ub3JtYWxpemUoKSByZXF1aXJlcyBoZXggc3RyaW5nIG9yIGludGVnZXIgaW5wdXQuJzsKICAgIG1zZyArPSBgIHJlY2VpdmVkICR7dHlwZW9mIGlucHV0fTogJHtpbnB1dH1gOwogICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7CiAgfQogIHJldHVybiBhZGRIZXhQcmVmaXgoaW5wdXQudG9Mb3dlckNhc2UoKSk7Cn0KQUJJLmV2ZW50SUQgPSBmdW5jdGlvbiAobmFtZSwgdHlwZXMpIHsKICB2YXIgc2lnID0gbmFtZSArICcoJyArIHR5cGVzLm1hcChlbGVtZW50YXJ5TmFtZSkuam9pbignLCcpICsgJyknOwogIHJldHVybiBiYXNlLmtlY2NhazI1NihCdWZmZXIuZnJvbShzaWcpKTsKfTsKQUJJLm1ldGhvZElEID0gZnVuY3Rpb24gKG5hbWUsIHR5cGVzKSB7CiAgcmV0dXJuIEFCSS5ldmVudElEKG5hbWUsIHR5cGVzKS5zbGljZSgwLCA0KTsKfTsKZnVuY3Rpb24gcGFyc2VUeXBlTih0eXBlKSB7CiAgcmV0dXJuIHBhcnNlSW50KC9eXEQrKFxkKykkLy5leGVjKHR5cGUpWzFdLCAxMCk7Cn0KZnVuY3Rpb24gcGFyc2VUeXBlTnhNKHR5cGUpIHsKICB2YXIgdG1wID0gL15cRCsoXGQrKXgoXGQrKSQvLmV4ZWModHlwZSk7CiAgcmV0dXJuIFtwYXJzZUludCh0bXBbMV0sIDEwKSwgcGFyc2VJbnQodG1wWzJdLCAxMCldOwp9CmZ1bmN0aW9uIHBhcnNlVHlwZUFycmF5KHR5cGUpIHsKICB2YXIgdG1wID0gdHlwZS5tYXRjaCgvKC4qKVxbKC4qPylcXSQvKTsKICBpZiAodG1wKSB7CiAgICByZXR1cm4gdG1wWzJdID09PSAnJyA/ICdkeW5hbWljJyA6IHBhcnNlSW50KHRtcFsyXSwgMTApOwogIH0KICByZXR1cm4gbnVsbDsKfQpmdW5jdGlvbiBwYXJzZU51bWJlcihhcmcpIHsKICB2YXIgdHlwZSA9IHR5cGVvZiBhcmc7CiAgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7CiAgICBpZiAoYmFzZS5pc0hleFByZWZpeGVkKGFyZykpIHsKICAgICAgcmV0dXJuIG5ldyBCTihiYXNlLnN0cmlwSGV4UHJlZml4KGFyZyksIDE2KTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBuZXcgQk4oYXJnLCAxMCk7CiAgICB9CiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJykgewogICAgcmV0dXJuIG5ldyBCTihhcmcpOwogIH0gZWxzZSBpZiAoYXJnLnRvQXJyYXkpIHsKICAgIHJldHVybiBhcmc7CiAgfSBlbHNlIHsKICAgIHRocm93IG5ldyBFcnJvcignQXJndW1lbnQgaXMgbm90IGEgbnVtYmVyJyk7CiAgfQp9CmZ1bmN0aW9uIHBhcnNlU2lnbmF0dXJlKHNpZykgewogIHZhciB0bXAgPSAvXihcdyspXCgoLiopXCkkLy5leGVjKHNpZyk7CiAgaWYgKHRtcC5sZW5ndGggIT09IDMpIHsKICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2Qgc2lnbmF0dXJlJyk7CiAgfQogIHZhciBhcmdzID0gL14oLispXCk6XCgoLispJC8uZXhlYyh0bXBbMl0pOwogIGlmIChhcmdzICE9PSBudWxsICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7CiAgICByZXR1cm4gewogICAgICBtZXRob2Q6IHRtcFsxXSwKICAgICAgYXJnczogYXJnc1sxXS5zcGxpdCgnLCcpLAogICAgICByZXRhcmdzOiBhcmdzWzJdLnNwbGl0KCcsJykKICAgIH07CiAgfSBlbHNlIHsKICAgIHZhciBwYXJhbXMgPSB0bXBbMl0uc3BsaXQoJywnKTsKICAgIGlmIChwYXJhbXMubGVuZ3RoID09PSAxICYmIHBhcmFtc1swXSA9PT0gJycpIHsKICAgICAgcGFyYW1zID0gW107CiAgICB9CiAgICByZXR1cm4gewogICAgICBtZXRob2Q6IHRtcFsxXSwKICAgICAgYXJnczogcGFyYW1zCiAgICB9OwogIH0KfQpmdW5jdGlvbiBlbmNvZGVTaW5nbGUodHlwZSwgYXJnKSB7CiAgdmFyIHNpemUsIG51bSwgcmV0LCBpOwogIGlmICh0eXBlID09PSAnYWRkcmVzcycpIHsKICAgIHJldHVybiBlbmNvZGVTaW5nbGUoJ3VpbnQxNjAnLCBwYXJzZU51bWJlcihhcmcpKTsKICB9IGVsc2UgaWYgKHR5cGUgPT09ICdib29sJykgewogICAgcmV0dXJuIGVuY29kZVNpbmdsZSgndWludDgnLCBhcmcgPyAxIDogMCk7CiAgfSBlbHNlIGlmICh0eXBlID09PSAnc3RyaW5nJykgewogICAgcmV0dXJuIGVuY29kZVNpbmdsZSgnYnl0ZXMnLCBCdWZmZXIuZnJvbShhcmcsICd1dGY4JykpOwogIH0gZWxzZSBpZiAoaXNBcnJheSh0eXBlKSkgewogICAgaWYgKHR5cGVvZiBhcmcubGVuZ3RoID09PSAndW5kZWZpbmVkJykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhbiBhcnJheT8nKTsKICAgIH0KICAgIHNpemUgPSBwYXJzZVR5cGVBcnJheSh0eXBlKTsKICAgIGlmIChzaXplICE9PSAnZHluYW1pYycgJiYgc2l6ZSAhPT0gMCAmJiBhcmcubGVuZ3RoID4gc2l6ZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VsZW1lbnRzIGV4Y2VlZCBhcnJheSBzaXplOiAnICsgc2l6ZSk7CiAgICB9CiAgICByZXQgPSBbXTsKICAgIHR5cGUgPSB0eXBlLnNsaWNlKDAsIHR5cGUubGFzdEluZGV4T2YoJ1snKSk7CiAgICBpZiAodHlwZW9mIGFyZyA9PT0gJ3N0cmluZycpIHsKICAgICAgYXJnID0gSlNPTi5wYXJzZShhcmcpOwogICAgfQogICAgZm9yIChpIGluIGFyZykgewogICAgICByZXQucHVzaChlbmNvZGVTaW5nbGUodHlwZSwgYXJnW2ldKSk7CiAgICB9CiAgICBpZiAoc2l6ZSA9PT0gJ2R5bmFtaWMnKSB7CiAgICAgIHZhciBsZW5ndGggPSBlbmNvZGVTaW5nbGUoJ3VpbnQyNTYnLCBhcmcubGVuZ3RoKTsKICAgICAgcmV0LnVuc2hpZnQobGVuZ3RoKTsKICAgIH0KICAgIHJldHVybiBCdWZmZXIuY29uY2F0KHJldCk7CiAgfSBlbHNlIGlmICh0eXBlID09PSAnYnl0ZXMnKSB7CiAgICBhcmcgPSBCdWZmZXIuZnJvbShhcmcpOwogICAgcmV0ID0gQnVmZmVyLmNvbmNhdChbZW5jb2RlU2luZ2xlKCd1aW50MjU2JywgYXJnLmxlbmd0aCksIGFyZ10pOwogICAgaWYgKGFyZy5sZW5ndGggJSAzMiAhPT0gMCkgewogICAgICByZXQgPSBCdWZmZXIuY29uY2F0KFtyZXQsIHV0aWxzLnplcm9zKDMyIC0gYXJnLmxlbmd0aCAlIDMyKV0pOwogICAgfQogICAgcmV0dXJuIHJldDsKICB9IGVsc2UgaWYgKHR5cGUuc3RhcnRzV2l0aCgnYnl0ZXMnKSkgewogICAgc2l6ZSA9IHBhcnNlVHlwZU4odHlwZSk7CiAgICBpZiAoc2l6ZSA8IDEgfHwgc2l6ZSA+IDMyKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBieXRlczxOPiB3aWR0aDogJyArIHNpemUpOwogICAgfQogICAgcmV0dXJuIHV0aWxzLnNldExlbmd0aFJpZ2h0KGFyZywgMzIpOwogIH0gZWxzZSBpZiAodHlwZS5zdGFydHNXaXRoKCd1aW50JykpIHsKICAgIHNpemUgPSBwYXJzZVR5cGVOKHR5cGUpOwogICAgaWYgKHNpemUgJSA4IHx8IHNpemUgPCA4IHx8IHNpemUgPiAyNTYpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHVpbnQ8Tj4gd2lkdGg6ICcgKyBzaXplKTsKICAgIH0KICAgIG51bSA9IHBhcnNlTnVtYmVyKGFyZyk7CiAgICBpZiAobnVtLmJpdExlbmd0aCgpID4gc2l6ZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cHBsaWVkIHVpbnQgZXhjZWVkcyB3aWR0aDogJyArIHNpemUgKyAnIHZzICcgKyBudW0uYml0TGVuZ3RoKCkpOwogICAgfQogICAgaWYgKG51bSA8IDApIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdXBwbGllZCB1aW50IGlzIG5lZ2F0aXZlJyk7CiAgICB9CiAgICByZXR1cm4gbnVtLnRvQXJyYXlMaWtlKEJ1ZmZlciwgJ2JlJywgMzIpOwogIH0gZWxzZSBpZiAodHlwZS5zdGFydHNXaXRoKCdpbnQnKSkgewogICAgc2l6ZSA9IHBhcnNlVHlwZU4odHlwZSk7CiAgICBpZiAoc2l6ZSAlIDggfHwgc2l6ZSA8IDggfHwgc2l6ZSA+IDI1NikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaW50PE4+IHdpZHRoOiAnICsgc2l6ZSk7CiAgICB9CiAgICBudW0gPSBwYXJzZU51bWJlcihhcmcpOwogICAgaWYgKG51bS5iaXRMZW5ndGgoKSA+IHNpemUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdXBwbGllZCBpbnQgZXhjZWVkcyB3aWR0aDogJyArIHNpemUgKyAnIHZzICcgKyBudW0uYml0TGVuZ3RoKCkpOwogICAgfQogICAgcmV0dXJuIG51bS50b1R3b3MoMjU2KS50b0FycmF5TGlrZShCdWZmZXIsICdiZScsIDMyKTsKICB9IGVsc2UgaWYgKHR5cGUuc3RhcnRzV2l0aCgndWZpeGVkJykpIHsKICAgIHNpemUgPSBwYXJzZVR5cGVOeE0odHlwZSk7CiAgICBudW0gPSBwYXJzZU51bWJlcihhcmcpOwogICAgaWYgKG51bSA8IDApIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdXBwbGllZCB1Zml4ZWQgaXMgbmVnYXRpdmUnKTsKICAgIH0KICAgIHJldHVybiBlbmNvZGVTaW5nbGUoJ3VpbnQyNTYnLCBudW0ubXVsKG5ldyBCTigyKS5wb3cobmV3IEJOKHNpemVbMV0pKSkpOwogIH0gZWxzZSBpZiAodHlwZS5zdGFydHNXaXRoKCdmaXhlZCcpKSB7CiAgICBzaXplID0gcGFyc2VUeXBlTnhNKHR5cGUpOwogICAgcmV0dXJuIGVuY29kZVNpbmdsZSgnaW50MjU2JywgcGFyc2VOdW1iZXIoYXJnKS5tdWwobmV3IEJOKDIpLnBvdyhuZXcgQk4oc2l6ZVsxXSkpKSk7CiAgfQogIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgb3IgaW52YWxpZCB0eXBlOiAnICsgdHlwZSk7Cn0KZnVuY3Rpb24gZGVjb2RlU2luZ2xlKHBhcnNlZFR5cGUsIGRhdGEsIG9mZnNldCkgewogIGlmICh0eXBlb2YgcGFyc2VkVHlwZSA9PT0gJ3N0cmluZycpIHsKICAgIHBhcnNlZFR5cGUgPSBwYXJzZVR5cGUocGFyc2VkVHlwZSk7CiAgfQogIHZhciBzaXplLCBudW0sIHJldCwgaTsKICBpZiAocGFyc2VkVHlwZS5uYW1lID09PSAnYWRkcmVzcycpIHsKICAgIHJldHVybiBkZWNvZGVTaW5nbGUocGFyc2VkVHlwZS5yYXdUeXBlLCBkYXRhLCBvZmZzZXQpLnRvQXJyYXlMaWtlKEJ1ZmZlciwgJ2JlJywgMjApLnRvU3RyaW5nKCdoZXgnKTsKICB9IGVsc2UgaWYgKHBhcnNlZFR5cGUubmFtZSA9PT0gJ2Jvb2wnKSB7CiAgICByZXR1cm4gZGVjb2RlU2luZ2xlKHBhcnNlZFR5cGUucmF3VHlwZSwgZGF0YSwgb2Zmc2V0KS50b1N0cmluZygpID09PSBuZXcgQk4oMSkudG9TdHJpbmcoKTsKICB9IGVsc2UgaWYgKHBhcnNlZFR5cGUubmFtZSA9PT0gJ3N0cmluZycpIHsKICAgIHZhciBieXRlcyA9IGRlY29kZVNpbmdsZShwYXJzZWRUeXBlLnJhd1R5cGUsIGRhdGEsIG9mZnNldCk7CiAgICByZXR1cm4gQnVmZmVyLmZyb20oYnl0ZXMsICd1dGY4JykudG9TdHJpbmcoKTsKICB9IGVsc2UgaWYgKHBhcnNlZFR5cGUuaXNBcnJheSkgewogICAgcmV0ID0gW107CiAgICBzaXplID0gcGFyc2VkVHlwZS5zaXplOwogICAgaWYgKHBhcnNlZFR5cGUuc2l6ZSA9PT0gJ2R5bmFtaWMnKSB7CiAgICAgIG9mZnNldCA9IGRlY29kZVNpbmdsZSgndWludDI1NicsIGRhdGEsIG9mZnNldCkudG9OdW1iZXIoKTsKICAgICAgc2l6ZSA9IGRlY29kZVNpbmdsZSgndWludDI1NicsIGRhdGEsIG9mZnNldCkudG9OdW1iZXIoKTsKICAgICAgb2Zmc2V0ID0gb2Zmc2V0ICsgMzI7CiAgICB9CiAgICBmb3IgKGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7CiAgICAgIHZhciBkZWNvZGVkID0gZGVjb2RlU2luZ2xlKHBhcnNlZFR5cGUuc3ViQXJyYXksIGRhdGEsIG9mZnNldCk7CiAgICAgIHJldC5wdXNoKGRlY29kZWQpOwogICAgICBvZmZzZXQgKz0gcGFyc2VkVHlwZS5zdWJBcnJheS5tZW1vcnlVc2FnZTsKICAgIH0KICAgIHJldHVybiByZXQ7CiAgfSBlbHNlIGlmIChwYXJzZWRUeXBlLm5hbWUgPT09ICdieXRlcycpIHsKICAgIG9mZnNldCA9IGRlY29kZVNpbmdsZSgndWludDI1NicsIGRhdGEsIG9mZnNldCkudG9OdW1iZXIoKTsKICAgIHNpemUgPSBkZWNvZGVTaW5nbGUoJ3VpbnQyNTYnLCBkYXRhLCBvZmZzZXQpLnRvTnVtYmVyKCk7CiAgICByZXR1cm4gZGF0YS5zbGljZShvZmZzZXQgKyAzMiwgb2Zmc2V0ICsgMzIgKyBzaXplKTsKICB9IGVsc2UgaWYgKHBhcnNlZFR5cGUubmFtZS5zdGFydHNXaXRoKCdieXRlcycpKSB7CiAgICByZXR1cm4gZGF0YS5zbGljZShvZmZzZXQsIG9mZnNldCArIHBhcnNlZFR5cGUuc2l6ZSk7CiAgfSBlbHNlIGlmIChwYXJzZWRUeXBlLm5hbWUuc3RhcnRzV2l0aCgndWludCcpKSB7CiAgICBudW0gPSBuZXcgQk4oZGF0YS5zbGljZShvZmZzZXQsIG9mZnNldCArIDMyKSwgMTYsICdiZScpOwogICAgaWYgKG51bS5iaXRMZW5ndGgoKSA+IHBhcnNlZFR5cGUuc2l6ZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlY29kZWQgaW50IGV4Y2VlZHMgd2lkdGg6ICcgKyBwYXJzZWRUeXBlLnNpemUgKyAnIHZzICcgKyBudW0uYml0TGVuZ3RoKCkpOwogICAgfQogICAgcmV0dXJuIG51bTsKICB9IGVsc2UgaWYgKHBhcnNlZFR5cGUubmFtZS5zdGFydHNXaXRoKCdpbnQnKSkgewogICAgbnVtID0gbmV3IEJOKGRhdGEuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyAzMiksIDE2LCAnYmUnKS5mcm9tVHdvcygyNTYpOwogICAgaWYgKG51bS5iaXRMZW5ndGgoKSA+IHBhcnNlZFR5cGUuc2l6ZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlY29kZWQgdWludCBleGNlZWRzIHdpZHRoOiAnICsgcGFyc2VkVHlwZS5zaXplICsgJyB2cyAnICsgbnVtLmJpdExlbmd0aCgpKTsKICAgIH0KICAgIHJldHVybiBudW07CiAgfSBlbHNlIGlmIChwYXJzZWRUeXBlLm5hbWUuc3RhcnRzV2l0aCgndWZpeGVkJykpIHsKICAgIHNpemUgPSBuZXcgQk4oMikucG93KG5ldyBCTihwYXJzZWRUeXBlLnNpemVbMV0pKTsKICAgIG51bSA9IGRlY29kZVNpbmdsZSgndWludDI1NicsIGRhdGEsIG9mZnNldCk7CiAgICBpZiAoIW51bS5tb2Qoc2l6ZSkuaXNaZXJvKCkpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZWNpbWFscyBub3Qgc3VwcG9ydGVkIHlldCcpOwogICAgfQogICAgcmV0dXJuIG51bS5kaXYoc2l6ZSk7CiAgfSBlbHNlIGlmIChwYXJzZWRUeXBlLm5hbWUuc3RhcnRzV2l0aCgnZml4ZWQnKSkgewogICAgc2l6ZSA9IG5ldyBCTigyKS5wb3cobmV3IEJOKHBhcnNlZFR5cGUuc2l6ZVsxXSkpOwogICAgbnVtID0gZGVjb2RlU2luZ2xlKCdpbnQyNTYnLCBkYXRhLCBvZmZzZXQpOwogICAgaWYgKCFudW0ubW9kKHNpemUpLmlzWmVybygpKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignRGVjaW1hbHMgbm90IHN1cHBvcnRlZCB5ZXQnKTsKICAgIH0KICAgIHJldHVybiBudW0uZGl2KHNpemUpOwogIH0KICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIG9yIGludmFsaWQgdHlwZTogJyArIHBhcnNlZFR5cGUubmFtZSk7Cn0KZnVuY3Rpb24gcGFyc2VUeXBlKHR5cGUpIHsKICB2YXIgc2l6ZTsKICB2YXIgcmV0OwogIGlmIChpc0FycmF5KHR5cGUpKSB7CiAgICBzaXplID0gcGFyc2VUeXBlQXJyYXkodHlwZSk7CiAgICB2YXIgc3ViQXJyYXkgPSB0eXBlLnNsaWNlKDAsIHR5cGUubGFzdEluZGV4T2YoJ1snKSk7CiAgICBzdWJBcnJheSA9IHBhcnNlVHlwZShzdWJBcnJheSk7CiAgICByZXQgPSB7CiAgICAgIGlzQXJyYXk6IHRydWUsCiAgICAgIG5hbWU6IHR5cGUsCiAgICAgIHNpemU6IHNpemUsCiAgICAgIG1lbW9yeVVzYWdlOiBzaXplID09PSAnZHluYW1pYycgPyAzMiA6IHN1YkFycmF5Lm1lbW9yeVVzYWdlICogc2l6ZSwKICAgICAgc3ViQXJyYXk6IHN1YkFycmF5CiAgICB9OwogICAgcmV0dXJuIHJldDsKICB9IGVsc2UgewogICAgdmFyIHJhd1R5cGU7CiAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgY2FzZSAnYWRkcmVzcyc6CiAgICAgICAgcmF3VHlwZSA9ICd1aW50MTYwJzsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnYm9vbCc6CiAgICAgICAgcmF3VHlwZSA9ICd1aW50OCc7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ3N0cmluZyc6CiAgICAgICAgcmF3VHlwZSA9ICdieXRlcyc7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgICByZXQgPSB7CiAgICAgIHJhd1R5cGU6IHJhd1R5cGUsCiAgICAgIG5hbWU6IHR5cGUsCiAgICAgIG1lbW9yeVVzYWdlOiAzMgogICAgfTsKICAgIGlmICh0eXBlLnN0YXJ0c1dpdGgoJ2J5dGVzJykgJiYgdHlwZSAhPT0gJ2J5dGVzJyB8fCB0eXBlLnN0YXJ0c1dpdGgoJ3VpbnQnKSB8fCB0eXBlLnN0YXJ0c1dpdGgoJ2ludCcpKSB7CiAgICAgIHJldC5zaXplID0gcGFyc2VUeXBlTih0eXBlKTsKICAgIH0gZWxzZSBpZiAodHlwZS5zdGFydHNXaXRoKCd1Zml4ZWQnKSB8fCB0eXBlLnN0YXJ0c1dpdGgoJ2ZpeGVkJykpIHsKICAgICAgcmV0LnNpemUgPSBwYXJzZVR5cGVOeE0odHlwZSk7CiAgICB9CiAgICBpZiAodHlwZS5zdGFydHNXaXRoKCdieXRlcycpICYmIHR5cGUgIT09ICdieXRlcycgJiYgKHJldC5zaXplIDwgMSB8fCByZXQuc2l6ZSA+IDMyKSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYnl0ZXM8Tj4gd2lkdGg6ICcgKyByZXQuc2l6ZSk7CiAgICB9CiAgICBpZiAoKHR5cGUuc3RhcnRzV2l0aCgndWludCcpIHx8IHR5cGUuc3RhcnRzV2l0aCgnaW50JykpICYmIChyZXQuc2l6ZSAlIDggfHwgcmV0LnNpemUgPCA4IHx8IHJldC5zaXplID4gMjU2KSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaW50L3VpbnQ8Tj4gd2lkdGg6ICcgKyByZXQuc2l6ZSk7CiAgICB9CiAgICByZXR1cm4gcmV0OwogIH0KfQpmdW5jdGlvbiBpc0R5bmFtaWModHlwZSkgewogIHJldHVybiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnYnl0ZXMnIHx8IHBhcnNlVHlwZUFycmF5KHR5cGUpID09PSAnZHluYW1pYyc7Cn0KZnVuY3Rpb24gaXNBcnJheSh0eXBlKSB7CiAgcmV0dXJuIHR5cGUubGFzdEluZGV4T2YoJ10nKSA9PT0gdHlwZS5sZW5ndGggLSAxOwp9CkFCSS5yYXdFbmNvZGUgPSBmdW5jdGlvbiAodHlwZXMsIHZhbHVlcykgewogIHZhciBvdXRwdXQgPSBbXTsKICB2YXIgZGF0YSA9IFtdOwogIHZhciBoZWFkTGVuZ3RoID0gMDsKICB0eXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7CiAgICBpZiAoaXNBcnJheSh0eXBlKSkgewogICAgICB2YXIgc2l6ZSA9IHBhcnNlVHlwZUFycmF5KHR5cGUpOwogICAgICBpZiAoc2l6ZSAhPT0gJ2R5bmFtaWMnKSB7CiAgICAgICAgaGVhZExlbmd0aCArPSAzMiAqIHNpemU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaGVhZExlbmd0aCArPSAzMjsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaGVhZExlbmd0aCArPSAzMjsKICAgIH0KICB9KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgdHlwZSA9IGVsZW1lbnRhcnlOYW1lKHR5cGVzW2ldKTsKICAgIHZhciB2YWx1ZSA9IHZhbHVlc1tpXTsKICAgIHZhciBjdXIgPSBlbmNvZGVTaW5nbGUodHlwZSwgdmFsdWUpOwogICAgaWYgKGlzRHluYW1pYyh0eXBlKSkgewogICAgICBvdXRwdXQucHVzaChlbmNvZGVTaW5nbGUoJ3VpbnQyNTYnLCBoZWFkTGVuZ3RoKSk7CiAgICAgIGRhdGEucHVzaChjdXIpOwogICAgICBoZWFkTGVuZ3RoICs9IGN1ci5sZW5ndGg7CiAgICB9IGVsc2UgewogICAgICBvdXRwdXQucHVzaChjdXIpOwogICAgfQogIH0KICByZXR1cm4gQnVmZmVyLmNvbmNhdChvdXRwdXQuY29uY2F0KGRhdGEpKTsKfTsKQUJJLnJhd0RlY29kZSA9IGZ1bmN0aW9uICh0eXBlcywgZGF0YSkgewogIHZhciByZXQgPSBbXTsKICBkYXRhID0gQnVmZmVyLmZyb20oZGF0YSk7CiAgdmFyIG9mZnNldCA9IDA7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGg7IGkrKykgewogICAgdmFyIHR5cGUgPSBlbGVtZW50YXJ5TmFtZSh0eXBlc1tpXSk7CiAgICB2YXIgcGFyc2VkID0gcGFyc2VUeXBlKHR5cGUsIGRhdGEsIG9mZnNldCk7CiAgICB2YXIgZGVjb2RlZCA9IGRlY29kZVNpbmdsZShwYXJzZWQsIGRhdGEsIG9mZnNldCk7CiAgICBvZmZzZXQgKz0gcGFyc2VkLm1lbW9yeVVzYWdlOwogICAgcmV0LnB1c2goZGVjb2RlZCk7CiAgfQogIHJldHVybiByZXQ7Cn07CkFCSS5zaW1wbGVFbmNvZGUgPSBmdW5jdGlvbiAobWV0aG9kKSB7CiAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLnNsaWNlKDEpOwogIHZhciBzaWcgPSBwYXJzZVNpZ25hdHVyZShtZXRob2QpOwogIGlmIChhcmdzLmxlbmd0aCAhPT0gc2lnLmFyZ3MubGVuZ3RoKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ0FyZ3VtZW50IGNvdW50IG1pc21hdGNoJyk7CiAgfQogIHJldHVybiBCdWZmZXIuY29uY2F0KFtBQkkubWV0aG9kSUQoc2lnLm1ldGhvZCwgc2lnLmFyZ3MpLCBBQkkucmF3RW5jb2RlKHNpZy5hcmdzLCBhcmdzKV0pOwp9OwpBQkkuc2ltcGxlRGVjb2RlID0gZnVuY3Rpb24gKG1ldGhvZCwgZGF0YSkgewogIHZhciBzaWcgPSBwYXJzZVNpZ25hdHVyZShtZXRob2QpOwogIGlmICghc2lnLnJldGFyZ3MpIHsKICAgIHRocm93IG5ldyBFcnJvcignTm8gcmV0dXJuIHZhbHVlcyBpbiBtZXRob2QnKTsKICB9CiAgcmV0dXJuIEFCSS5yYXdEZWNvZGUoc2lnLnJldGFyZ3MsIGRhdGEpOwp9OwpmdW5jdGlvbiBzdHJpbmdpZnkodHlwZSwgdmFsdWUpIHsKICBpZiAodHlwZS5zdGFydHNXaXRoKCdhZGRyZXNzJykgfHwgdHlwZS5zdGFydHNXaXRoKCdieXRlcycpKSB7CiAgICByZXR1cm4gJzB4JyArIHZhbHVlLnRvU3RyaW5nKCdoZXgnKTsKICB9IGVsc2UgewogICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7CiAgfQp9CkFCSS5zdHJpbmdpZnkgPSBmdW5jdGlvbiAodHlwZXMsIHZhbHVlcykgewogIHZhciByZXQgPSBbXTsKICBmb3IgKHZhciBpIGluIHR5cGVzKSB7CiAgICB2YXIgdHlwZSA9IHR5cGVzW2ldOwogICAgdmFyIHZhbHVlID0gdmFsdWVzW2ldOwogICAgaWYgKC9eW15cW10rXFsuKlxdJC8udGVzdCh0eXBlKSkgewogICAgICB2YWx1ZSA9IHZhbHVlLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBzdHJpbmdpZnkodHlwZSwgaXRlbSk7CiAgICAgIH0pLmpvaW4oJywgJyk7CiAgICB9IGVsc2UgewogICAgICB2YWx1ZSA9IHN0cmluZ2lmeSh0eXBlLCB2YWx1ZSk7CiAgICB9CiAgICByZXQucHVzaCh2YWx1ZSk7CiAgfQogIHJldHVybiByZXQ7Cn07CkFCSS5zb2xpZGl0eUhleFZhbHVlID0gZnVuY3Rpb24gKHR5cGUsIHZhbHVlLCBiaXRzaXplKSB7CiAgdmFyIHNpemUsIG51bTsKICBpZiAoaXNBcnJheSh0eXBlKSkgewogICAgdmFyIHN1YlR5cGUgPSB0eXBlLnJlcGxhY2UoL1xbLio/XF0vLCAnJyk7CiAgICBpZiAoIWlzQXJyYXkoc3ViVHlwZSkpIHsKICAgICAgdmFyIGFycmF5U2l6ZSA9IHBhcnNlVHlwZUFycmF5KHR5cGUpOwogICAgICBpZiAoYXJyYXlTaXplICE9PSAnZHluYW1pYycgJiYgYXJyYXlTaXplICE9PSAwICYmIHZhbHVlLmxlbmd0aCA+IGFycmF5U2l6ZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcignRWxlbWVudHMgZXhjZWVkIGFycmF5IHNpemU6ICcgKyBhcnJheVNpemUpOwogICAgICB9CiAgICB9CiAgICB2YXIgYXJyYXlWYWx1ZXMgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHYpIHsKICAgICAgcmV0dXJuIEFCSS5zb2xpZGl0eUhleFZhbHVlKHN1YlR5cGUsIHYsIDI1Nik7CiAgICB9KTsKICAgIHJldHVybiBCdWZmZXIuY29uY2F0KGFycmF5VmFsdWVzKTsKICB9IGVsc2UgaWYgKHR5cGUgPT09ICdieXRlcycpIHsKICAgIHJldHVybiB2YWx1ZTsKICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7CiAgICByZXR1cm4gQnVmZmVyLmZyb20odmFsdWUsICd1dGY4Jyk7CiAgfSBlbHNlIGlmICh0eXBlID09PSAnYm9vbCcpIHsKICAgIGJpdHNpemUgPSBiaXRzaXplIHx8IDg7CiAgICB2YXIgcGFkZGluZyA9IEFycmF5KGJpdHNpemUgLyA0KS5qb2luKCcwJyk7CiAgICByZXR1cm4gQnVmZmVyLmZyb20odmFsdWUgPyBwYWRkaW5nICsgJzEnIDogcGFkZGluZyArICcwJywgJ2hleCcpOwogIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2FkZHJlc3MnKSB7CiAgICB2YXIgYnl0ZXNpemUgPSAyMDsKICAgIGlmIChiaXRzaXplKSB7CiAgICAgIGJ5dGVzaXplID0gYml0c2l6ZSAvIDg7CiAgICB9CiAgICByZXR1cm4gdXRpbHMuc2V0TGVuZ3RoTGVmdCh0b0J1ZmZlcih2YWx1ZSksIGJ5dGVzaXplKTsKICB9IGVsc2UgaWYgKHR5cGUuc3RhcnRzV2l0aCgnYnl0ZXMnKSkgewogICAgc2l6ZSA9IHBhcnNlVHlwZU4odHlwZSk7CiAgICBpZiAoc2l6ZSA8IDEgfHwgc2l6ZSA+IDMyKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBieXRlczxOPiB3aWR0aDogJyArIHNpemUpOwogICAgfQogICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHsKICAgICAgdmFsdWUgPSBub3JtYWxpemUodmFsdWUpOwogICAgfQogICAgcmV0dXJuIHV0aWxzLnNldExlbmd0aFJpZ2h0KHRvQnVmZmVyKHZhbHVlKSwgc2l6ZSk7CiAgfSBlbHNlIGlmICh0eXBlLnN0YXJ0c1dpdGgoJ3VpbnQnKSkgewogICAgc2l6ZSA9IHBhcnNlVHlwZU4odHlwZSk7CiAgICBpZiAoc2l6ZSAlIDggfHwgc2l6ZSA8IDggfHwgc2l6ZSA+IDI1NikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdWludDxOPiB3aWR0aDogJyArIHNpemUpOwogICAgfQogICAgbnVtID0gcGFyc2VOdW1iZXIodmFsdWUpOwogICAgaWYgKG51bS5iaXRMZW5ndGgoKSA+IHNpemUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdXBwbGllZCB1aW50IGV4Y2VlZHMgd2lkdGg6ICcgKyBzaXplICsgJyB2cyAnICsgbnVtLmJpdExlbmd0aCgpKTsKICAgIH0KICAgIGJpdHNpemUgPSBiaXRzaXplIHx8IHNpemU7CiAgICByZXR1cm4gbnVtLnRvQXJyYXlMaWtlKEJ1ZmZlciwgJ2JlJywgYml0c2l6ZSAvIDgpOwogIH0gZWxzZSBpZiAodHlwZS5zdGFydHNXaXRoKCdpbnQnKSkgewogICAgc2l6ZSA9IHBhcnNlVHlwZU4odHlwZSk7CiAgICBpZiAoc2l6ZSAlIDggfHwgc2l6ZSA8IDggfHwgc2l6ZSA+IDI1NikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaW50PE4+IHdpZHRoOiAnICsgc2l6ZSk7CiAgICB9CiAgICBudW0gPSBwYXJzZU51bWJlcih2YWx1ZSk7CiAgICBpZiAobnVtLmJpdExlbmd0aCgpID4gc2l6ZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cHBsaWVkIGludCBleGNlZWRzIHdpZHRoOiAnICsgc2l6ZSArICcgdnMgJyArIG51bS5iaXRMZW5ndGgoKSk7CiAgICB9CiAgICBiaXRzaXplID0gYml0c2l6ZSB8fCBzaXplOwogICAgcmV0dXJuIG51bS50b1R3b3Moc2l6ZSkudG9BcnJheUxpa2UoQnVmZmVyLCAnYmUnLCBiaXRzaXplIC8gOCk7CiAgfSBlbHNlIHsKICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgb3IgaW52YWxpZCB0eXBlOiAnICsgdHlwZSk7CiAgfQp9OwpBQkkuc29saWRpdHlQYWNrID0gZnVuY3Rpb24gKHR5cGVzLCB2YWx1ZXMpIHsKICBpZiAodHlwZXMubGVuZ3RoICE9PSB2YWx1ZXMubGVuZ3RoKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ051bWJlciBvZiB0eXBlcyBhcmUgbm90IG1hdGNoaW5nIHRoZSB2YWx1ZXMnKTsKICB9CiAgdmFyIHJldCA9IFtdOwogIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZXMubGVuZ3RoOyBpKyspIHsKICAgIHZhciB0eXBlID0gZWxlbWVudGFyeU5hbWUodHlwZXNbaV0pOwogICAgdmFyIHZhbHVlID0gdmFsdWVzW2ldOwogICAgcmV0LnB1c2goQUJJLnNvbGlkaXR5SGV4VmFsdWUodHlwZSwgdmFsdWUsIG51bGwpKTsKICB9CiAgcmV0dXJuIEJ1ZmZlci5jb25jYXQocmV0KTsKfTsKQUJJLnNvbGlkaXR5U0hBMyA9IGZ1bmN0aW9uICh0eXBlcywgdmFsdWVzKSB7CiAgcmV0dXJuIGJhc2Uua2VjY2FrMjU2KEFCSS5zb2xpZGl0eVBhY2sodHlwZXMsIHZhbHVlcykpOwp9OwpBQkkuc29saWRpdHlTSEEyNTYgPSBmdW5jdGlvbiAodHlwZXMsIHZhbHVlcykgewogIHJldHVybiBiYXNlLnNoYTI1NihBQkkuc29saWRpdHlQYWNrKHR5cGVzLCB2YWx1ZXMpKTsKfTsKQUJJLnNvbGlkaXR5UklQRU1EMTYwID0gZnVuY3Rpb24gKHR5cGVzLCB2YWx1ZXMpIHsKICByZXR1cm4gYmFzZS5yaXBlbWQxNjAoQUJJLnNvbGlkaXR5UGFjayh0eXBlcywgdmFsdWVzKSwgdHJ1ZSk7Cn07CmZ1bmN0aW9uIGlzTnVtZXJpYyhjKSB7CiAgcmV0dXJuIGMgPj0gJzAnICYmIGMgPD0gJzknOwp9CkFCSS5mcm9tU2VycGVudCA9IGZ1bmN0aW9uIChzaWcpIHsKICB2YXIgcmV0ID0gW107CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaWcubGVuZ3RoOyBpKyspIHsKICAgIHZhciB0eXBlID0gc2lnW2ldOwogICAgaWYgKHR5cGUgPT09ICdzJykgewogICAgICByZXQucHVzaCgnYnl0ZXMnKTsKICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2InKSB7CiAgICAgIHZhciB0bXAgPSAnYnl0ZXMnOwogICAgICB2YXIgaiA9IGkgKyAxOwogICAgICB3aGlsZSAoaiA8IHNpZy5sZW5ndGggJiYgaXNOdW1lcmljKHNpZ1tqXSkpIHsKICAgICAgICB0bXAgKz0gc2lnW2pdIC0gJzAnOwogICAgICAgIGorKzsKICAgICAgfQogICAgICBpID0gaiAtIDE7CiAgICAgIHJldC5wdXNoKHRtcCk7CiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdpJykgewogICAgICByZXQucHVzaCgnaW50MjU2Jyk7CiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdhJykgewogICAgICByZXQucHVzaCgnaW50MjU2W10nKTsKICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgb3IgaW52YWxpZCB0eXBlOiAnICsgdHlwZSk7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn07CkFCSS50b1NlcnBlbnQgPSBmdW5jdGlvbiAodHlwZXMpIHsKICB2YXIgcmV0ID0gW107CiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGg7IGkrKykgewogICAgdmFyIHR5cGUgPSB0eXBlc1tpXTsKICAgIGlmICh0eXBlID09PSAnYnl0ZXMnKSB7CiAgICAgIHJldC5wdXNoKCdzJyk7CiAgICB9IGVsc2UgaWYgKHR5cGUuc3RhcnRzV2l0aCgnYnl0ZXMnKSkgewogICAgICByZXQucHVzaCgnYicgKyBwYXJzZVR5cGVOKHR5cGUpKTsKICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2ludDI1NicpIHsKICAgICAgcmV0LnB1c2goJ2knKTsKICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2ludDI1NltdJykgewogICAgICByZXQucHVzaCgnYScpOwogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBvciBpbnZhbGlkIHR5cGU6ICcgKyB0eXBlKTsKICAgIH0KICB9CiAgcmV0dXJuIHJldC5qb2luKCcnKTsKfTsKbW9kdWxlLmV4cG9ydHMgPSBBQkk7"},{"version":3,"names":["utils","require","base","BN","isHexString","stripHexPrefix","padToEven","intToBuffer","addHexPrefix","bufferToHex","ABI","elementaryName","name","startsWith","slice","toBuffer","v","undefined","Buffer","allocUnsafe","isBuffer","from","Array","isArray","Uint8Array","Error","BigInt","n","toString","length","toArray","normalize","input","buffer","msg","toLowerCase","eventID","types","sig","map","join","keccak256","methodID","parseTypeN","type","parseInt","exec","parseTypeNxM","tmp","parseTypeArray","match","parseNumber","arg","isHexPrefixed","parseSignature","args","method","split","retargs","params","encodeSingle","size","num","ret","i","lastIndexOf","JSON","parse","push","unshift","concat","zeros","setLengthRight","bitLength","toArrayLike","toTwos","mul","pow","decodeSingle","parsedType","data","offset","parseType","rawType","bytes","toNumber","decoded","subArray","memoryUsage","fromTwos","mod","isZero","div","isDynamic","rawEncode","values","output","headLength","forEach","value","cur","rawDecode","parsed","simpleEncode","prototype","call","arguments","simpleDecode","stringify","test","item","solidityHexValue","bitsize","subType","replace","arraySize","arrayValues","padding","bytesize","setLengthLeft","solidityPack","soliditySHA3","soliditySHA256","sha256","solidityRIPEMD160","ripemd160","isNumeric","c","fromSerpent","j","toSerpent","module","exports"],"sources":["../../src/abi/abi.js"],"sourcesContent":[null],"mappings":"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"}]}