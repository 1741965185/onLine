"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.parseUDCEvent = void 0;
const constants_1 = require("../constants");
const num_1 = require("./num");
function parseUDCEvent(txReceipt) {
    if (!txReceipt.events) {
        throw new Error('UDC emited event is empty');
    }
    const event = txReceipt.events.find((it) => (0, num_1.cleanHex)(it.from_address) === (0, num_1.cleanHex)(constants_1.UDC.ADDRESS)) || {
        data: [],
    };
    return {
        transaction_hash: txReceipt.transaction_hash,
        contract_address: event.data[0],
        address: event.data[0],
        deployer: event.data[1],
        unique: event.data[2],
        classHash: event.data[3],
        calldata_len: event.data[4],
        calldata: event.data.slice(5, 5 + parseInt(event.data[4], 16)),
        salt: event.data[event.data.length - 1],
    };
}
exports.parseUDCEvent = parseUDCEvent;
//# sourceMappingURL=events.js.map